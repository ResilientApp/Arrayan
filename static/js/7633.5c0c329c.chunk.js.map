{"version":3,"file":"static/js/7633.5c0c329c.chunk.js","mappings":"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","sources":["../node_modules/@tsparticles/engine/browser/Core/Canvas.js","../node_modules/@tsparticles/engine/browser/Core/Utils/EventListeners.js","../node_modules/@tsparticles/engine/browser/Core/Utils/InteractionManager.js","../node_modules/@tsparticles/engine/browser/Core/Utils/Point.js","../node_modules/@tsparticles/engine/browser/Core/Utils/QuadTree.js","../node_modules/@tsparticles/engine/browser/Core/Particles.js","../node_modules/@tsparticles/engine/browser/Core/Retina.js","../node_modules/@tsparticles/engine/browser/Core/Container.js"],"sourcesContent":["import { clear, drawParticle, drawParticlePlugin, drawPlugin, paintBase, paintImage } from \"../Utils/CanvasUtils.js\";\nimport { deepExtend, getLogger, safeMutationObserver } from \"../Utils/Utils.js\";\nimport { getStyleFromHsl, getStyleFromRgb, rangeColorToHsl, rangeColorToRgb } from \"../Utils/ColorUtils.js\";\nimport { generatedAttribute } from \"./Utils/Constants.js\";\nfunction setTransformValue(factor, newFactor, key) {\n    const newValue = newFactor[key], defaultValue = 1;\n    if (newValue !== undefined) {\n        factor[key] = (factor[key] ?? defaultValue) * newValue;\n    }\n}\nfunction setStyle(canvas, style, important = false) {\n    if (!style) {\n        return;\n    }\n    const element = canvas;\n    if (!element) {\n        return;\n    }\n    const elementStyle = element.style;\n    if (!elementStyle) {\n        return;\n    }\n    for (const key in style) {\n        const value = style[key];\n        if (!value) {\n            continue;\n        }\n        elementStyle.setProperty(key, value, important ? \"important\" : \"\");\n    }\n}\nexport class Canvas {\n    constructor(container) {\n        this.container = container;\n        this._applyPostDrawUpdaters = (particle) => {\n            for (const updater of this._postDrawUpdaters) {\n                updater.afterDraw?.(particle);\n            }\n        };\n        this._applyPreDrawUpdaters = (ctx, particle, radius, zOpacity, colorStyles, transform) => {\n            for (const updater of this._preDrawUpdaters) {\n                if (updater.getColorStyles) {\n                    const { fill, stroke } = updater.getColorStyles(particle, ctx, radius, zOpacity);\n                    if (fill) {\n                        colorStyles.fill = fill;\n                    }\n                    if (stroke) {\n                        colorStyles.stroke = stroke;\n                    }\n                }\n                if (updater.getTransformValues) {\n                    const updaterTransform = updater.getTransformValues(particle);\n                    for (const key in updaterTransform) {\n                        setTransformValue(transform, updaterTransform, key);\n                    }\n                }\n                updater.beforeDraw?.(particle);\n            }\n        };\n        this._applyResizePlugins = () => {\n            for (const plugin of this._resizePlugins) {\n                plugin.resize?.();\n            }\n        };\n        this._getPluginParticleColors = (particle) => {\n            let fColor, sColor;\n            for (const plugin of this._colorPlugins) {\n                if (!fColor && plugin.particleFillColor) {\n                    fColor = rangeColorToHsl(plugin.particleFillColor(particle));\n                }\n                if (!sColor && plugin.particleStrokeColor) {\n                    sColor = rangeColorToHsl(plugin.particleStrokeColor(particle));\n                }\n                if (fColor && sColor) {\n                    break;\n                }\n            }\n            return [fColor, sColor];\n        };\n        this._initCover = async () => {\n            const options = this.container.actualOptions, cover = options.backgroundMask.cover, color = cover.color;\n            if (color) {\n                const coverRgb = rangeColorToRgb(color);\n                if (coverRgb) {\n                    const coverColor = {\n                        ...coverRgb,\n                        a: cover.opacity,\n                    };\n                    this._coverColorStyle = getStyleFromRgb(coverColor, coverColor.a);\n                }\n            }\n            else {\n                await new Promise((resolve, reject) => {\n                    if (!cover.image) {\n                        return;\n                    }\n                    const img = document.createElement(\"img\");\n                    img.addEventListener(\"load\", () => {\n                        this._coverImage = {\n                            image: img,\n                            opacity: cover.opacity,\n                        };\n                        resolve();\n                    });\n                    img.addEventListener(\"error\", (evt) => {\n                        reject(evt.error);\n                    });\n                    img.src = cover.image;\n                });\n            }\n        };\n        this._initStyle = () => {\n            const element = this.element, options = this.container.actualOptions;\n            if (!element) {\n                return;\n            }\n            if (this._fullScreen) {\n                this._originalStyle = deepExtend({}, element.style);\n                this._setFullScreenStyle();\n            }\n            else {\n                this._resetOriginalStyle();\n            }\n            for (const key in options.style) {\n                if (!key || !options.style) {\n                    continue;\n                }\n                const value = options.style[key];\n                if (!value) {\n                    continue;\n                }\n                element.style.setProperty(key, value, \"important\");\n            }\n        };\n        this._initTrail = async () => {\n            const options = this.container.actualOptions, trail = options.particles.move.trail, trailFill = trail.fill;\n            if (!trail.enable) {\n                return;\n            }\n            const factorNumerator = 1, opacity = factorNumerator / trail.length;\n            if (trailFill.color) {\n                const fillColor = rangeColorToRgb(trailFill.color);\n                if (!fillColor) {\n                    return;\n                }\n                this._trailFill = {\n                    color: {\n                        ...fillColor,\n                    },\n                    opacity,\n                };\n            }\n            else {\n                await new Promise((resolve, reject) => {\n                    if (!trailFill.image) {\n                        return;\n                    }\n                    const img = document.createElement(\"img\");\n                    img.addEventListener(\"load\", () => {\n                        this._trailFill = {\n                            image: img,\n                            opacity,\n                        };\n                        resolve();\n                    });\n                    img.addEventListener(\"error\", (evt) => {\n                        reject(evt.error);\n                    });\n                    img.src = trailFill.image;\n                });\n            }\n        };\n        this._paintBase = (baseColor) => {\n            this.draw((ctx) => paintBase(ctx, this.size, baseColor));\n        };\n        this._paintImage = (image, opacity) => {\n            this.draw((ctx) => paintImage(ctx, this.size, image, opacity));\n        };\n        this._repairStyle = () => {\n            const element = this.element;\n            if (!element) {\n                return;\n            }\n            this._safeMutationObserver((observer) => observer.disconnect());\n            this._initStyle();\n            this.initBackground();\n            this._safeMutationObserver((observer) => observer.observe(element, { attributes: true }));\n        };\n        this._resetOriginalStyle = () => {\n            const element = this.element, originalStyle = this._originalStyle;\n            if (!(element && originalStyle)) {\n                return;\n            }\n            setStyle(element, originalStyle);\n        };\n        this._safeMutationObserver = (callback) => {\n            if (!this._mutationObserver) {\n                return;\n            }\n            callback(this._mutationObserver);\n        };\n        this._setFullScreenStyle = () => {\n            const element = this.element;\n            if (!element) {\n                return;\n            }\n            const radix = 10;\n            setStyle(element, {\n                position: \"fixed\",\n                zIndex: this.container.actualOptions.fullScreen.zIndex.toString(radix),\n                top: \"0\",\n                left: \"0\",\n                width: \"100%\",\n                height: \"100%\",\n            }, true);\n        };\n        this.size = {\n            height: 0,\n            width: 0,\n        };\n        this._context = null;\n        this._generated = false;\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        this._resizePlugins = [];\n        this._colorPlugins = [];\n    }\n    get _fullScreen() {\n        return this.container.actualOptions.fullScreen.enable;\n    }\n    clear() {\n        const options = this.container.actualOptions, trail = options.particles.move.trail, trailFill = this._trailFill, minimumLength = 0;\n        if (options.backgroundMask.enable) {\n            this.paint();\n        }\n        else if (trail.enable && trail.length > minimumLength && trailFill) {\n            if (trailFill.color) {\n                this._paintBase(getStyleFromRgb(trailFill.color, trailFill.opacity));\n            }\n            else if (trailFill.image) {\n                this._paintImage(trailFill.image, trailFill.opacity);\n            }\n        }\n        else if (options.clear) {\n            this.draw((ctx) => {\n                clear(ctx, this.size);\n            });\n        }\n    }\n    destroy() {\n        this.stop();\n        if (this._generated) {\n            const element = this.element;\n            element?.remove();\n        }\n        else {\n            this._resetOriginalStyle();\n        }\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        this._resizePlugins = [];\n        this._colorPlugins = [];\n    }\n    draw(cb) {\n        const ctx = this._context;\n        if (!ctx) {\n            return;\n        }\n        return cb(ctx);\n    }\n    drawAsync(cb) {\n        const ctx = this._context;\n        if (!ctx) {\n            return Promise.resolve(undefined);\n        }\n        return cb(ctx);\n    }\n    async drawParticle(particle, delta) {\n        if (particle.spawning || particle.destroyed) {\n            return;\n        }\n        const radius = particle.getRadius(), minimumSize = 0;\n        if (radius <= minimumSize) {\n            return;\n        }\n        const pfColor = particle.getFillColor(), psColor = particle.getStrokeColor() ?? pfColor;\n        let [fColor, sColor] = this._getPluginParticleColors(particle);\n        if (!fColor) {\n            fColor = pfColor;\n        }\n        if (!sColor) {\n            sColor = psColor;\n        }\n        if (!fColor && !sColor) {\n            return;\n        }\n        await this.drawAsync(async (ctx) => {\n            const container = this.container, options = container.actualOptions, zIndexOptions = particle.options.zIndex, zIndexFactorOffset = 1, zIndexFactor = zIndexFactorOffset - particle.zIndexFactor, zOpacityFactor = zIndexFactor ** zIndexOptions.opacityRate, defaultOpacity = 1, opacity = particle.bubble.opacity ?? particle.opacity?.value ?? defaultOpacity, strokeOpacity = particle.strokeOpacity ?? opacity, zOpacity = opacity * zOpacityFactor, zStrokeOpacity = strokeOpacity * zOpacityFactor, transform = {}, colorStyles = {\n                fill: fColor ? getStyleFromHsl(fColor, zOpacity) : undefined,\n            };\n            colorStyles.stroke = sColor ? getStyleFromHsl(sColor, zStrokeOpacity) : colorStyles.fill;\n            this._applyPreDrawUpdaters(ctx, particle, radius, zOpacity, colorStyles, transform);\n            await drawParticle({\n                container,\n                context: ctx,\n                particle,\n                delta,\n                colorStyles,\n                backgroundMask: options.backgroundMask.enable,\n                composite: options.backgroundMask.composite,\n                radius: radius * zIndexFactor ** zIndexOptions.sizeRate,\n                opacity: zOpacity,\n                shadow: particle.options.shadow,\n                transform,\n            });\n            this._applyPostDrawUpdaters(particle);\n        });\n    }\n    async drawParticlePlugin(plugin, particle, delta) {\n        await this.drawAsync((ctx) => drawParticlePlugin(ctx, plugin, particle, delta));\n    }\n    async drawPlugin(plugin, delta) {\n        await this.drawAsync((ctx) => drawPlugin(ctx, plugin, delta));\n    }\n    async init() {\n        this._safeMutationObserver((obs) => obs.disconnect());\n        this._mutationObserver = safeMutationObserver((records) => {\n            for (const record of records) {\n                if (record.type === \"attributes\" && record.attributeName === \"style\") {\n                    this._repairStyle();\n                }\n            }\n        });\n        this.resize();\n        this._initStyle();\n        await this._initCover();\n        try {\n            await this._initTrail();\n        }\n        catch (e) {\n            getLogger().error(e);\n        }\n        this.initBackground();\n        this._safeMutationObserver((obs) => {\n            if (!this.element) {\n                return;\n            }\n            obs.observe(this.element, { attributes: true });\n        });\n        this.initUpdaters();\n        this.initPlugins();\n        this.paint();\n    }\n    initBackground() {\n        const options = this.container.actualOptions, background = options.background, element = this.element;\n        if (!element) {\n            return;\n        }\n        const elementStyle = element.style;\n        if (!elementStyle) {\n            return;\n        }\n        if (background.color) {\n            const color = rangeColorToRgb(background.color);\n            elementStyle.backgroundColor = color ? getStyleFromRgb(color, background.opacity) : \"\";\n        }\n        else {\n            elementStyle.backgroundColor = \"\";\n        }\n        elementStyle.backgroundImage = background.image || \"\";\n        elementStyle.backgroundPosition = background.position || \"\";\n        elementStyle.backgroundRepeat = background.repeat || \"\";\n        elementStyle.backgroundSize = background.size || \"\";\n    }\n    initPlugins() {\n        this._resizePlugins = [];\n        for (const [, plugin] of this.container.plugins) {\n            if (plugin.resize) {\n                this._resizePlugins.push(plugin);\n            }\n            if (plugin.particleFillColor ?? plugin.particleStrokeColor) {\n                this._colorPlugins.push(plugin);\n            }\n        }\n    }\n    initUpdaters() {\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        for (const updater of this.container.particles.updaters) {\n            if (updater.afterDraw) {\n                this._postDrawUpdaters.push(updater);\n            }\n            if (updater.getColorStyles ?? updater.getTransformValues ?? updater.beforeDraw) {\n                this._preDrawUpdaters.push(updater);\n            }\n        }\n    }\n    loadCanvas(canvas) {\n        if (this._generated && this.element) {\n            this.element.remove();\n        }\n        this._generated =\n            canvas.dataset && generatedAttribute in canvas.dataset\n                ? canvas.dataset[generatedAttribute] === \"true\"\n                : this._generated;\n        this.element = canvas;\n        this.element.ariaHidden = \"true\";\n        this._originalStyle = deepExtend({}, this.element.style);\n        this.size.height = canvas.offsetHeight;\n        this.size.width = canvas.offsetWidth;\n        this._context = this.element.getContext(\"2d\");\n        this._safeMutationObserver((obs) => {\n            if (!this.element) {\n                return;\n            }\n            obs.observe(this.element, { attributes: true });\n        });\n        this.container.retina.init();\n        this.initBackground();\n    }\n    paint() {\n        const options = this.container.actualOptions;\n        this.draw((ctx) => {\n            if (options.backgroundMask.enable && options.backgroundMask.cover) {\n                clear(ctx, this.size);\n                if (this._coverImage) {\n                    this._paintImage(this._coverImage.image, this._coverImage.opacity);\n                }\n                else if (this._coverColorStyle) {\n                    this._paintBase(this._coverColorStyle);\n                }\n                else {\n                    this._paintBase();\n                }\n            }\n            else {\n                this._paintBase();\n            }\n        });\n    }\n    resize() {\n        if (!this.element) {\n            return false;\n        }\n        const container = this.container, pxRatio = container.retina.pixelRatio, size = container.canvas.size, newSize = {\n            width: this.element.offsetWidth * pxRatio,\n            height: this.element.offsetHeight * pxRatio,\n        };\n        if (newSize.height === size.height &&\n            newSize.width === size.width &&\n            newSize.height === this.element.height &&\n            newSize.width === this.element.width) {\n            return false;\n        }\n        const oldSize = { ...size };\n        this.element.width = size.width = this.element.offsetWidth * pxRatio;\n        this.element.height = size.height = this.element.offsetHeight * pxRatio;\n        if (this.container.started) {\n            container.particles.setResizeFactor({\n                width: size.width / oldSize.width,\n                height: size.height / oldSize.height,\n            });\n        }\n        return true;\n    }\n    stop() {\n        this._safeMutationObserver((obs) => obs.disconnect());\n        this._mutationObserver = undefined;\n        this.draw((ctx) => clear(ctx, this.size));\n    }\n    async windowResize() {\n        if (!this.element || !this.resize()) {\n            return;\n        }\n        const container = this.container, needsRefresh = container.updateActualOptions();\n        await container.particles.setDensity();\n        this._applyResizePlugins();\n        if (needsRefresh) {\n            await container.refresh();\n        }\n    }\n}\n","import { executeOnSingleOrMultiple, isBoolean, safeMatchMedia } from \"../../Utils/Utils.js\";\nimport { millisecondsToSeconds, mouseDownEvent, mouseLeaveEvent, mouseMoveEvent, mouseOutEvent, mouseUpEvent, resizeEvent, touchCancelEvent, touchEndEvent, touchMoveEvent, touchStartEvent, visibilityChangeEvent, } from \"./Constants.js\";\nconst double = 2;\nfunction manageListener(element, event, handler, add, options) {\n    if (add) {\n        let addOptions = { passive: true };\n        if (isBoolean(options)) {\n            addOptions.capture = options;\n        }\n        else if (options !== undefined) {\n            addOptions = options;\n        }\n        element.addEventListener(event, handler, addOptions);\n    }\n    else {\n        const removeOptions = options;\n        element.removeEventListener(event, handler, removeOptions);\n    }\n}\nexport class EventListeners {\n    constructor(container) {\n        this.container = container;\n        this._doMouseTouchClick = (e) => {\n            const container = this.container, options = container.actualOptions;\n            if (this._canPush) {\n                const mouseInteractivity = container.interactivity.mouse, mousePos = mouseInteractivity.position;\n                if (!mousePos) {\n                    return;\n                }\n                mouseInteractivity.clickPosition = { ...mousePos };\n                mouseInteractivity.clickTime = new Date().getTime();\n                const onClick = options.interactivity.events.onClick;\n                executeOnSingleOrMultiple(onClick.mode, (mode) => this.container.handleClickMode(mode));\n            }\n            if (e.type === \"touchend\") {\n                const touchDelay = 500;\n                setTimeout(() => this._mouseTouchFinish(), touchDelay);\n            }\n        };\n        this._handleThemeChange = (e) => {\n            const mediaEvent = e, container = this.container, options = container.options, defaultThemes = options.defaultThemes, themeName = mediaEvent.matches ? defaultThemes.dark : defaultThemes.light, theme = options.themes.find((theme) => theme.name === themeName);\n            if (theme && theme.default.auto) {\n                void container.loadTheme(themeName);\n            }\n        };\n        this._handleVisibilityChange = () => {\n            const container = this.container, options = container.actualOptions;\n            this._mouseTouchFinish();\n            if (!options.pauseOnBlur) {\n                return;\n            }\n            if (document && document.hidden) {\n                container.pageHidden = true;\n                container.pause();\n            }\n            else {\n                container.pageHidden = false;\n                if (container.animationStatus) {\n                    container.play(true);\n                }\n                else {\n                    container.draw(true);\n                }\n            }\n        };\n        this._handleWindowResize = () => {\n            if (this._resizeTimeout) {\n                clearTimeout(this._resizeTimeout);\n                delete this._resizeTimeout;\n            }\n            const handleResize = async () => {\n                const canvas = this.container.canvas;\n                await canvas?.windowResize();\n            };\n            this._resizeTimeout = setTimeout(() => void handleResize(), this.container.actualOptions.interactivity.events.resize.delay * millisecondsToSeconds);\n        };\n        this._manageInteractivityListeners = (mouseLeaveTmpEvent, add) => {\n            const handlers = this._handlers, container = this.container, options = container.actualOptions;\n            const interactivityEl = container.interactivity.element;\n            if (!interactivityEl) {\n                return;\n            }\n            const html = interactivityEl, canvasEl = container.canvas.element;\n            if (canvasEl) {\n                canvasEl.style.pointerEvents = html === canvasEl ? \"initial\" : \"none\";\n            }\n            if (!(options.interactivity.events.onHover.enable || options.interactivity.events.onClick.enable)) {\n                return;\n            }\n            manageListener(interactivityEl, mouseMoveEvent, handlers.mouseMove, add);\n            manageListener(interactivityEl, touchStartEvent, handlers.touchStart, add);\n            manageListener(interactivityEl, touchMoveEvent, handlers.touchMove, add);\n            if (!options.interactivity.events.onClick.enable) {\n                manageListener(interactivityEl, touchEndEvent, handlers.touchEnd, add);\n            }\n            else {\n                manageListener(interactivityEl, touchEndEvent, handlers.touchEndClick, add);\n                manageListener(interactivityEl, mouseUpEvent, handlers.mouseUp, add);\n                manageListener(interactivityEl, mouseDownEvent, handlers.mouseDown, add);\n            }\n            manageListener(interactivityEl, mouseLeaveTmpEvent, handlers.mouseLeave, add);\n            manageListener(interactivityEl, touchCancelEvent, handlers.touchCancel, add);\n        };\n        this._manageListeners = (add) => {\n            const handlers = this._handlers, container = this.container, options = container.actualOptions, detectType = options.interactivity.detectsOn, canvasEl = container.canvas.element;\n            let mouseLeaveTmpEvent = mouseLeaveEvent;\n            if (detectType === \"window\") {\n                container.interactivity.element = window;\n                mouseLeaveTmpEvent = mouseOutEvent;\n            }\n            else if (detectType === \"parent\" && canvasEl) {\n                container.interactivity.element = canvasEl.parentElement ?? canvasEl.parentNode;\n            }\n            else {\n                container.interactivity.element = canvasEl;\n            }\n            this._manageMediaMatch(add);\n            this._manageResize(add);\n            this._manageInteractivityListeners(mouseLeaveTmpEvent, add);\n            if (document) {\n                manageListener(document, visibilityChangeEvent, handlers.visibilityChange, add, false);\n            }\n        };\n        this._manageMediaMatch = (add) => {\n            const handlers = this._handlers, mediaMatch = safeMatchMedia(\"(prefers-color-scheme: dark)\");\n            if (!mediaMatch) {\n                return;\n            }\n            if (mediaMatch.addEventListener !== undefined) {\n                manageListener(mediaMatch, \"change\", handlers.themeChange, add);\n                return;\n            }\n            if (mediaMatch.addListener === undefined) {\n                return;\n            }\n            if (add) {\n                mediaMatch.addListener(handlers.oldThemeChange);\n            }\n            else {\n                mediaMatch.removeListener(handlers.oldThemeChange);\n            }\n        };\n        this._manageResize = (add) => {\n            const handlers = this._handlers, container = this.container, options = container.actualOptions;\n            if (!options.interactivity.events.resize) {\n                return;\n            }\n            if (typeof ResizeObserver === \"undefined\") {\n                manageListener(window, resizeEvent, handlers.resize, add);\n                return;\n            }\n            const canvasEl = container.canvas.element;\n            if (this._resizeObserver && !add) {\n                if (canvasEl) {\n                    this._resizeObserver.unobserve(canvasEl);\n                }\n                this._resizeObserver.disconnect();\n                delete this._resizeObserver;\n            }\n            else if (!this._resizeObserver && add && canvasEl) {\n                this._resizeObserver = new ResizeObserver((entries) => {\n                    const entry = entries.find((e) => e.target === canvasEl);\n                    if (!entry) {\n                        return;\n                    }\n                    this._handleWindowResize();\n                });\n                this._resizeObserver.observe(canvasEl);\n            }\n        };\n        this._mouseDown = () => {\n            const { interactivity } = this.container;\n            if (!interactivity) {\n                return;\n            }\n            const { mouse } = interactivity;\n            mouse.clicking = true;\n            mouse.downPosition = mouse.position;\n        };\n        this._mouseTouchClick = (e) => {\n            const container = this.container, options = container.actualOptions, { mouse } = container.interactivity;\n            mouse.inside = true;\n            let handled = false;\n            const mousePosition = mouse.position;\n            if (!mousePosition || !options.interactivity.events.onClick.enable) {\n                return;\n            }\n            for (const [, plugin] of container.plugins) {\n                if (!plugin.clickPositionValid) {\n                    continue;\n                }\n                handled = plugin.clickPositionValid(mousePosition);\n                if (handled) {\n                    break;\n                }\n            }\n            if (!handled) {\n                this._doMouseTouchClick(e);\n            }\n            mouse.clicking = false;\n        };\n        this._mouseTouchFinish = () => {\n            const interactivity = this.container.interactivity;\n            if (!interactivity) {\n                return;\n            }\n            const mouse = interactivity.mouse;\n            delete mouse.position;\n            delete mouse.clickPosition;\n            delete mouse.downPosition;\n            interactivity.status = mouseLeaveEvent;\n            mouse.inside = false;\n            mouse.clicking = false;\n        };\n        this._mouseTouchMove = (e) => {\n            const container = this.container, options = container.actualOptions, interactivity = container.interactivity, canvasEl = container.canvas.element;\n            if (!interactivity?.element) {\n                return;\n            }\n            interactivity.mouse.inside = true;\n            let pos;\n            if (e.type.startsWith(\"pointer\")) {\n                this._canPush = true;\n                const mouseEvent = e;\n                if (interactivity.element === window) {\n                    if (canvasEl) {\n                        const clientRect = canvasEl.getBoundingClientRect();\n                        pos = {\n                            x: mouseEvent.clientX - clientRect.left,\n                            y: mouseEvent.clientY - clientRect.top,\n                        };\n                    }\n                }\n                else if (options.interactivity.detectsOn === \"parent\") {\n                    const source = mouseEvent.target, target = mouseEvent.currentTarget;\n                    if (source && target && canvasEl) {\n                        const sourceRect = source.getBoundingClientRect(), targetRect = target.getBoundingClientRect(), canvasRect = canvasEl.getBoundingClientRect();\n                        pos = {\n                            x: mouseEvent.offsetX + double * sourceRect.left - (targetRect.left + canvasRect.left),\n                            y: mouseEvent.offsetY + double * sourceRect.top - (targetRect.top + canvasRect.top),\n                        };\n                    }\n                    else {\n                        pos = {\n                            x: mouseEvent.offsetX ?? mouseEvent.clientX,\n                            y: mouseEvent.offsetY ?? mouseEvent.clientY,\n                        };\n                    }\n                }\n                else if (mouseEvent.target === canvasEl) {\n                    pos = {\n                        x: mouseEvent.offsetX ?? mouseEvent.clientX,\n                        y: mouseEvent.offsetY ?? mouseEvent.clientY,\n                    };\n                }\n            }\n            else {\n                this._canPush = e.type !== \"touchmove\";\n                if (canvasEl) {\n                    const touchEvent = e, lengthOffset = 1, lastTouch = touchEvent.touches[touchEvent.touches.length - lengthOffset], canvasRect = canvasEl.getBoundingClientRect(), defaultCoordinate = 0;\n                    pos = {\n                        x: lastTouch.clientX - (canvasRect.left ?? defaultCoordinate),\n                        y: lastTouch.clientY - (canvasRect.top ?? defaultCoordinate),\n                    };\n                }\n            }\n            const pxRatio = container.retina.pixelRatio;\n            if (pos) {\n                pos.x *= pxRatio;\n                pos.y *= pxRatio;\n            }\n            interactivity.mouse.position = pos;\n            interactivity.status = mouseMoveEvent;\n        };\n        this._touchEnd = (e) => {\n            const evt = e, touches = Array.from(evt.changedTouches);\n            for (const touch of touches) {\n                this._touches.delete(touch.identifier);\n            }\n            this._mouseTouchFinish();\n        };\n        this._touchEndClick = (e) => {\n            const evt = e, touches = Array.from(evt.changedTouches);\n            for (const touch of touches) {\n                this._touches.delete(touch.identifier);\n            }\n            this._mouseTouchClick(e);\n        };\n        this._touchStart = (e) => {\n            const evt = e, touches = Array.from(evt.changedTouches);\n            for (const touch of touches) {\n                this._touches.set(touch.identifier, performance.now());\n            }\n            this._mouseTouchMove(e);\n        };\n        this._canPush = true;\n        this._touches = new Map();\n        this._handlers = {\n            mouseDown: () => this._mouseDown(),\n            mouseLeave: () => this._mouseTouchFinish(),\n            mouseMove: (e) => this._mouseTouchMove(e),\n            mouseUp: (e) => this._mouseTouchClick(e),\n            touchStart: (e) => this._touchStart(e),\n            touchMove: (e) => this._mouseTouchMove(e),\n            touchEnd: (e) => this._touchEnd(e),\n            touchCancel: (e) => this._touchEnd(e),\n            touchEndClick: (e) => this._touchEndClick(e),\n            visibilityChange: () => this._handleVisibilityChange(),\n            themeChange: (e) => this._handleThemeChange(e),\n            oldThemeChange: (e) => this._handleThemeChange(e),\n            resize: () => {\n                this._handleWindowResize();\n            },\n        };\n    }\n    addListeners() {\n        this._manageListeners(true);\n    }\n    removeListeners() {\n        this._manageListeners(false);\n    }\n}\n","export class InteractionManager {\n    constructor(engine, container) {\n        this.container = container;\n        this._engine = engine;\n        this._interactors = [];\n        this._externalInteractors = [];\n        this._particleInteractors = [];\n    }\n    async externalInteract(delta) {\n        for (const interactor of this._externalInteractors) {\n            if (interactor.isEnabled()) {\n                await interactor.interact(delta);\n            }\n        }\n    }\n    handleClickMode(mode) {\n        for (const interactor of this._externalInteractors) {\n            interactor.handleClickMode?.(mode);\n        }\n    }\n    async init() {\n        this._interactors = await this._engine.getInteractors(this.container, true);\n        this._externalInteractors = [];\n        this._particleInteractors = [];\n        for (const interactor of this._interactors) {\n            switch (interactor.type) {\n                case \"external\":\n                    this._externalInteractors.push(interactor);\n                    break;\n                case \"particles\":\n                    this._particleInteractors.push(interactor);\n                    break;\n            }\n            interactor.init();\n        }\n    }\n    async particlesInteract(particle, delta) {\n        for (const interactor of this._externalInteractors) {\n            interactor.clear(particle, delta);\n        }\n        for (const interactor of this._particleInteractors) {\n            if (interactor.isEnabled(particle)) {\n                await interactor.interact(particle, delta);\n            }\n        }\n    }\n    reset(particle) {\n        for (const interactor of this._externalInteractors) {\n            if (interactor.isEnabled()) {\n                interactor.reset(particle);\n            }\n        }\n        for (const interactor of this._particleInteractors) {\n            if (interactor.isEnabled(particle)) {\n                interactor.reset(particle);\n            }\n        }\n    }\n}\n","export class Point {\n    constructor(position, particle) {\n        this.position = position;\n        this.particle = particle;\n    }\n}\n","import { Circle } from \"./Circle.js\";\nimport { Rectangle } from \"./Rectangle.js\";\nimport { getDistance } from \"../../Utils/NumberUtils.js\";\nconst half = 0.5, double = 2, subdivideCount = 4;\nexport class QuadTree {\n    constructor(rectangle, capacity) {\n        this.rectangle = rectangle;\n        this.capacity = capacity;\n        this._subdivide = () => {\n            const { x, y } = this.rectangle.position, { width, height } = this.rectangle.size, { capacity } = this;\n            for (let i = 0; i < subdivideCount; i++) {\n                const fixedIndex = i % double;\n                this._subs.push(new QuadTree(new Rectangle(x + width * half * fixedIndex, y + height * half * (Math.round(i * half) - fixedIndex), width * half, height * half), capacity));\n            }\n            this._divided = true;\n        };\n        this._points = [];\n        this._divided = false;\n        this._subs = [];\n    }\n    insert(point) {\n        if (!this.rectangle.contains(point.position)) {\n            return false;\n        }\n        if (this._points.length < this.capacity) {\n            this._points.push(point);\n            return true;\n        }\n        if (!this._divided) {\n            this._subdivide();\n        }\n        return this._subs.some((sub) => sub.insert(point));\n    }\n    query(range, check, found) {\n        const res = found ?? [];\n        if (!range.intersects(this.rectangle)) {\n            return [];\n        }\n        for (const p of this._points) {\n            if (!range.contains(p.position) &&\n                getDistance(range.position, p.position) > p.particle.getRadius() &&\n                (!check || check(p.particle))) {\n                continue;\n            }\n            res.push(p.particle);\n        }\n        if (this._divided) {\n            for (const sub of this._subs) {\n                sub.query(range, check, res);\n            }\n        }\n        return res;\n    }\n    queryCircle(position, radius, check) {\n        return this.query(new Circle(position.x, position.y, radius), check);\n    }\n    queryRectangle(position, size, check) {\n        return this.query(new Rectangle(position.x, position.y, size.width, size.height), check);\n    }\n}\n","import { getLogger, getPosition } from \"../Utils/Utils.js\";\nimport { InteractionManager } from \"./Utils/InteractionManager.js\";\nimport { Point } from \"./Utils/Point.js\";\nimport { QuadTree } from \"./Utils/QuadTree.js\";\nimport { Rectangle } from \"./Utils/Rectangle.js\";\nimport { errorPrefix } from \"./Utils/Constants.js\";\nconst qTreeCapacity = 4, squareExp = 2, defaultRemoveQuantity = 1;\nconst qTreeRectangle = (canvasSize) => {\n    const { height, width } = canvasSize, posOffset = -0.25, sizeFactor = 1.5;\n    return new Rectangle(posOffset * width, posOffset * height, sizeFactor * width, sizeFactor * height);\n};\nexport class Particles {\n    constructor(engine, container) {\n        this._addToPool = (...particles) => {\n            for (const particle of particles) {\n                this._pool.push(particle);\n            }\n        };\n        this._applyDensity = async (options, manualCount, group) => {\n            const numberOptions = options.number;\n            if (!options.number.density?.enable) {\n                if (group === undefined) {\n                    this._limit = numberOptions.limit.value;\n                }\n                else if (numberOptions.limit) {\n                    this._groupLimits.set(group, numberOptions.limit.value);\n                }\n                return;\n            }\n            const densityFactor = this._initDensityFactor(numberOptions.density), optParticlesNumber = numberOptions.value, minLimit = 0, optParticlesLimit = numberOptions.limit.value > minLimit ? numberOptions.limit.value : optParticlesNumber, particlesNumber = Math.min(optParticlesNumber, optParticlesLimit) * densityFactor + manualCount, particlesCount = Math.min(this.count, this.filter((t) => t.group === group).length);\n            if (group === undefined) {\n                this._limit = numberOptions.limit.value * densityFactor;\n            }\n            else {\n                this._groupLimits.set(group, numberOptions.limit.value * densityFactor);\n            }\n            if (particlesCount < particlesNumber) {\n                await this.push(Math.abs(particlesNumber - particlesCount), undefined, options, group);\n            }\n            else if (particlesCount > particlesNumber) {\n                this.removeQuantity(particlesCount - particlesNumber, group);\n            }\n        };\n        this._initDensityFactor = (densityOptions) => {\n            const container = this._container, defaultFactor = 1;\n            if (!container.canvas.element || !densityOptions.enable) {\n                return defaultFactor;\n            }\n            const canvas = container.canvas.element, pxRatio = container.retina.pixelRatio;\n            return (canvas.width * canvas.height) / (densityOptions.height * densityOptions.width * pxRatio ** squareExp);\n        };\n        this._pushParticle = async (position, overrideOptions, group, initializer) => {\n            try {\n                let particle = this._pool.pop();\n                if (!particle) {\n                    const { Particle } = await import(\"./Particle.js\");\n                    particle = new Particle(this._engine, this._container);\n                }\n                await particle.init(this._nextId, position, overrideOptions, group);\n                let canAdd = true;\n                if (initializer) {\n                    canAdd = initializer(particle);\n                }\n                if (!canAdd) {\n                    return;\n                }\n                this._array.push(particle);\n                this._zArray.push(particle);\n                this._nextId++;\n                this._engine.dispatchEvent(\"particleAdded\", {\n                    container: this._container,\n                    data: {\n                        particle,\n                    },\n                });\n                return particle;\n            }\n            catch (e) {\n                getLogger().warning(`${errorPrefix} adding particle: ${e}`);\n            }\n        };\n        this._removeParticle = (index, group, override) => {\n            const particle = this._array[index];\n            if (!particle || particle.group !== group) {\n                return false;\n            }\n            const zIdx = this._zArray.indexOf(particle), deleteCount = 1;\n            this._array.splice(index, deleteCount);\n            this._zArray.splice(zIdx, deleteCount);\n            particle.destroy(override);\n            this._engine.dispatchEvent(\"particleRemoved\", {\n                container: this._container,\n                data: {\n                    particle,\n                },\n            });\n            this._addToPool(particle);\n            return true;\n        };\n        this._engine = engine;\n        this._container = container;\n        this._nextId = 0;\n        this._array = [];\n        this._zArray = [];\n        this._pool = [];\n        this._limit = 0;\n        this._groupLimits = new Map();\n        this._needsSort = false;\n        this._lastZIndex = 0;\n        this._interactionManager = new InteractionManager(engine, container);\n        this._pluginsInitialized = false;\n        const canvasSize = container.canvas.size;\n        this.quadTree = new QuadTree(qTreeRectangle(canvasSize), qTreeCapacity);\n        this.movers = [];\n        this.updaters = [];\n    }\n    get count() {\n        return this._array.length;\n    }\n    async addManualParticles() {\n        const container = this._container, options = container.actualOptions;\n        for (const particle of options.manualParticles) {\n            await this.addParticle(particle.position ? getPosition(particle.position, container.canvas.size) : undefined, particle.options);\n        }\n    }\n    async addParticle(position, overrideOptions, group, initializer) {\n        const limitOptions = this._container.actualOptions.particles.number.limit, limit = group === undefined ? this._limit : this._groupLimits.get(group) ?? this._limit, currentCount = this.count, minLimit = 0;\n        if (limit > minLimit) {\n            if (limitOptions.mode === \"delete\") {\n                const countOffset = 1, minCount = 0, countToRemove = currentCount + countOffset - limit;\n                if (countToRemove > minCount) {\n                    this.removeQuantity(countToRemove);\n                }\n            }\n            else if (limitOptions.mode === \"wait\") {\n                if (currentCount >= limit) {\n                    return;\n                }\n            }\n        }\n        return await this._pushParticle(position, overrideOptions, group, initializer);\n    }\n    clear() {\n        this._array = [];\n        this._zArray = [];\n        this._pluginsInitialized = false;\n    }\n    destroy() {\n        this._array = [];\n        this._zArray = [];\n        this.movers = [];\n        this.updaters = [];\n    }\n    async draw(delta) {\n        const container = this._container, canvas = container.canvas;\n        canvas.clear();\n        await this.update(delta);\n        for (const [, plugin] of container.plugins) {\n            await canvas.drawPlugin(plugin, delta);\n        }\n        for (const p of this._zArray) {\n            await p.draw(delta);\n        }\n    }\n    filter(condition) {\n        return this._array.filter(condition);\n    }\n    find(condition) {\n        return this._array.find(condition);\n    }\n    get(index) {\n        return this._array[index];\n    }\n    handleClickMode(mode) {\n        this._interactionManager.handleClickMode(mode);\n    }\n    async init() {\n        const container = this._container, options = container.actualOptions;\n        this._lastZIndex = 0;\n        this._needsSort = false;\n        await this.initPlugins();\n        let handled = false;\n        for (const [, plugin] of container.plugins) {\n            if (plugin.particlesInitialization !== undefined) {\n                handled = plugin.particlesInitialization();\n            }\n            if (handled) {\n                break;\n            }\n        }\n        await this.addManualParticles();\n        if (!handled) {\n            const particlesOptions = options.particles, groups = particlesOptions.groups;\n            for (const group in groups) {\n                const groupOptions = groups[group];\n                for (let i = this.count, j = 0; j < groupOptions.number?.value && i < particlesOptions.number.value; i++, j++) {\n                    await this.addParticle(undefined, groupOptions, group);\n                }\n            }\n            for (let i = this.count; i < particlesOptions.number.value; i++) {\n                await this.addParticle();\n            }\n        }\n    }\n    async initPlugins() {\n        if (this._pluginsInitialized) {\n            return;\n        }\n        const container = this._container;\n        this.movers = await this._engine.getMovers(container, true);\n        this.updaters = await this._engine.getUpdaters(container, true);\n        await this._interactionManager.init();\n        for (const [, pathGenerator] of container.pathGenerators) {\n            await pathGenerator.init(container);\n        }\n    }\n    async push(nb, mouse, overrideOptions, group) {\n        for (let i = 0; i < nb; i++) {\n            await this.addParticle(mouse?.position, overrideOptions, group);\n        }\n    }\n    async redraw() {\n        this.clear();\n        await this.init();\n        await this.draw({ value: 0, factor: 0 });\n    }\n    remove(particle, group, override) {\n        this.removeAt(this._array.indexOf(particle), undefined, group, override);\n    }\n    removeAt(index, quantity = defaultRemoveQuantity, group, override) {\n        const minIndex = 0;\n        if (index < minIndex || index > this.count) {\n            return;\n        }\n        let deleted = 0;\n        for (let i = index; deleted < quantity && i < this.count; i++) {\n            if (this._removeParticle(i--, group, override)) {\n                deleted++;\n            }\n        }\n    }\n    removeQuantity(quantity, group) {\n        const defaultIndex = 0;\n        this.removeAt(defaultIndex, quantity, group);\n    }\n    async setDensity() {\n        const options = this._container.actualOptions, groups = options.particles.groups, manualCount = 0;\n        for (const group in groups) {\n            await this._applyDensity(groups[group], manualCount, group);\n        }\n        await this._applyDensity(options.particles, options.manualParticles.length);\n    }\n    setLastZIndex(zIndex) {\n        this._lastZIndex = zIndex;\n        this._needsSort = this._needsSort || this._lastZIndex < zIndex;\n    }\n    setResizeFactor(factor) {\n        this._resizeFactor = factor;\n    }\n    async update(delta) {\n        const container = this._container, particlesToDelete = new Set();\n        this.quadTree = new QuadTree(qTreeRectangle(container.canvas.size), qTreeCapacity);\n        for (const [, pathGenerator] of container.pathGenerators) {\n            pathGenerator.update();\n        }\n        for (const [, plugin] of container.plugins) {\n            await plugin.update?.(delta);\n        }\n        const resizeFactor = this._resizeFactor;\n        for (const particle of this._array) {\n            if (resizeFactor && !particle.ignoresResizeRatio) {\n                particle.position.x *= resizeFactor.width;\n                particle.position.y *= resizeFactor.height;\n                particle.initialPosition.x *= resizeFactor.width;\n                particle.initialPosition.y *= resizeFactor.height;\n            }\n            particle.ignoresResizeRatio = false;\n            this._interactionManager.reset(particle);\n            for (const [, plugin] of this._container.plugins) {\n                if (particle.destroyed) {\n                    break;\n                }\n                plugin.particleUpdate?.(particle, delta);\n            }\n            for (const mover of this.movers) {\n                if (mover.isEnabled(particle)) {\n                    await mover.move(particle, delta);\n                }\n            }\n            if (particle.destroyed) {\n                particlesToDelete.add(particle);\n                continue;\n            }\n            this.quadTree.insert(new Point(particle.getPosition(), particle));\n        }\n        if (particlesToDelete.size) {\n            const checkDelete = (p) => !particlesToDelete.has(p);\n            this._array = this.filter(checkDelete);\n            this._zArray = this._zArray.filter(checkDelete);\n            for (const particle of particlesToDelete) {\n                this._engine.dispatchEvent(\"particleRemoved\", {\n                    container: this._container,\n                    data: {\n                        particle,\n                    },\n                });\n            }\n            this._addToPool(...particlesToDelete);\n        }\n        await this._interactionManager.externalInteract(delta);\n        for (const particle of this._array) {\n            for (const updater of this.updaters) {\n                await updater.update(particle, delta);\n            }\n            if (!particle.destroyed && !particle.spawning) {\n                await this._interactionManager.particlesInteract(particle, delta);\n            }\n        }\n        delete this._resizeFactor;\n        if (this._needsSort) {\n            const zArray = this._zArray;\n            zArray.sort((a, b) => b.position.z - a.position.z || a.id - b.id);\n            const lengthOffset = 1;\n            this._lastZIndex = zArray[zArray.length - lengthOffset].position.z;\n            this._needsSort = false;\n        }\n    }\n}\n","import { getRangeValue } from \"../Utils/NumberUtils.js\";\nimport { isSsr } from \"../Utils/Utils.js\";\nconst defaultRatio = 1, defaultReduceFactor = 1;\nexport class Retina {\n    constructor(container) {\n        this.container = container;\n        this.pixelRatio = defaultRatio;\n        this.reduceFactor = defaultReduceFactor;\n    }\n    init() {\n        const container = this.container, options = container.actualOptions;\n        this.pixelRatio = !options.detectRetina || isSsr() ? defaultRatio : window.devicePixelRatio;\n        this.reduceFactor = defaultReduceFactor;\n        const ratio = this.pixelRatio, canvas = container.canvas;\n        if (canvas.element) {\n            const element = canvas.element;\n            canvas.size.width = element.offsetWidth * ratio;\n            canvas.size.height = element.offsetHeight * ratio;\n        }\n        const particles = options.particles, moveOptions = particles.move;\n        this.maxSpeed = getRangeValue(moveOptions.gravity.maxSpeed) * ratio;\n        this.sizeAnimationSpeed = getRangeValue(particles.size.animation.speed) * ratio;\n    }\n    initParticle(particle) {\n        const options = particle.options, ratio = this.pixelRatio, moveOptions = options.move, moveDistance = moveOptions.distance, props = particle.retina;\n        props.moveDrift = getRangeValue(moveOptions.drift) * ratio;\n        props.moveSpeed = getRangeValue(moveOptions.speed) * ratio;\n        props.sizeAnimationSpeed = getRangeValue(options.size.animation.speed) * ratio;\n        const maxDistance = props.maxDistance;\n        maxDistance.horizontal = moveDistance.horizontal !== undefined ? moveDistance.horizontal * ratio : undefined;\n        maxDistance.vertical = moveDistance.vertical !== undefined ? moveDistance.vertical * ratio : undefined;\n        props.maxSpeed = getRangeValue(moveOptions.gravity.maxSpeed) * ratio;\n    }\n}\n","import { errorPrefix, millisecondsToSeconds } from \"./Utils/Constants.js\";\nimport { getLogger, safeIntersectionObserver } from \"../Utils/Utils.js\";\nimport { Canvas } from \"./Canvas.js\";\nimport { EventListeners } from \"./Utils/EventListeners.js\";\nimport { Options } from \"../Options/Classes/Options.js\";\nimport { Particles } from \"./Particles.js\";\nimport { Retina } from \"./Retina.js\";\nimport { getRangeValue } from \"../Utils/NumberUtils.js\";\nimport { loadOptions } from \"../Utils/OptionsUtils.js\";\nfunction guardCheck(container) {\n    return container && !container.destroyed;\n}\nconst defaultFps = 60;\nfunction initDelta(value, fpsLimit = defaultFps, smooth = false) {\n    return {\n        value,\n        factor: smooth ? defaultFps / fpsLimit : (defaultFps * value) / millisecondsToSeconds,\n    };\n}\nfunction loadContainerOptions(engine, container, ...sourceOptionsArr) {\n    const options = new Options(engine, container);\n    loadOptions(options, ...sourceOptionsArr);\n    return options;\n}\nexport class Container {\n    constructor(engine, id, sourceOptions) {\n        this._intersectionManager = (entries) => {\n            if (!guardCheck(this) || !this.actualOptions.pauseOnOutsideViewport) {\n                return;\n            }\n            for (const entry of entries) {\n                if (entry.target !== this.interactivity.element) {\n                    continue;\n                }\n                if (entry.isIntersecting) {\n                    this.play();\n                }\n                else {\n                    this.pause();\n                }\n            }\n        };\n        this._nextFrame = async (timestamp) => {\n            try {\n                if (!this._smooth &&\n                    this._lastFrameTime !== undefined &&\n                    timestamp < this._lastFrameTime + millisecondsToSeconds / this.fpsLimit) {\n                    this.draw(false);\n                    return;\n                }\n                this._lastFrameTime ??= timestamp;\n                const delta = initDelta(timestamp - this._lastFrameTime, this.fpsLimit, this._smooth);\n                this.addLifeTime(delta.value);\n                this._lastFrameTime = timestamp;\n                if (delta.value > millisecondsToSeconds) {\n                    this.draw(false);\n                    return;\n                }\n                await this.particles.draw(delta);\n                if (!this.alive()) {\n                    this.destroy();\n                    return;\n                }\n                if (this.animationStatus) {\n                    this.draw(false);\n                }\n            }\n            catch (e) {\n                getLogger().error(`${errorPrefix} in animation loop`, e);\n            }\n        };\n        this._engine = engine;\n        this.id = Symbol(id);\n        this.fpsLimit = 120;\n        this._smooth = false;\n        this._delay = 0;\n        this._duration = 0;\n        this._lifeTime = 0;\n        this._firstStart = true;\n        this.started = false;\n        this.destroyed = false;\n        this._paused = true;\n        this._lastFrameTime = 0;\n        this.zLayers = 100;\n        this.pageHidden = false;\n        this._sourceOptions = sourceOptions;\n        this._initialSourceOptions = sourceOptions;\n        this.retina = new Retina(this);\n        this.canvas = new Canvas(this);\n        this.particles = new Particles(this._engine, this);\n        this.pathGenerators = new Map();\n        this.interactivity = {\n            mouse: {\n                clicking: false,\n                inside: false,\n            },\n        };\n        this.plugins = new Map();\n        this.effectDrawers = new Map();\n        this.shapeDrawers = new Map();\n        this._options = loadContainerOptions(this._engine, this);\n        this.actualOptions = loadContainerOptions(this._engine, this);\n        this._eventListeners = new EventListeners(this);\n        this._intersectionObserver = safeIntersectionObserver((entries) => this._intersectionManager(entries));\n        this._engine.dispatchEvent(\"containerBuilt\", { container: this });\n    }\n    get animationStatus() {\n        return !this._paused && !this.pageHidden && guardCheck(this);\n    }\n    get options() {\n        return this._options;\n    }\n    get sourceOptions() {\n        return this._sourceOptions;\n    }\n    addClickHandler(callback) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        const el = this.interactivity.element;\n        if (!el) {\n            return;\n        }\n        const clickOrTouchHandler = (e, pos, radius) => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            const pxRatio = this.retina.pixelRatio, posRetina = {\n                x: pos.x * pxRatio,\n                y: pos.y * pxRatio,\n            }, particles = this.particles.quadTree.queryCircle(posRetina, radius * pxRatio);\n            callback(e, particles);\n        };\n        const clickHandler = (e) => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            const mouseEvent = e, pos = {\n                x: mouseEvent.offsetX || mouseEvent.clientX,\n                y: mouseEvent.offsetY || mouseEvent.clientY,\n            }, radius = 1;\n            clickOrTouchHandler(e, pos, radius);\n        };\n        const touchStartHandler = () => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            touched = true;\n            touchMoved = false;\n        };\n        const touchMoveHandler = () => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            touchMoved = true;\n        };\n        const touchEndHandler = (e) => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            if (touched && !touchMoved) {\n                const touchEvent = e;\n                const lengthOffset = 1;\n                let lastTouch = touchEvent.touches[touchEvent.touches.length - lengthOffset];\n                if (!lastTouch) {\n                    lastTouch = touchEvent.changedTouches[touchEvent.changedTouches.length - lengthOffset];\n                    if (!lastTouch) {\n                        return;\n                    }\n                }\n                const element = this.canvas.element, canvasRect = element ? element.getBoundingClientRect() : undefined, minCoordinate = 0, pos = {\n                    x: lastTouch.clientX - (canvasRect ? canvasRect.left : minCoordinate),\n                    y: lastTouch.clientY - (canvasRect ? canvasRect.top : minCoordinate),\n                };\n                clickOrTouchHandler(e, pos, Math.max(lastTouch.radiusX, lastTouch.radiusY));\n            }\n            touched = false;\n            touchMoved = false;\n        };\n        const touchCancelHandler = () => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            touched = false;\n            touchMoved = false;\n        };\n        let touched = false, touchMoved = false;\n        el.addEventListener(\"click\", clickHandler);\n        el.addEventListener(\"touchstart\", touchStartHandler);\n        el.addEventListener(\"touchmove\", touchMoveHandler);\n        el.addEventListener(\"touchend\", touchEndHandler);\n        el.addEventListener(\"touchcancel\", touchCancelHandler);\n    }\n    addLifeTime(value) {\n        this._lifeTime += value;\n    }\n    addPath(key, generator, override = false) {\n        if (!guardCheck(this) || (!override && this.pathGenerators.has(key))) {\n            return false;\n        }\n        this.pathGenerators.set(key, generator);\n        return true;\n    }\n    alive() {\n        return !this._duration || this._lifeTime <= this._duration;\n    }\n    destroy() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this.stop();\n        this.particles.destroy();\n        this.canvas.destroy();\n        for (const [, effectDrawer] of this.effectDrawers) {\n            effectDrawer.destroy?.(this);\n        }\n        for (const [, shapeDrawer] of this.shapeDrawers) {\n            shapeDrawer.destroy?.(this);\n        }\n        for (const key of this.effectDrawers.keys()) {\n            this.effectDrawers.delete(key);\n        }\n        for (const key of this.shapeDrawers.keys()) {\n            this.shapeDrawers.delete(key);\n        }\n        this._engine.clearPlugins(this);\n        this.destroyed = true;\n        const mainArr = this._engine.dom(), idx = mainArr.findIndex((t) => t === this), minIndex = 0;\n        if (idx >= minIndex) {\n            const deleteCount = 1;\n            mainArr.splice(idx, deleteCount);\n        }\n        this._engine.dispatchEvent(\"containerDestroyed\", { container: this });\n    }\n    draw(force) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        let refreshTime = force;\n        const frame = async (timestamp) => {\n            if (refreshTime) {\n                this._lastFrameTime = undefined;\n                refreshTime = false;\n            }\n            await this._nextFrame(timestamp);\n        };\n        this._drawAnimationFrame = requestAnimationFrame((timestamp) => void frame(timestamp));\n    }\n    async export(type, options = {}) {\n        for (const [, plugin] of this.plugins) {\n            if (!plugin.export) {\n                continue;\n            }\n            const res = await plugin.export(type, options);\n            if (!res.supported) {\n                continue;\n            }\n            return res.blob;\n        }\n        getLogger().error(`${errorPrefix} - Export plugin with type ${type} not found`);\n    }\n    handleClickMode(mode) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this.particles.handleClickMode(mode);\n        for (const [, plugin] of this.plugins) {\n            plugin.handleClickMode?.(mode);\n        }\n    }\n    async init() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        const effects = this._engine.getSupportedEffects();\n        for (const type of effects) {\n            const drawer = this._engine.getEffectDrawer(type);\n            if (drawer) {\n                this.effectDrawers.set(type, drawer);\n            }\n        }\n        const shapes = this._engine.getSupportedShapes();\n        for (const type of shapes) {\n            const drawer = this._engine.getShapeDrawer(type);\n            if (drawer) {\n                this.shapeDrawers.set(type, drawer);\n            }\n        }\n        await this.particles.initPlugins();\n        this._options = loadContainerOptions(this._engine, this, this._initialSourceOptions, this.sourceOptions);\n        this.actualOptions = loadContainerOptions(this._engine, this, this._options);\n        const availablePlugins = await this._engine.getAvailablePlugins(this);\n        for (const [id, plugin] of availablePlugins) {\n            this.plugins.set(id, plugin);\n        }\n        this.retina.init();\n        await this.canvas.init();\n        this.updateActualOptions();\n        this.canvas.initBackground();\n        this.canvas.resize();\n        this.zLayers = this.actualOptions.zLayers;\n        this._duration = getRangeValue(this.actualOptions.duration) * millisecondsToSeconds;\n        this._delay = getRangeValue(this.actualOptions.delay) * millisecondsToSeconds;\n        this._lifeTime = 0;\n        const defaultFpsLimit = 120, minFpsLimit = 0;\n        this.fpsLimit = this.actualOptions.fpsLimit > minFpsLimit ? this.actualOptions.fpsLimit : defaultFpsLimit;\n        this._smooth = this.actualOptions.smooth;\n        for (const [, drawer] of this.effectDrawers) {\n            await drawer.init?.(this);\n        }\n        for (const [, drawer] of this.shapeDrawers) {\n            await drawer.init?.(this);\n        }\n        for (const [, plugin] of this.plugins) {\n            await plugin.init?.();\n        }\n        this._engine.dispatchEvent(\"containerInit\", { container: this });\n        await this.particles.init();\n        await this.particles.setDensity();\n        for (const [, plugin] of this.plugins) {\n            plugin.particlesSetup?.();\n        }\n        this._engine.dispatchEvent(\"particlesSetup\", { container: this });\n    }\n    async loadTheme(name) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this._currentTheme = name;\n        await this.refresh();\n    }\n    pause() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        if (this._drawAnimationFrame !== undefined) {\n            cancelAnimationFrame(this._drawAnimationFrame);\n            delete this._drawAnimationFrame;\n        }\n        if (this._paused) {\n            return;\n        }\n        for (const [, plugin] of this.plugins) {\n            plugin.pause?.();\n        }\n        if (!this.pageHidden) {\n            this._paused = true;\n        }\n        this._engine.dispatchEvent(\"containerPaused\", { container: this });\n    }\n    play(force) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        const needsUpdate = this._paused || force;\n        if (this._firstStart && !this.actualOptions.autoPlay) {\n            this._firstStart = false;\n            return;\n        }\n        if (this._paused) {\n            this._paused = false;\n        }\n        if (needsUpdate) {\n            for (const [, plugin] of this.plugins) {\n                if (plugin.play) {\n                    plugin.play();\n                }\n            }\n        }\n        this._engine.dispatchEvent(\"containerPlay\", { container: this });\n        this.draw(needsUpdate ?? false);\n    }\n    async refresh() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this.stop();\n        return this.start();\n    }\n    async reset() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this._initialSourceOptions = undefined;\n        this._options = loadContainerOptions(this._engine, this);\n        this.actualOptions = loadContainerOptions(this._engine, this, this._options);\n        return this.refresh();\n    }\n    async start() {\n        if (!guardCheck(this) || this.started) {\n            return;\n        }\n        await this.init();\n        this.started = true;\n        await new Promise((resolve) => {\n            const start = async () => {\n                this._eventListeners.addListeners();\n                if (this.interactivity.element instanceof HTMLElement && this._intersectionObserver) {\n                    this._intersectionObserver.observe(this.interactivity.element);\n                }\n                for (const [, plugin] of this.plugins) {\n                    await plugin.start?.();\n                }\n                this._engine.dispatchEvent(\"containerStarted\", { container: this });\n                this.play();\n                resolve();\n            };\n            this._delayTimeout = setTimeout(() => void start(), this._delay);\n        });\n    }\n    stop() {\n        if (!guardCheck(this) || !this.started) {\n            return;\n        }\n        if (this._delayTimeout) {\n            clearTimeout(this._delayTimeout);\n            delete this._delayTimeout;\n        }\n        this._firstStart = true;\n        this.started = false;\n        this._eventListeners.removeListeners();\n        this.pause();\n        this.particles.clear();\n        this.canvas.stop();\n        if (this.interactivity.element instanceof HTMLElement && this._intersectionObserver) {\n            this._intersectionObserver.unobserve(this.interactivity.element);\n        }\n        for (const [, plugin] of this.plugins) {\n            plugin.stop?.();\n        }\n        for (const key of this.plugins.keys()) {\n            this.plugins.delete(key);\n        }\n        this._sourceOptions = this._options;\n        this._engine.dispatchEvent(\"containerStopped\", { container: this });\n    }\n    updateActualOptions() {\n        this.actualOptions.responsive = [];\n        const newMaxWidth = this.actualOptions.setResponsive(this.canvas.size.width, this.retina.pixelRatio, this._options);\n        this.actualOptions.setTheme(this._currentTheme);\n        if (this._responsiveMaxWidth === newMaxWidth) {\n            return false;\n        }\n        this._responsiveMaxWidth = newMaxWidth;\n        return true;\n    }\n}\n"],"names":["setTransformValue","factor","newFactor","key","newValue","_factor$key","undefined","setStyle","canvas","style","important","arguments","length","elementStyle","value","setProperty","Canvas","constructor","container","this","_applyPostDrawUpdaters","particle","updater","_postDrawUpdaters","_updater$afterDraw","afterDraw","call","_applyPreDrawUpdaters","ctx","radius","zOpacity","colorStyles","transform","_preDrawUpdaters","_updater$beforeDraw","getColorStyles","fill","stroke","getTransformValues","updaterTransform","beforeDraw","_applyResizePlugins","plugin","_resizePlugins","_plugin$resize","resize","_getPluginParticleColors","fColor","sColor","_colorPlugins","particleFillColor","rangeColorToHsl","particleStrokeColor","_initCover","async","cover","actualOptions","backgroundMask","color","coverRgb","rangeColorToRgb","coverColor","_objectSpread","a","opacity","_coverColorStyle","getStyleFromRgb","Promise","resolve","reject","image","img","document","createElement","addEventListener","_coverImage","evt","error","src","_initStyle","element","options","_fullScreen","_originalStyle","deepExtend","_setFullScreenStyle","_resetOriginalStyle","_initTrail","trail","particles","move","trailFill","enable","fillColor","_trailFill","_paintBase","baseColor","draw","paintBase","size","_paintImage","paintImage","_repairStyle","_safeMutationObserver","observer","disconnect","initBackground","observe","attributes","originalStyle","callback","_mutationObserver","position","zIndex","fullScreen","toString","top","left","width","height","_context","_generated","clear","paint","destroy","stop","remove","cb","drawAsync","drawParticle","delta","_particle$getStrokeCo","spawning","destroyed","getRadius","pfColor","getFillColor","psColor","getStrokeColor","_ref","_particle$bubble$opac","_particle$opacity","_particle$strokeOpaci","zIndexOptions","zIndexFactor","zOpacityFactor","opacityRate","bubble","zStrokeOpacity","strokeOpacity","getStyleFromHsl","context","composite","sizeRate","shadow","drawParticlePlugin","drawPlugin","init","obs","safeMutationObserver","records","record","type","attributeName","e","getLogger","initUpdaters","initPlugins","background","backgroundColor","backgroundImage","backgroundPosition","backgroundRepeat","repeat","backgroundSize","plugins","_plugin$particleFillC","push","updaters","_ref2","_updater$getColorStyl","loadCanvas","dataset","generatedAttribute","ariaHidden","offsetHeight","offsetWidth","getContext","retina","pxRatio","pixelRatio","newSize","oldSize","started","setResizeFactor","windowResize","needsRefresh","updateActualOptions","setDensity","refresh","manageListener","event","handler","add","addOptions","passive","isBoolean","capture","removeOptions","removeEventListener","EventListeners","_doMouseTouchClick","_canPush","mouseInteractivity","interactivity","mouse","mousePos","clickPosition","clickTime","Date","getTime","onClick","events","executeOnSingleOrMultiple","mode","handleClickMode","setTimeout","_mouseTouchFinish","_handleThemeChange","mediaEvent","defaultThemes","themeName","matches","dark","light","theme","themes","find","name","default","auto","loadTheme","_handleVisibilityChange","pauseOnBlur","hidden","pageHidden","pause","animationStatus","play","_handleWindowResize","_resizeTimeout","clearTimeout","handleResize","delay","millisecondsToSeconds","_manageInteractivityListeners","mouseLeaveTmpEvent","handlers","_handlers","interactivityEl","html","canvasEl","pointerEvents","onHover","mouseMoveEvent","mouseMove","touchStartEvent","touchStart","touchMoveEvent","touchMove","touchEndEvent","touchEndClick","mouseUpEvent","mouseUp","mouseDownEvent","mouseDown","touchEnd","mouseLeave","touchCancelEvent","touchCancel","_manageListeners","detectType","detectsOn","mouseLeaveEvent","window","mouseOutEvent","_canvasEl$parentEleme","parentElement","parentNode","_manageMediaMatch","_manageResize","visibilityChangeEvent","visibilityChange","mediaMatch","safeMatchMedia","addListener","oldThemeChange","removeListener","themeChange","ResizeObserver","resizeEvent","_resizeObserver","unobserve","entries","target","_mouseDown","clicking","downPosition","_mouseTouchClick","inside","handled","mousePosition","clickPositionValid","status","_mouseTouchMove","pos","startsWith","mouseEvent","clientRect","getBoundingClientRect","x","clientX","y","clientY","source","currentTarget","sourceRect","targetRect","canvasRect","offsetX","offsetY","_mouseEvent$offsetX","_mouseEvent$offsetY","_mouseEvent$offsetX2","_mouseEvent$offsetY2","_canvasRect$left","_canvasRect$top","touchEvent","lengthOffset","lastTouch","touches","defaultCoordinate","_touchEnd","Array","from","changedTouches","touch","_touches","delete","identifier","_touchEndClick","_touchStart","set","performance","now","Map","addListeners","removeListeners","InteractionManager","engine","_engine","_interactors","_externalInteractors","_particleInteractors","externalInteract","interactor","isEnabled","interact","_interactor$handleCli","getInteractors","particlesInteract","reset","Point","half","QuadTree","rectangle","capacity","_subdivide","i","fixedIndex","_subs","Rectangle","Math","round","_divided","_points","insert","point","contains","some","sub","query","range","check","found","res","intersects","p","getDistance","queryCircle","Circle","queryRectangle","qTreeRectangle","canvasSize","Particles","_this","_addToPool","_len","_key","_pool","_applyDensity","manualCount","group","_options$number$densi","numberOptions","number","density","_limit","limit","_groupLimits","densityFactor","_initDensityFactor","optParticlesNumber","optParticlesLimit","particlesNumber","min","particlesCount","count","filter","t","abs","removeQuantity","densityOptions","_container","_pushParticle","overrideOptions","initializer","pop","Particle","_nextId","canAdd","_array","_zArray","dispatchEvent","data","warning","concat","errorPrefix","_removeParticle","index","override","zIdx","indexOf","splice","_needsSort","_lastZIndex","_interactionManager","_pluginsInitialized","quadTree","movers","addManualParticles","manualParticles","addParticle","getPosition","_this$_groupLimits$ge","limitOptions","get","currentCount","countToRemove","update","condition","particlesInitialization","particlesOptions","groups","groupOptions","j","_groupOptions$number","getMovers","getUpdaters","pathGenerator","pathGenerators","nb","redraw","removeAt","quantity","deleted","setLastZIndex","_resizeFactor","particlesToDelete","Set","_plugin$update","resizeFactor","ignoresResizeRatio","initialPosition","_plugin$particleUpdat","particleUpdate","mover","checkDelete","has","zArray","sort","b","z","id","Retina","reduceFactor","detectRetina","isSsr","devicePixelRatio","ratio","moveOptions","maxSpeed","getRangeValue","gravity","sizeAnimationSpeed","animation","speed","initParticle","moveDistance","distance","props","moveDrift","drift","moveSpeed","maxDistance","horizontal","vertical","guardCheck","loadContainerOptions","Options","sourceOptionsArr","loadOptions","Container","sourceOptions","_intersectionManager","pauseOnOutsideViewport","entry","isIntersecting","_nextFrame","_this$_lastFrameTime","_smooth","_lastFrameTime","timestamp","fpsLimit","initDelta","addLifeTime","alive","Symbol","_delay","_duration","_lifeTime","_firstStart","_paused","zLayers","_sourceOptions","_initialSourceOptions","effectDrawers","shapeDrawers","_options","_eventListeners","_intersectionObserver","safeIntersectionObserver","addClickHandler","el","clickOrTouchHandler","posRetina","touched","touchMoved","touchStartHandler","touchMoveHandler","minCoordinate","max","radiusX","radiusY","touchCancelHandler","addPath","generator","effectDrawer","_effectDrawer$destroy","shapeDrawer","_shapeDrawer$destroy","keys","clearPlugins","mainArr","dom","idx","findIndex","deleteCount","force","refreshTime","frame","_drawAnimationFrame","requestAnimationFrame","export","supported","blob","_plugin$handleClickMo","effects","getSupportedEffects","drawer","getEffectDrawer","shapes","getSupportedShapes","getShapeDrawer","availablePlugins","getAvailablePlugins","duration","smooth","_drawer$init","_drawer$init2","_plugin$init","_plugin$particlesSetu","particlesSetup","_currentTheme","cancelAnimationFrame","_plugin$pause","needsUpdate","autoPlay","start","HTMLElement","_plugin$start","_delayTimeout","_plugin$stop","responsive","newMaxWidth","setResponsive","setTheme","_responsiveMaxWidth"],"sourceRoot":""}