/*! For license information please see main.43fb1653.js.LICENSE.txt */
(()=>{var e={1694:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===s){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},888:(e,t,n)=>{"use strict";var r=n(9047);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},2007:(e,t,n)=>{e.exports=n(888)()},9047:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:(e,t,n)=>{"use strict";var r=n(2791),i=n(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var c="\n"+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case S:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Te=null;function Se(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),xe(e.stateNode,e.type,t))}}function ke(e){Ee?Te?Te.push(e):Te=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Te;if(Te=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Oe(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Te)&&(Oe(),Ce())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Me(e,t,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Le=!1,Fe=null,je=!1,Ue=null,Be={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,s,o,a,c){Le=!1,Fe=null,Me.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,xt,Et,Tt,St,kt=!1,Ct=[],It=null,Ot=null,At=null,Pt=new Map,Nt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Bt(){kt=!1,null!==It&&jt(It)&&(It=null),null!==Ot&&jt(Ot)&&(Ot=null),null!==At&&jt(At)&&(At=null),Pt.forEach(Ut),Nt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Ot&&zt(Ot,e),null!==At&&zt(At,e),Pt.forEach(t),Nt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var Wt=w.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,s=Wt.transition;Wt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Wt.transition=s}}function Gt(e,t,n,r){var i=bt,s=Wt.transition;Wt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Wt.transition=s}}function Kt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Ot=Lt(Ot,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nt.set(s,Lt(Nt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=$t(e,t,n,r))&&Hr(e,t,r,Yt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function $t(e,t,n,r){if(Yt=null,null!==(e=yi(e=_e(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(ln),hn=F({},ln,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),gn=sn(F({},fn,{dataTransfer:0})),mn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(F({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return Tn}var kn=F({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(kn),In=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=sn(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=sn(Pn),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,Fn=u&&(!Dn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){ke(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){jr(e,0)}function $n(e){if(K(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Kn)){var t=[];qn(t,Kn,e,_e(e)),Pe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Kn)}function sr(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Tr={};function Sr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Er[e]=n[t];return e}u&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var kr=Sr("animationend"),Cr=Sr("animationiteration"),Ir=Sr("animationstart"),Or=Sr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Ar.set(e,t),c(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(kr,"onAnimationEnd"),Nr(Cr,"onAnimationIteration"),Nr(Ir,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Or,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,c,l){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Fe;Le=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Fr(i,a,l),s=c}else for(o=0;o<r.length;o++){if(c=(a=r[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Fr(i,a,l),s=c}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(c=o.tag)||6===c){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=s,i=_e(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Cn;break;case"focusin":l="focus",c=mn;break;case"focusout":l="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=On;break;case kr:case Cr:case Ir:c=vn;break;case Or:c=An;break;case"scroll":c=dn;break;case"wheel":c=Nn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Ne(p,d))&&u.push(qr(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(h=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?a:wi(c),f=null==l?a:wi(l),(a=new u(g,p+"leave",c,n,i)).target=h,a.relatedTarget=f,g=null,yi(i)===r&&((u=new u(d,p+"enter",l,n,i)).target=f,u.relatedTarget=h,g=u),h=g,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Kr(f))p++;for(f=0,g=d;g;g=Kr(g))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Kr(u),d=Kr(d)}u=null}else u=null;null!==c&&Yr(o,a,c,u,!1),null!==l&&null!==h&&Yr(o,h,l,u,!0)}if("select"===(c=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var m=Qn;else if(Hn(a))if(Xn)m=or;else{m=ir;var v=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(v=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ne(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Ne(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=Ne(n,s))&&o.unshift(qr(n,c,a)):i||null!=(c=Ne(n,s))&&o.push(qr(n,c,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var xi=[],Ei=-1;function Ti(e){return{current:e}}function Si(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function ki(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ci={},Ii=Ti(Ci),Oi=Ti(!1),Ai=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Oi),Si(Ii)}function Di(e,t,n){if(Ii.current!==Ci)throw Error(s(168));ki(Ii,t),ki(Oi,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,W(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ii.current,ki(Ii,e),ki(Oi,Oi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Oi),Si(Ii),ki(Ii,e)):Si(Oi),ki(Oi,n)}var ji=null,Ui=!1,Bi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Vi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Ze,Vi),i}finally{bt=t,Bi=!1}}return null}var Wi=[],Hi=0,qi=null,Gi=0,Ki=[],Yi=0,$i=null,Qi=1,Xi="";function Ji(e,t){Wi[Hi++]=Gi,Wi[Hi++]=qi,qi=e,Gi=t}function Zi(e,t,n){Ki[Yi++]=Qi,Ki[Yi++]=Xi,Ki[Yi++]=$i,$i=e;var r=Qi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else Qi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===qi;)qi=Wi[--Hi],Wi[Hi]=null,Gi=Wi[--Hi],Wi[Hi]=null;for(;e===$i;)$i=Ki[--Yi],Ki[Yi]=null,Xi=Ki[--Yi],Ki[Yi]=null,Qi=Ki[--Yi],Ki[Yi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Nl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(cs(e))throw Error(s(418));t=li(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(cs(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=li(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?li(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=li(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var gs=w.ReactCurrentBatchConfig;function ms(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Ti(null),ys=null,bs=null,ws=null;function _s(){ws=bs=ys=null}function xs(e){var t=vs.current;Si(vs),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t){ys=e,ws=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Ss(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===ys)throw Error(s(308));bs=e,ys.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var ks=null;function Cs(e){null===ks?ks=[e]:ks.push(e)}function Is(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Cs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ns(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Oc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Os(e,n)}return null===(i=r.interleaved)?(t.next=t,Cs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Os(e,n)}function Ms(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==s){var h=i.baseState;for(o=0,u=l=c=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:As=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fc|=o,e.lanes=o,e.memoizedState=h}}function js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Rs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rl(t,e,i,r),Ms(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Rs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rl(t,e,i,r),Ms(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Rs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ds(e,i,r))&&(rl(t,e,r,n),Ms(t,e,r))}};function Vs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function Ws(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ss(s):(i=Ni(t)?Ai:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function qs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Ps(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ss(s):(s=Ni(t)?Ai:Ii.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Bs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zs.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ks(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ys(e){return(0,e._init)(e._payload)}function $s(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&Ys(s)===t.type)?((r=i(t,n.props)).ref=Gs(e,t,n),r.return=e,r):((r=Ml(n.type,n.key,n.props,null,e.mode,r)).ref=Gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ml(t.type,t.key,t.props,null,e.mode,n)).ref=Gs(e,null,t),n.return=e,n;case x:return(t=Ul(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Ll(t,e.mode,n,null)).return=e,t;Ks(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);Ks(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);Ks(t,r)}return null}function g(i,s,a,c){for(var l=null,u=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(i,h,a[g],c);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,g),null===u?l=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(i,h),is&&Ji(i,g),l;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],c))&&(s=o(h,s,g),null===u?l=h:u.sibling=h,u=h);return is&&Ji(i,g),l}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],c))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?l=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,g),l}function m(i,a,c,l){var u=M(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var h=u=null,g=a,m=a=0,v=null,y=c.next();null!==g&&!y.done;m++,y=c.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,l);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),a=o(b,a,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return n(i,g),is&&Ji(i,m),u;if(null===g){for(;!y.done;m++,y=c.next())null!==(y=d(i,y.value,l))&&(a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return is&&Ji(i,m),u}for(g=r(i,g);!y.done;m++,y=c.next())null!==(y=p(g,i,m,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),is&&Ji(i,m),u}return function e(r,s,o,c){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var l=o.key,u=s;null!==u;){if(u.key===l){if((l=o.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===N&&Ys(l)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===E?((s=Ll(o.props.children,r.mode,c,o.key)).return=r,r=s):((c=Ml(o.type,o.key,o.props,null,r.mode,c)).ref=Gs(r,s,o),c.return=r,r=c)}return a(r);case x:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Ul(o,r.mode,c)).return=r,r=s}return a(r);case N:return e(r,s,(u=o._init)(o._payload),c)}if(te(o))return g(r,s,o,c);if(M(o))return m(r,s,o,c);Ks(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=jl(o,r.mode,c)).return=r,r=s),a(r)):n(r,s)}}var Qs=$s(!0),Xs=$s(!1),Js={},Zs=Ti(Js),eo=Ti(Js),to=Ti(Js);function no(e){if(e===Js)throw Error(s(174));return e}function ro(e,t){switch(ki(to,t),ki(eo,e),ki(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Zs),ki(Zs,t)}function io(){Si(Zs),Si(eo),Si(to)}function so(e){no(to.current);var t=no(Zs.current),n=ce(t,e.type);t!==n&&(ki(eo,e),ki(Zs,n))}function oo(e){eo.current===e&&(Si(Zs),Si(eo))}var ao=Ti(0);function co(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function uo(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var ho=w.ReactCurrentDispatcher,fo=w.ReactCurrentBatchConfig,po=0,go=null,mo=null,vo=null,yo=!1,bo=!1,wo=0,_o=0;function xo(){throw Error(s(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function To(e,t,n,r,i,o){if(po=o,go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:ca,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(s(301));o+=1,vo=mo=null,t.updateQueue=null,ho.current=la,e=n(r,i)}while(bo)}if(ho.current=oa,t=null!==mo&&null!==mo.next,po=0,vo=mo=go=null,yo=!1,t)throw Error(s(300));return e}function So(){var e=0!==wo;return wo=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?go.memoizedState=vo=e:vo=vo.next=e,vo}function Co(){if(null===mo){var e=go.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===vo?go.memoizedState:vo.next;if(null!==t)vo=t,mo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===vo?go.memoizedState=vo=e:vo=vo.next=e}return vo}function Io(e,t){return"function"===typeof t?t(e):t}function Oo(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var c=a=null,l=null,u=o;do{var h=u.lane;if((po&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=d,a=r):l=l.next=d,go.lanes|=h,Fc|=h}u=u.next}while(null!==u&&u!==o);null===l?a=r:l.next=c,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,go.lanes|=o,Fc|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function No(e,t){var n=go,r=Co(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Ho(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ac)throw Error(s(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fo(e){var t=Os(e,1);null!==t&&rl(t,e,1,-1)}function jo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,go,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Co().memoizedState}function zo(e,t,n,r){var i=ko();go.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=Co();r=void 0===r?null:r;var s=void 0;if(null!==mo){var o=mo.memoizedState;if(s=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,s,r))}go.flags|=e,i.memoizedState=Uo(1|t,n,s,r)}function Wo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Vo(2048,8,e,t)}function qo(e,t){return Vo(4,2,e,t)}function Go(e,t){return Vo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Ko.bind(null,t,e),n)}function $o(){}function Qo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),go.lanes|=n,Fc|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=n,fo.transition=r}}function ea(){return Co().memoizedState}function ta(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Is(e,t,n,r))){rl(n,e,r,tl()),sa(n,t,r)}}function na(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var c=t.interleaved;return null===c?(i.next=i,Cs(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Is(e,t,i,r))&&(rl(n,e,r,i=tl()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===go||null!==t&&t===go}function ia(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:Ss,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},aa={readContext:Ss,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Ss,useEffect:Wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,go,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=go,i=ko();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ac)throw Error(s(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Wo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Ac.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ca={readContext:Ss,useCallback:Qo,useContext:Ss,useEffect:Ho,useImperativeHandle:Yo,useInsertionEffect:qo,useLayoutEffect:Go,useMemo:Xo,useReducer:Oo,useRef:Bo,useState:function(){return Oo(Io)},useDebugValue:$o,useDeferredValue:function(e){return Jo(Co(),mo.memoizedState,e)},useTransition:function(){return[Oo(Io)[0],Co().memoizedState]},useMutableSource:Po,useSyncExternalStore:No,useId:ea,unstable_isNewReconciler:!1},la={readContext:Ss,useCallback:Qo,useContext:Ss,useEffect:Ho,useImperativeHandle:Yo,useInsertionEffect:qo,useLayoutEffect:Go,useMemo:Xo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(Io)},useDebugValue:$o,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],Co().memoizedState]},useMutableSource:Po,useSyncExternalStore:No,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Rs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qc||(qc=!0,Gc=r),da(0,t)},n}function ga(e,t,n){(n=Rs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Kc?Kc=new Set([this]):Kc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kl.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Rs(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function _a(e,t,n,r){t.child=null===e?Xs(t,null,n,r):Qs(t,e.child,n,r)}function xa(e,t,n,r,i){n=n.render;var s=t.ref;return Ts(t,i),r=To(e,t,n,r,s,i),n=So(),null===e||wa?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Rl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ml(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ta(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(o,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Dl(s,r)).ref=t.ref,e.return=t,t.child=e}function Ta(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ca(e,t,n,r,i)}function Sa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Dc,Rc),Rc|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Dc,Rc),Rc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Dc,Rc),Rc|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Dc,Rc),Rc|=r;return _a(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var s=Ni(n)?Ai:Ii.current;return s=Pi(t,s),Ts(t,i),n=To(e,t,n,r,s,i),r=So(),null===e||wa?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ia(e,t,n,r,i){if(Ni(n)){var s=!0;Li(t)}else s=!1;if(Ts(t,i),null===t.stateNode)Ha(e,t),Ws(t,n,r),qs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ss(l):l=Pi(t,l=Ni(n)?Ai:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||c!==l)&&Hs(t,o,r,l),As=!1;var d=t.memoizedState;o.state=d,Fs(t,r,o,i),c=t.memoizedState,a!==r||d!==c||Oi.current||As?("function"===typeof u&&(Bs(t,n,u,r),c=t.memoizedState),(a=As||Vs(t,n,a,r,d,c,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ns(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:ms(t.type,a),o.props=l,h=t.pendingProps,d=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ss(c):c=Pi(t,c=Ni(n)?Ai:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==c)&&Hs(t,o,r,c),As=!1,d=t.memoizedState,o.state=d,Fs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Oi.current||As?("function"===typeof f&&(Bs(t,n,f,r),p=t.memoizedState),(l=As||Vs(t,n,l,r,d,p,c)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Oa(e,t,n,r,s,i)}function Oa(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),qa(e,t,s);r=t.stateNode,ba.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Qs(t,e.child,null,s),t.child=Qs(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Pa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Na,Ra,Da,Ma,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(ao,1&o),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Fl(c,i,0,null),e=Ll(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=La,e):Ua(t,c));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(o=Ll(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Qs(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=La,o);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Ba(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(c=0!==(a&e.childLanes),wa||c){if(null!==(r=Ac)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Os(e,i),rl(r,e,i,-1))}return ml(),Ba(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=li(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Yi++]=Qi,Ki[Yi++]=Xi,Ki[Yi++]=$i,Qi=e.id,Xi=e.overflow,$i=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,o,n);if(a){a=i.fallback,c=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Dl(r,a):(a=Ll(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Fa(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Dl(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&ps(r),Qs(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Va(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Wa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===co(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===co(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,s);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ya(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ni(t.type)&&Ri(),Ka(t),null;case 3:return r=t.stateNode,io(),Si(Oi),Si(Ii),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(al(ss),ss=null))),Ra(e,t),Ka(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ka(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var c in ye(n,o),i=null,o)if(o.hasOwnProperty(c)){var l=o[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[di]=t,e[fi]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var u=l[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&b(e,o,u,c))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ka(t),null;case 13:if(Si(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),o=!1}else null!==ss&&(al(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Mc&&(Mc=3):ml())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return io(),Ra(e,t),null===e&&Vr(t.stateNode.containerInfo),Ka(t),null;case 10:return xs(t.type._context),Ka(t),null;case 19:if(Si(ao),null===(o=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(c=o.rendering))if(r)Ga(o,!1);else{if(0!==Mc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=co(e))){for(t.flags|=128,Ga(o,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Wc&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=co(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate&&!is)return Ka(t),null}else 2*Xe()-o.renderingStartTime>Wc&&1073741824!==n&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=o.last)?n.sibling=c:t.child=c,o.last=c)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ao.current,ki(ao,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rc)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function $a(e,t){switch(ts(t),t.tag){case 1:return Ni(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Oi),Si(Ii),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ao),null;case 4:return io(),null;case 10:return xs(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Ur("scroll",e),o||c===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qa=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){Sl(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tc(t,n,s)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var hc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||ec(n,t);case 6:var r=hc,i=dc;hc=null,fc(e,t,n),dc=i,null!==(hc=r)&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hc.removeChild(n.stateNode));break;case 18:null!==hc&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Vt(e)):ci(hc,n.stateNode));break;case 4:r=hc,i=dc,hc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),hc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tc(n,t,o),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Xa&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sl(n,t,a)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fc(e,t,n),Xa=r):fc(e,t,n);break;default:fc(e,t,n)}}function gc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Ol.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:hc=c.stateNode,dc=!1;break e;case 3:case 4:hc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===hc)throw Error(s(160));pc(o,a,i),hc=null,dc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Sl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vc(t,e),t=t.sibling}function vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),yc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(m){Sl(e,e.return,m)}try{rc(5,e,e.return)}catch(m){Sl(e,e.return,m)}}break;case 1:mc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(mc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Sl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===o.type&&null!=o.name&&X(i,o),be(c,a);var u=be(c,o);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(c){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){Sl(e,e.return,m)}}break;case 6:if(mc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sl(e,e.return,m)}}break;case 3:if(mc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Sl(e,e.return,m)}break;case 4:default:mc(t,e),yc(e);break;case 13:mc(t,e),yc(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vc=Xe())),4&r&&gc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||h,mc(t,e),Xa=u):mc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Sl(r,n,m)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){xc(d);continue}}null!==p?(p.return=f,Za=p):xc(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(c=d.stateNode,a=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=ge("display",a))}catch(m){Sl(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Sl(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mc(t,e),yc(e),4&r&&gc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lc(e,cc(e),o);break;default:throw Error(s(161))}}catch(a){Sl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,n){Za=e,wc(e,t,n)}function wc(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qa;if(!o){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Xa;a=Qa;var l=Xa;if(Qa=o,(Xa=c)&&!l)for(Za=i;null!==Za;)c=(o=Za).child,22===o.tag&&null!==o.memoizedState?Ec(i):null!==c?(c.return=o,Za=c):Ec(i);for(;null!==s;)Za=s,wc(s,t,n),s=s.sibling;Za=i,Qa=a,Xa=l}_c(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):_c(e)}}function _c(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ms(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&js(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}js(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&sc(t)}catch(f){Sl(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function xc(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Ec(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){Sl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Sl(t,i,c)}}var s=t.return;try{sc(t)}catch(c){Sl(t,s,c)}break;case 5:var o=t.return;try{sc(t)}catch(c){Sl(t,o,c)}}}catch(c){Sl(t,t.return,c)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Tc,Sc=Math.ceil,kc=w.ReactCurrentDispatcher,Cc=w.ReactCurrentOwner,Ic=w.ReactCurrentBatchConfig,Oc=0,Ac=null,Pc=null,Nc=0,Rc=0,Dc=Ti(0),Mc=0,Lc=null,Fc=0,jc=0,Uc=0,Bc=null,zc=null,Vc=0,Wc=1/0,Hc=null,qc=!1,Gc=null,Kc=null,Yc=!1,$c=null,Qc=0,Xc=0,Jc=null,Zc=-1,el=0;function tl(){return 0!==(6&Oc)?Xe():-1!==Zc?Zc:Zc=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Oc)&&0!==Nc?Nc&-Nc:null!==gs.transition?(0===el&&(el=gt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rl(e,t,n,r){if(50<Xc)throw Xc=0,Jc=null,Error(s(185));vt(e,n,r),0!==(2&Oc)&&e===Ac||(e===Ac&&(0===(2&Oc)&&(jc|=n),4===Mc&&cl(e,Nc)),il(e,r),1===n&&0===Oc&&0===(1&t.mode)&&(Wc=Xe()+500,Ui&&Vi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,c=i[o];-1===c?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Ac?Nc:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(ll.bind(null,e)):zi(ll.bind(null,e)),oi((function(){0===(6&Oc)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,sl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sl(e,t){if(Zc=-1,el=0,0!==(6&Oc))throw Error(s(327));var n=e.callbackNode;if(El()&&e.callbackNode!==n)return null;var r=dt(e,e===Ac?Nc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Oc;Oc|=2;var o=gl();for(Ac===e&&Nc===t||(Hc=null,Wc=Xe()+500,fl(e,t));;)try{bl();break}catch(c){pl(e,c)}_s(),kc.current=o,Oc=i,null!==Pc?t=0:(Ac=null,Nc=0,t=Mc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Lc,fl(e,0),cl(e,r),il(e,Xe()),n;if(6===t)cl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Lc,fl(e,0),cl(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xl(e,zc,Hc);break;case 3:if(cl(e,r),(130023424&r)===r&&10<(t=Vc+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xl.bind(null,e,zc,Hc),t);break}xl(e,zc,Hc);break;case 4:if(cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sc(r/1960))-r)){e.timeoutHandle=ri(xl.bind(null,e,zc,Hc),r);break}xl(e,zc,Hc);break;default:throw Error(s(329))}}}return il(e,Xe()),e.callbackNode===n?sl.bind(null,e):null}function ol(e,t){var n=Bc;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=zc,zc=n,null!==t&&al(t)),e}function al(e){null===zc?zc=e:zc.push.apply(zc,e)}function cl(e,t){for(t&=~Uc,t&=~jc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Oc))throw Error(s(327));El();var t=dt(e,0);if(0===(1&t))return il(e,Xe()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Lc,fl(e,0),cl(e,t),il(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e,zc,Hc),il(e,Xe()),null}function ul(e,t){var n=Oc;Oc|=1;try{return e(t)}finally{0===(Oc=n)&&(Wc=Xe()+500,Ui&&Vi())}}function hl(e){null!==$c&&0===$c.tag&&0===(6&Oc)&&El();var t=Oc;Oc|=1;var n=Ic.transition,r=bt;try{if(Ic.transition=null,bt=1,e)return e()}finally{bt=r,Ic.transition=n,0===(6&(Oc=t))&&Vi()}}function dl(){Rc=Dc.current,Si(Dc)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pc)for(n=Pc.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Si(Oi),Si(Ii),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(ao);break;case 10:xs(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Ac=e,Pc=e=Dl(e.current,null),Nc=Rc=t,Mc=0,Lc=null,Uc=jc=Fc=0,zc=Bc=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function pl(e,t){for(;;){var n=Pc;try{if(_s(),ho.current=oa,yo){for(var r=go.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=mo=go=null,bo=!1,wo=0,Cc.current=null,null===n||null===n.return){Mc=1,Lc=t,Pc=null;break}e:{var o=e,a=n.return,c=n,l=t;if(t=Nc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,c,0,t),1&p.mode&&ma(o,u,t),l=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}if(0===(1&t)){ma(o,u,t),ml();break e}l=Error(s(426))}else if(is&&1&c.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,c,0,t),ps(ua(l,c));break e}}o=l=ua(l,c),4!==Mc&&(Mc=2),null===Bc?Bc=[o]:Bc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ls(o,pa(0,l,t));break e;case 1:c=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kc||!Kc.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ls(o,ga(o,c,t));break e}}o=o.return}while(null!==o)}_l(n)}catch(w){t=w,Pc===n&&null!==n&&(Pc=n=n.return);continue}break}}function gl(){var e=kc.current;return kc.current=oa,null===e?oa:e}function ml(){0!==Mc&&3!==Mc&&2!==Mc||(Mc=4),null===Ac||0===(268435455&Fc)&&0===(268435455&jc)||cl(Ac,Nc)}function vl(e,t){var n=Oc;Oc|=2;var r=gl();for(Ac===e&&Nc===t||(Hc=null,fl(e,t));;)try{yl();break}catch(i){pl(e,i)}if(_s(),Oc=n,kc.current=r,null!==Pc)throw Error(s(261));return Ac=null,Nc=0,Mc}function yl(){for(;null!==Pc;)wl(Pc)}function bl(){for(;null!==Pc&&!$e();)wl(Pc)}function wl(e){var t=Tc(e.alternate,e,Rc);e.memoizedProps=e.pendingProps,null===t?_l(e):Pc=t,Cc.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ya(n,t,Rc)))return void(Pc=n)}else{if(null!==(n=$a(n,t)))return n.flags&=32767,void(Pc=n);if(null===e)return Mc=6,void(Pc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===Mc&&(Mc=5)}function xl(e,t,n){var r=bt,i=Ic.transition;try{Ic.transition=null,bt=1,function(e,t,n,r){do{El()}while(null!==$c);if(0!==(6&Oc))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Ac&&(Pc=Ac=null,Nc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yc||(Yc=!0,Al(tt,(function(){return El(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ic.transition,Ic.transition=null;var a=bt;bt=1;var c=Oc;Oc|=4,Cc.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=a+i),d!==o||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=a),f===o&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ms(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){Sl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=nc,nc=!1}(e,n),vc(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bc(n,e,i),Qe(),Oc=c,bt=a,Ic.transition=o}else e.current=n;if(Yc&&(Yc=!1,$c=e,Qc=i),o=e.pendingLanes,0===o&&(Kc=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qc)throw qc=!1,e=Gc,Gc=null,e;0!==(1&Qc)&&0!==e.tag&&El(),o=e.pendingLanes,0!==(1&o)?e===Jc?Xc++:(Xc=0,Jc=e):Xc=0,Vi()}(e,t,n,r)}finally{Ic.transition=i,bt=r}return null}function El(){if(null!==$c){var e=wt(Qc),t=Ic.transition,n=bt;try{if(Ic.transition=null,bt=16>e?16:e,null===$c)var r=!1;else{if(e=$c,$c=null,Qc=0,0!==(6&Oc))throw Error(s(331));var i=Oc;for(Oc|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var c=o.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rc(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(oc(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rc(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var b=e.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=b;null!==Za;){if(0!==(2048&(c=Za).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(x){Sl(c,c.return,x)}if(c===a){Za=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,Za=_;break e}Za=c.return}}if(Oc=i,Vi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ic.transition=t}}return!1}function Tl(e,t,n){e=Ds(e,t=pa(0,t=ua(n,t),1),1),t=tl(),null!==e&&(vt(e,1,t),il(e,t))}function Sl(e,t,n){if(3===e.tag)Tl(e,e,n);else for(;null!==t;){if(3===t.tag){Tl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kc||!Kc.has(r))){t=Ds(t,e=ga(t,e=ua(n,e),1),1),e=tl(),null!==t&&(vt(t,1,e),il(t,e));break}}t=t.return}}function kl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ac===e&&(Nc&n)===n&&(4===Mc||3===Mc&&(130023424&Nc)===Nc&&500>Xe()-Vc?fl(e,0):Uc|=n),il(e,t)}function Cl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=Os(e,t))&&(vt(e,t,n),il(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function Ol(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cl(e,n)}function Al(e,t){return Ke(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nl(e,t,n,r){return new Pl(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Nl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Rl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Ll(n.children,i,o,t);case T:a=8,i|=8;break;case S:return(e=Nl(12,n,t,2|i)).elementType=S,e.lanes=o,e;case O:return(e=Nl(13,n,t,i)).elementType=O,e.lanes=o,e;case A:return(e=Nl(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Fl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case C:a=9;break e;case I:a=11;break e;case P:a=14;break e;case N:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Nl(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ll(e,t,n,r){return(e=Nl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Nl(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Nl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Nl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,s,o,a,c){return e=new Bl(e,t,n,a,c),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Nl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ps(s),e}function Vl(e){if(!e)return Ci;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Mi(e,n,t)}return t}function Wl(e,t,n,r,i,s,o,a,c){return(e=zl(n,r,!0,e,0,s,0,a,c)).context=Vl(null),n=e.current,(s=Rs(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,i),e.current.lanes=i,vt(e,i,r),il(e,r),e}function Hl(e,t,n,r){var i=t.current,s=tl(),o=nl(i);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Rs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ds(i,t,o))&&(rl(e,i,o,s),Ms(e,i,o)),o}function ql(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Tc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),fs();break;case 5:so(t);break;case 1:Ni(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(ki(ao,1&ao.current),null!==(e=qa(e,t,n))?e.sibling:null);ki(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return qa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Ts(t,n),i=To(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ps(t),i.updater=zs,t.stateNode=i,i._reactInternals=t,qs(t,r,e,n),t=Oa(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=ms(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=Ia(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,ms(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ns(e,t),Fs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=li(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=qa(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&ls(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&ls(t),null;case 13:return ja(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qs(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(vs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Oi.current){t=qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var c=o.dependencies;if(null!==c){a=o.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Rs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Es(o.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Es(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ts(t,n),r=r(i=Ss(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=ms(r=t.type,t.pendingProps),Ea(e,t,r,i=ms(r.type,i),n);case 15:return Ta(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ms(r,i),Ha(e,t),t.tag=1,Ni(r)?(e=!0,Li(t)):e=!1,Ts(t,n),Ws(t,r,i),qs(t,r,i,n),Oa(null,t,r,!0,e,n);case 19:return Wa(e,t,n);case 22:return Sa(e,t,n)}throw Error(s(156,t.tag))};var Yl="function"===typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=ql(o);a.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=ql(o);s.call(e)}}var o=Wl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),hl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=ql(c);a.call(e)}}var c=zl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[pi]=c.current,Vr(8===e.nodeType?e.parentNode:e),hl((function(){Hl(t,c,n,r)})),c}(n,t,e,i,r);return ql(o)}Ql.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hl(e,t,null,null)},Ql.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hl((function(){Hl(null,e,null,null)})),t[pi]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Xe()),0===(6&Oc)&&(Wc=Xe()+500,Vi()))}break;case 13:hl((function(){var t=Os(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Kl(e,1)}},xt=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)rl(t,e,134217728,tl());Kl(e,134217728)}},Et=function(e){if(13===e.tag){var t=nl(e),n=Os(e,t);if(null!==n)rl(n,e,t,tl());Kl(e,t)}},Tt=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ul,Oe=hl;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,ke,Ce,ul]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(s(299));var n=!1,r="",i=Yl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new $l(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return hl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Yl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Wl(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ql(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(s(40));return!!e._reactRootContainer&&(hl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,n)=>{"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var a,c,l,u;if(Array.isArray(e)){if((a=e.length)!=o.length)return!1;for(c=a;0!==c--;)if(!s(e[c],o[c]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;for(u=e.entries();!(c=u.next()).done;)if(!s(c.value[1],o.get(c.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((a=e.length)!=o.length)return!1;for(c=a;0!==c--;)if(e[c]!==o[c])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof o.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof o.toString)return e.toString()===o.toString();if((a=(l=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(c=a;0!==c--;)if(!Object.prototype.hasOwnProperty.call(o,l[c]))return!1;if(t&&e instanceof Element)return!1;for(c=a;0!==c--;)if(("_owner"!==l[c]&&"__v"!==l[c]&&"__o"!==l[c]||!e.$$typeof)&&!s(e[l[c]],o[l[c]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return s(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},6374:(e,t,n)=>{"use strict";var r=n(2791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!T.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:E.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return o=o(c=e),e=""===s?"."+I(c,0):s,_(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),O(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(c=0,s=""===s?".":s+":",_(e))for(var l=0;l<e.length;l++){var u=s+I(a=e[l],l);c+=O(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=O(a=a.value,t,i,u=s+I(a,l++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},R={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)x.call(t,l)&&!T.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function _(e){if(m=!1,w(e),!g)if(null!==r(l))g=!0,R(x);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,y(k),k=-1),p=!0;var s=f;try{for(w(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!O());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(l)&&i(l),w(n)}else i(l);d=r(l)}if(null!==d)var c=!0;else{var h=r(u);null!==h&&D(_,h.startTime-n),c=!1}return c}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,T=!1,S=null,k=-1,C=5,I=-1;function O(){return!(t.unstable_now()-I<C)}function A(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?E():(T=!1,S=null)}}else T=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,N=P.port2;P.port1.onmessage=A,E=function(){N.postMessage(null)}}else E=function(){v(A,0)};function R(e){S=e,T||(T=!0,E())}function D(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(m?(y(k),k=-1):m=!0,D(_,s-o))):(e.sortIndex=a,n(l,e),g||p||(g=!0,R(x))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},2391:e=>{"use strict";var t=function(){};e.exports=t},7818:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/arrayan.914bb0c928b219f08cc7.jpg"},5319:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/base.a8c28cb014a92b866dfc.png"},304:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/blob.e39506780c69b0fd8920.png"},6584:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/cart.b99c9686c91340e89f15.png"},2586:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/crop1.8ce09625bb941ac9bd28.png"},1577:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/crop2.d75f9f3b9f8a47a42bbd.png"},2539:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/diary.87060abbad1813248573.png"},4644:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/donut.f11b2de0968c27210fc8.png"},7868:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/factory.202a40157c05d25d016c.png"},2145:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/field.41171ff14d3ab2853efd.png"},5584:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/fruits.23670254320ecb5438ef.png"},9513:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/inventory.886a07028f632893ac57.png"},9097:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/peel.dc34da4f895e44460865.png"},1930:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/peels-seeds.310a17947d442b9a9aa0.png"},4246:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/resilientlogo.531653c7a9c3569e7573.png"},4905:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/square1.082ea17aaf44aed9868a.png"},1148:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/tr.924eec01af944f4587a9.png"},2397:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/truck2.00a4940e4c34531fd5e2.png"},4572:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>s})},1413:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(4572);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,s=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}},3366:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:()=>r})},2933:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var r=n(6669),i=n(7384),s=n(9271);class o extends r.e{constructor(e,t,n){super(e,t),this.radius=n}contains(e){return(0,s.Sp)(e,this.position)<=this.radius}intersects(e){const t=this.position,n=e.position,r=Math.abs(n.x-t.x),s=Math.abs(n.y-t.y),a=this.radius;if(e instanceof o){return a+e.radius>Math.sqrt(r**2+s**2)}if(e instanceof i.A){const{width:t,height:n}=e.size;return Math.pow(r-t,2)+Math.pow(s-n,2)<=a**2||r<=a+t&&s<=a+n||r<=t||s<=n}return!1}}},5463:(e,t,n)=>{"use strict";n.d(t,{$o:()=>u,G1:()=>a,QL:()=>p,Re:()=>l,VH:()=>d,Wt:()=>c,X5:()=>y,YU:()=>r,ZL:()=>i,aM:()=>o,gK:()=>g,rR:()=>f,tZ:()=>m,vq:()=>v,zX:()=>h,zw:()=>s});const r="generated",i="pointerdown",s="pointerup",o="pointerleave",a="pointerout",c="pointermove",l="touchstart",u="touchend",h="touchmove",d="touchcancel",f="resize",p="visibilitychange",g="tsParticles - Error",m=100,v=.5,y=1e3},6669:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});class r{constructor(e,t){this.position={x:e,y:t}}}},7384:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2933),i=n(6669);class s extends i.e{constructor(e,t,n,r){super(e,t),this.size={height:r,width:n}}contains(e){const t=this.size.width,n=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+n}intersects(e){e instanceof r.C&&e.intersects(this);const t=this.size.width,n=this.size.height,i=this.position,o=e.position,a=e instanceof s?e.size:{width:0,height:0},c=a.width,l=a.height;return o.x<i.x+t&&o.x+c>i.x&&o.y<i.y+n&&o.y+l>i.y}}},5460:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var r=n(3747);const i=0,s=0,o=0;class a extends r.U{constructor(e,t){super(e,t,o)}static get origin(){return a.create(i,s)}static clone(e){return a.create(e.x,e.y)}static create(e,t){return new a(e,t)}}},3747:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var r=n(5463),i=n(6949);const s=0,o=0,a=0;class c{constructor(e,t,n){if(this._updateFromAngle=(e,t)=>{this.x=Math.cos(e)*t,this.y=Math.sin(e)*t},!(0,i.hj)(e)&&e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:a}else{if(void 0===e||void 0===t)throw new Error("".concat(r.gK," Vector3d not initialized correctly"));this.x=e,this.y=t,this.z=null!==n&&void 0!==n?n:a}}static get origin(){return c.create(s,o,a)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return c.create(e.x,e.y,e.z)}static create(e,t,n){return new c(e,t,n)}add(e){return c.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return c.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return c.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return c.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;0!=e&&this.multTo(1/e)}rotate(e){return c.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),a)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:a}sub(e){return c.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}},9766:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});var r=n(6949),i=n(1363),s=n(5915);class o extends s.O{constructor(){super(),this.animation=new i.h}static create(e,t){const n=new o;return n.load(e),void 0!==t&&((0,r.HD)(t)||(0,r.kJ)(t)?n.load({value:t}):n.load(t)),n}load(e){if(super.load(e),!e)return;const t=e.animation;void 0!==t&&(void 0!==t.enable?this.animation.h.load(t):this.animation.load(e.animation))}}},4737:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,P:()=>i});var r=n(9271);class i{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(void 0!==e.count&&(this.count=(0,r.Cs)(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=(0,r.Cs)(e.speed)),void 0!==e.decay&&(this.decay=(0,r.Cs)(e.decay)),void 0!==e.delay&&(this.delay=(0,r.Cs)(e.delay)),void 0!==e.sync&&(this.sync=e.sync))}}class s extends i{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(void 0!==e.mode&&(this.mode=e.mode),void 0!==e.startValue&&(this.startValue=e.startValue))}}},7841:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5915);class i{constructor(){this.color=new r.O,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(void 0!==e.color&&(this.color=r.O.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image),void 0!==e.position&&(this.position=e.position),void 0!==e.repeat&&(this.repeat=e.repeat),void 0!==e.size&&(this.size=e.size),void 0!==e.opacity&&(this.opacity=e.opacity))}}},8087:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});var r=n(7559),i=n(6949);class s{constructor(){this.composite="destination-out",this.cover=new r.F,this.enable=!1}load(e){if(e){if(void 0!==e.composite&&(this.composite=e.composite),void 0!==e.cover){const t=e.cover,n=(0,i.HD)(e.cover)?{color:e.cover}:e.cover;this.cover.load(void 0!==t.color||void 0!==t.image?t:{color:n})}void 0!==e.enable&&(this.enable=e.enable)}}}},7559:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var r=n(5915);class i{constructor(){this.opacity=1}load(e){e&&(void 0!==e.color&&(this.color=r.O.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image),void 0!==e.opacity&&(this.opacity=e.opacity))}}},8383:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var r=n(4737),i=n(9271);class s extends r.P{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),e&&void 0!==e.offset&&(this.offset=(0,i.Cs)(e.offset))}}},1363:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(8383);class i{constructor(){this.h=new r.y,this.s=new r.y,this.l=new r.y}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}},3009:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});class r{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode))}}class i{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}load(e){e&&(void 0!==e.selectors&&(this.selectors=e.selectors),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.type&&(this.type=e.type))}}class s{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.force&&(this.force=e.force),void 0!==e.smooth&&(this.smooth=e.smooth))}}class o{constructor(){this.enable=!1,this.mode=[],this.parallax=new s}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class a{constructor(){this.delay=.5,this.enable=!0}load(e){void 0!==e&&(void 0!==e.delay&&(this.delay=e.delay),void 0!==e.enable&&(this.enable=e.enable))}}var c=n(6949);class l{constructor(){this.onClick=new r,this.onDiv=new i,this.onHover=new o,this.resize=new a}load(e){if(!e)return;this.onClick.load(e.onClick);const t=e.onDiv;void 0!==t&&(this.onDiv=(0,c.KH)(t,(e=>{const t=new i;return t.load(e),t}))),this.onHover.load(e.onHover),this.resize.load(e.resize)}}},534:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(3009);class i{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e)return;if(!this._container)return;const t=this._engine.interactors.get(this._container);if(t)for(const n of t)n.loadModeOptions&&n.loadModeOptions(this,e)}}class s{constructor(e,t){this.detectsOn="window",this.events=new r.z,this.modes=new i(e,t)}load(e){if(!e)return;const t=e.detectsOn;void 0!==t&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}},1626:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(6949);class i{load(e){if(e){var t,n,i;if(e.position)this.position={x:null!==(t=e.position.x)&&void 0!==t?t:50,y:null!==(n=e.position.y)&&void 0!==n?n:50,mode:null!==(i=e.position.mode)&&void 0!==i?i:"percent"};e.options&&(this.options=(0,r.ZB)({},e.options))}}}},6589:(e,t,n)=>{"use strict";n.d(t,{E:()=>f});var r=n(6949),i=n(7841),s=n(8087);class o{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.zIndex&&(this.zIndex=e.zIndex))}}var a=n(534),c=n(1626),l=n(2979),u=n(1957),h=n(8413),d=n(9271);class f{constructor(e,t){this._findDefaultTheme=e=>{var t;return null!==(t=this.themes.find((t=>t.default.value&&t.default.mode===e)))&&void 0!==t?t:this.themes.find((e=>e.default.value&&"any"===e.default.mode))},this._importPreset=e=>{this.load(this._engine.getPreset(e))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new i.A,this.backgroundMask=new s.g,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new o,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new a.o(e,t),this.manualParticles=[],this.particles=(0,h.x)(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){var t,n;if(!e)return;void 0!==e.preset&&(0,r.KH)(e.preset,(e=>this._importPreset(e))),void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay),void 0!==e.clear&&(this.clear=e.clear),void 0!==e.key&&(this.key=e.key),void 0!==e.name&&(this.name=e.name),void 0!==e.delay&&(this.delay=(0,d.Cs)(e.delay));const i=e.detectRetina;void 0!==i&&(this.detectRetina=i),void 0!==e.duration&&(this.duration=(0,d.Cs)(e.duration));const s=e.fpsLimit;void 0!==s&&(this.fpsLimit=s),void 0!==e.pauseOnBlur&&(this.pauseOnBlur=e.pauseOnBlur),void 0!==e.pauseOnOutsideViewport&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),void 0!==e.zLayers&&(this.zLayers=e.zLayers),this.background.load(e.background);const o=e.fullScreen;(0,r.jn)(o)?this.fullScreen.enable=o:this.fullScreen.load(o),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map((e=>{const t=new c.h;return t.load(e),t}))),this.particles.load(e.particles),this.style=(0,r.ZB)(this.style,e.style),this._engine.loadOptions(this,e),void 0!==e.smooth&&(this.smooth=e.smooth);const a=this._engine.interactors.get(this._container);if(a)for(const r of a)r.loadOptions&&r.loadOptions(this,e);if(void 0!==e.responsive)for(const r of e.responsive){const e=new l.E;e.load(r),this.responsive.push(e)}if(this.responsive.sort(((e,t)=>e.maxWidth-t.maxWidth)),void 0!==e.themes)for(const r of e.themes){const e=this.themes.find((e=>e.name===r.name));if(e)e.load(r);else{const e=new u.Q;e.load(r),this.themes.push(e)}}this.defaultThemes.dark=null===(t=this._findDefaultTheme("dark"))||void 0===t?void 0:t.name,this.defaultThemes.light=null===(n=this._findDefaultTheme("light"))||void 0===n?void 0:n.name}setResponsive(e,t,n){this.load(n);const r=this.responsive.find((n=>"screen"===n.mode&&screen?n.maxWidth>screen.availWidth:n.maxWidth*t>e));return this.load(null===r||void 0===r?void 0:r.options),null===r||void 0===r?void 0:r.maxWidth}setTheme(e){if(e){const t=this.themes.find((t=>t.name===e));t&&this.load(t.options)}else{const e=(0,r.HY)("(prefers-color-scheme: dark)"),t=e&&e.matches,n=this._findDefaultTheme(t?"dark":"light");n&&this.load(n.options)}}}},5915:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(6949);class i{constructor(){this.value=""}static create(e,t){const n=new i;return n.load(e),void 0!==t&&((0,r.HD)(t)||(0,r.kJ)(t)?n.load({value:t}):n.load(t)),n}load(e){void 0!==(null===e||void 0===e?void 0:e.value)&&(this.value=e.value)}}},8242:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(3922);class i{constructor(){this.horizontal=new r.u,this.vertical=new r.u}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}},3922:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(3365);class i extends r.SW{constructor(){super(),this.value=1}}},9081:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});class r{constructor(){this.speed=2}load(e){e&&void 0!==e.speed&&(this.speed=e.speed)}}class i{constructor(){this.enable=!0,this.retries=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.retries&&(this.retries=e.retries))}}var s=n(8242),o=n(9271);class a{constructor(){this.absorb=new r,this.bounce=new s.b,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new i}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.maxSpeed&&(this.maxSpeed=(0,o.Cs)(e.maxSpeed)),void 0!==e.mode&&(this.mode=e.mode),this.overlap.load(e.overlap))}}},135:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(1413),i=n(6949),s=n(6155),o=n(5174);class a{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(void 0!==e.x&&(this.x=e.x),void 0!==e.y&&(this.y=e.y),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.radius&&(this.radius=e.radius))}}var c=n(8929),l=n(7087),u=n(870);class h{constructor(){this.default="out"}load(e){var t,n,r,i;e&&(void 0!==e.default&&(this.default=e.default),this.bottom=null!==(t=e.bottom)&&void 0!==t?t:e.default,this.left=null!==(n=e.left)&&void 0!==n?n:e.default,this.right=null!==(r=e.right)&&void 0!==r?r:e.default,this.top=null!==(i=e.top)&&void 0!==i?i:e.default)}}var d=n(3087),f=n(9271);class p{constructor(){this.angle=new s.k,this.attract=new o.k,this.center=new a,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new c.S,this.path=new l.C,this.outModes=new h,this.random=!1,this.size=!1,this.speed=2,this.spin=new d.y,this.straight=!1,this.trail=new u.S,this.vibrate=!1,this.warp=!1}load(e){if(!e)return;this.angle.load((0,i.hj)(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),void 0!==e.decay&&(this.decay=(0,f.Cs)(e.decay)),void 0!==e.direction&&(this.direction=e.direction),void 0!==e.distance&&(this.distance=(0,i.hj)(e.distance)?{horizontal:e.distance,vertical:e.distance}:(0,r.Z)({},e.distance)),void 0!==e.drift&&(this.drift=(0,f.Cs)(e.drift)),void 0!==e.enable&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes;void 0!==t&&((0,i.Kn)(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),void 0!==e.random&&(this.random=e.random),void 0!==e.size&&(this.size=e.size),void 0!==e.speed&&(this.speed=(0,f.Cs)(e.speed)),this.spin.load(e.spin),void 0!==e.straight&&(this.straight=e.straight),this.trail.load(e.trail),void 0!==e.vibrate&&(this.vibrate=e.vibrate),void 0!==e.warp&&(this.warp=e.warp)}}},6155:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(9271);class i{constructor(){this.offset=0,this.value=90}load(e){e&&(void 0!==e.offset&&(this.offset=(0,r.Cs)(e.offset)),void 0!==e.value&&(this.value=(0,r.Cs)(e.value)))}}},5174:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(9271);class i{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(e&&(void 0!==e.distance&&(this.distance=(0,r.Cs)(e.distance)),void 0!==e.enable&&(this.enable=e.enable),e.rotate)){const t=e.rotate.x;void 0!==t&&(this.rotate.x=t);const n=e.rotate.y;void 0!==n&&(this.rotate.y=n)}}}},8929:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var r=n(9271);class i{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(void 0!==e.acceleration&&(this.acceleration=(0,r.Cs)(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.inverse&&(this.inverse=e.inverse),void 0!==e.maxSpeed&&(this.maxSpeed=(0,r.Cs)(e.maxSpeed)))}}},870:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var r=n(5915);class i{load(e){e&&(void 0!==e.color&&(this.color=r.O.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image))}}class s{constructor(){this.enable=!1,this.length=10,this.fill=new i}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.fill&&this.fill.load(e.fill),void 0!==e.length&&(this.length=e.length))}}},7087:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var r=n(3365),i=n(6949);class s{constructor(){this.clamp=!0,this.delay=new r.SW,this.enable=!1,this.options={}}load(e){e&&(void 0!==e.clamp&&(this.clamp=e.clamp),this.delay.load(e.delay),void 0!==e.enable&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=(0,i.ZB)(this.options,e.options)))}}},3087:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var r=n(6949),i=n(9271);class s{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(void 0!==e.acceleration&&(this.acceleration=(0,i.Cs)(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),e.position&&(this.position=(0,r.ZB)({},e.position)))}}},8298:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var r=n(8807),i=n(3365);class s extends i.md{constructor(){super(),this.animation=new r.O,this.value=1}load(e){if(!e)return;super.load(e);const t=e.animation;void 0!==t&&this.animation.load(t)}}},8807:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(4737);class i extends r.B{constructor(){super(),this.destroy="none",this.speed=2}load(e){super.load(e),e&&void 0!==e.destroy&&(this.destroy=e.destroy)}}},8636:(e,t,n)=>{"use strict";n.d(t,{B:()=>y});var r=n(6949),i=n(9766),s=n(9081);class o{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(!e)return;const t=e.options;if(void 0!==t)for(const i in t){const e=t[i];var n;if(e)this.options[i]=(0,r.ZB)(null!==(n=this.options[i])&&void 0!==n?n:{},e)}void 0!==e.close&&(this.close=e.close),void 0!==e.fill&&(this.fill=e.fill),void 0!==e.type&&(this.type=e.type)}}var a=n(135),c=n(8298),l=n(8242);class u{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(!e)return;void 0!==e.enable&&(this.enable=e.enable);const t=e.width;void 0!==t&&(this.width=t);const n=e.height;void 0!==n&&(this.height=n)}}class h{constructor(){this.mode="delete",this.value=0}load(e){e&&(void 0!==e.mode&&(this.mode=e.mode),void 0!==e.value&&(this.value=e.value))}}class d{constructor(){this.density=new u,this.limit=new h,this.value=0}load(e){e&&(this.density.load(e.density),this.limit.load(e.limit),void 0!==e.value&&(this.value=e.value))}}var f=n(1158),p=n(480),g=n(1404),m=n(2120),v=n(59);class y{constructor(e,t){this._engine=e,this._container=t,this.bounce=new l.b,this.collisions=new s.y,this.color=new i.R,this.color.value="#fff",this.effect=new o,this.groups={},this.move=new a.A,this.number=new d,this.opacity=new c.D,this.reduceDuplicates=!1,this.shadow=new f.j,this.shape=new p.b,this.size=new g.$,this.stroke=new m.m,this.zIndex=new v.K}load(e){if(!e)return;if(void 0!==e.groups)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const n=e.groups[i];var t;if(void 0!==n)this.groups[i]=(0,r.ZB)(null!==(t=this.groups[i])&&void 0!==t?t:{},n)}void 0!==e.reduceDuplicates&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(i.R.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),void 0!==e.interactivity&&(this.interactivity=(0,r.ZB)({},e.interactivity));const n=e.stroke;if(n&&(this.stroke=(0,r.KH)(n,(e=>{const t=new m.m;return t.load(e),t}))),this._container){const t=this._engine.updaters.get(this._container);if(t)for(const r of t)r.loadOptions&&r.loadOptions(this,e);const n=this._engine.interactors.get(this._container);if(n)for(const r of n)r.loadParticlesOptions&&r.loadParticlesOptions(this,e)}}}},1158:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var r=n(5915);class i{constructor(){this.blur=0,this.color=new r.O,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(void 0!==e.blur&&(this.blur=e.blur),this.color=r.O.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(void 0!==e.offset.x&&(this.offset.x=e.offset.x),void 0!==e.offset.y&&(this.offset.y=e.offset.y)))}}},480:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(6949);class i{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(!e)return;const t=e.options;if(void 0!==t)for(const i in t){const e=t[i];var n;if(e)this.options[i]=(0,r.ZB)(null!==(n=this.options[i])&&void 0!==n?n:{},e)}void 0!==e.close&&(this.close=e.close),void 0!==e.fill&&(this.fill=e.fill),void 0!==e.type&&(this.type=e.type)}}},1404:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var r=n(3365),i=n(635);class s extends r.md{constructor(){super(),this.animation=new i.a,this.value=3}load(e){if(super.load(e),!e)return;const t=e.animation;void 0!==t&&this.animation.load(t)}}},635:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var r=n(4737);class i extends r.B{constructor(){super(),this.destroy="none",this.speed=5}load(e){super.load(e),e&&void 0!==e.destroy&&(this.destroy=e.destroy)}}},2120:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var r=n(9766),i=n(9271);class s{constructor(){this.width=0}load(e){e&&(void 0!==e.color&&(this.color=r.R.create(this.color,e.color)),void 0!==e.width&&(this.width=(0,i.Cs)(e.width)),void 0!==e.opacity&&(this.opacity=(0,i.Cs)(e.opacity)))}}},59:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var r=n(3365);class i extends r.SW{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(void 0!==e.opacityRate&&(this.opacityRate=e.opacityRate),void 0!==e.sizeRate&&(this.sizeRate=e.sizeRate),void 0!==e.velocityRate&&(this.velocityRate=e.velocityRate))}}},2979:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(6949);class i{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(void 0!==e.maxWidth&&(this.maxWidth=e.maxWidth),void 0!==e.mode&&("screen"===e.mode?this.mode="screen":this.mode="canvas"),void 0!==e.options&&(this.options=(0,r.ZB)({},e.options)))}}},1957:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});class r{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(void 0!==e.auto&&(this.auto=e.auto),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.value&&(this.value=e.value))}}var i=n(6949);class s{constructor(){this.name="",this.default=new r}load(e){e&&(void 0!==e.name&&(this.name=e.name),this.default.load(e.default),void 0!==e.options&&(this.options=(0,i.ZB)({},e.options)))}}},3365:(e,t,n)=>{"use strict";n.d(t,{SW:()=>s,md:()=>a});var r=n(4737),i=n(9271);class s{constructor(){this.value=0}load(e){e&&void 0!==e.value&&(this.value=(0,i.Cs)(e.value))}}class o extends s{constructor(){super(),this.animation=new r.P}load(e){if(super.load(e),!e)return;const t=e.animation;void 0!==t&&this.animation.load(t)}}class a extends o{constructor(){super(),this.animation=new r.B}load(e){super.load(e)}}},4941:(e,t,n)=>{"use strict";n.d(t,{$F:()=>d,C3:()=>c,PL:()=>f,TQ:()=>a,ZH:()=>l,Zw:()=>h,pS:()=>o,zv:()=>u});var r=n(1413),i=n(514);const s={x:0,y:0};function o(e,t,n){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.closePath()}function a(e,t,n){e.fillStyle=null!==n&&void 0!==n?n:"rgba(0,0,0,0)",e.fillRect(s.x,s.y,t.width,t.height)}function c(e,t,n,r){n&&(e.globalAlpha=r,e.drawImage(n,s.x,s.y,t.width,t.height),e.globalAlpha=1)}function l(e,t){e.clearRect(s.x,s.y,t.width,t.height)}async function u(e){var t,n,s,o,a;const{container:c,context:l,particle:u,delta:h,colorStyles:d,backgroundMask:f,composite:p,radius:g,opacity:m,shadow:v,transform:y}=e,b=u.getPosition(),w=u.rotation+(u.pathRotation?u.velocity.angle:0),_=Math.sin(w),x=Math.cos(w),E={a:x*(null!==(t=y.a)&&void 0!==t?t:1),b:_*(null!==(n=y.b)&&void 0!==n?n:1),c:-_*(null!==(s=y.c)&&void 0!==s?s:1),d:x*(null!==(o=y.d)&&void 0!==o?o:1)};l.setTransform(E.a,E.b,E.c,E.d,b.x,b.y),f&&(l.globalCompositeOperation=p);const T=u.shadowColor;v.enable&&T&&(l.shadowBlur=v.blur,l.shadowColor=(0,i.iz)(T),l.shadowOffsetX=v.offset.x,l.shadowOffsetY=v.offset.y),d.fill&&(l.fillStyle=d.fill);const S=null!==(a=u.strokeWidth)&&void 0!==a?a:0;l.lineWidth=S,d.stroke&&(l.strokeStyle=d.stroke);const k={container:c,context:l,particle:u,radius:g,opacity:m,delta:h,transformData:E,strokeWidth:S};await async function(e){const{container:t,context:n,particle:i,radius:s,opacity:o,delta:a,strokeWidth:c,transformData:l}=e,u=0;if(!i.shape)return;const h=t.shapeDrawers.get(i.shape);if(!h)return;n.beginPath(),await h.draw({context:n,particle:i,radius:s,opacity:o,delta:a,pixelRatio:t.retina.pixelRatio,transformData:(0,r.Z)({},l)}),i.shapeClose&&n.closePath();c>u&&n.stroke();i.shapeFill&&n.fill()}(k),await async function(e){const{container:t,context:n,particle:i,radius:s,opacity:o,delta:a,transformData:c}=e;if(!i.shape)return;const l=t.shapeDrawers.get(i.shape);if(null===l||void 0===l||!l.afterDraw)return;await l.afterDraw({context:n,particle:i,radius:s,opacity:o,delta:a,pixelRatio:t.retina.pixelRatio,transformData:(0,r.Z)({},c)})}(k),await async function(e){const{container:t,context:n,particle:i,radius:s,opacity:o,delta:a,transformData:c}=e;if(!i.effect)return;const l=t.effectDrawers.get(i.effect);if(!l)return;await l.draw({context:n,particle:i,radius:s,opacity:o,delta:a,pixelRatio:t.retina.pixelRatio,transformData:(0,r.Z)({},c)})}(k),l.globalCompositeOperation="source-over",l.resetTransform()}async function h(e,t,n){t.draw&&await t.draw(e,n)}async function d(e,t,n,r){t.drawParticle&&await t.drawParticle(e,n,r)}function f(e,t,n){return{h:e.h,s:e.s,l:e.l+("darken"===t?-1:1)*n}}},514:(e,t,n)=>{"use strict";n.d(t,{BE:()=>_,Dt:()=>x,PB:()=>C,VI:()=>l,Y6:()=>m,bS:()=>T,gW:()=>E,iz:()=>y,lC:()=>p,lN:()=>f,oc:()=>w,tX:()=>h,ve:()=>g,vz:()=>b});var r=n(9271),i=n(6949),s=n(5463);const o="random",a="mid",c=new Map;function l(e){c.set(e.key,e)}function u(e){for(const[,r]of c)if(e.startsWith(r.stringPrefix))return r.parseString(e);const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,((e,t,n,r,i)=>t+t+n+n+r+r+(void 0!==i?i+i:""))),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(t);return n?{a:void 0!==n[4]?parseInt(n[4],16)/255:1,b:parseInt(n[3],16),g:parseInt(n[2],16),r:parseInt(n[1],16)}:void 0}function h(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return;const r=(0,i.HD)(e)?{value:e}:e;if((0,i.HD)(r.value))return d(r.value,t,n);if((0,i.kJ)(r.value))return h({value:(0,i.c8)(r.value,t,n)});for(const[,i]of c){const e=i.handleRangeColor(r);if(e)return e}}function d(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return;const r=(0,i.HD)(e)?{value:e}:e;if((0,i.HD)(r.value))return r.value===o?v():function(e){return u(e)}(r.value);if((0,i.kJ)(r.value))return d({value:(0,i.c8)(r.value,t,n)});for(const[,i]of c){const e=i.handleColor(r);if(e)return e}}function f(e,t){const n=h(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]);return n?p(n):void 0}function p(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o={h:0,l:.5*(i+s),s:0};return i!==s&&(o.s=o.l<.5?(i-s)/(i+s):(i-s)/(2-i-s),o.h=t===i?(n-r)/(i-s):o.h=n===i?2+(r-t)/(i-s):4+(t-n)/(i-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function g(e){const t=360,n=(e.h%t+t)%t,r=Math.max(0,Math.min(100,e.s)),i=n/t,s=r/100,o=Math.max(0,Math.min(100,e.l))/100,a=255;if(0===r){const e=Math.round(o*a);return{r:e,g:e,b:e}}const c=(e,t,n)=>{if(n<0&&n++,n>1&&n--,6*n<1)return e+6*(t-e)*n;if(2*n<1)return t;if(3*n<2){return e+(t-e)*(2/3-n)*6}return e},l=o<.5?o*(1+s):o+s-o*s,u=2*o-l,h=1/3,d=Math.min(a,a*c(u,l,i+h)),f=Math.min(a,a*c(u,l,i)),p=Math.min(a,a*c(u,l,i-h));return{r:Math.round(d),g:Math.round(f),b:Math.round(p)}}function m(e){const t=g(e);return{a:e.a,b:t.b,g:t.g,r:t.r}}function v(e){const t=null!==e&&void 0!==e?e:0;return{b:Math.floor((0,r.vd)((0,r.Cs)(t,256))),g:Math.floor((0,r.vd)((0,r.Cs)(t,256))),r:Math.floor((0,r.vd)((0,r.Cs)(t,256)))}}function y(e,t){return"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(null!==t&&void 0!==t?t:1,")")}function b(e,t){return"hsla(".concat(e.h,", ").concat(e.s,"%, ").concat(e.l,"%, ").concat(null!==t&&void 0!==t?t:1,")")}function w(e,t,n,i){let s=e,o=t;return void 0===s.r&&(s=g(e)),void 0===o.r&&(o=g(t)),{b:(0,r.CD)(s.b,o.b,n,i),g:(0,r.CD)(s.g,o.g,n,i),r:(0,r.CD)(s.r,o.r,n,i)}}function _(e,t,n){if(n===o)return v();if(n!==a)return n;{var r,i;const n=null!==(r=e.getFillColor())&&void 0!==r?r:e.getStrokeColor(),s=null!==(i=null===t||void 0===t?void 0:t.getFillColor())&&void 0!==i?i:null===t||void 0===t?void 0:t.getStrokeColor();if(n&&s&&t)return w(n,s,e.getRadius(),t.getRadius());{const e=null!==n&&void 0!==n?n:s;if(e)return g(e)}}}function x(e,t,n){const r=(0,i.HD)(e)?e:e.value;return r===o?n?h({value:r}):t?o:a:r===a?a:h({value:r})}function E(e){return void 0!==e?{h:e.h.value,s:e.s.value,l:e.l.value}:void 0}function T(e,t,n){const r={h:{enable:!1,value:e.h},s:{enable:!1,value:e.s},l:{enable:!1,value:e.l}};return t&&(S(r.h,t.h,n),S(r.s,t.s,n),S(r.l,t.l,n)),r}function S(e,t,n){e.enable=t.enable;e.enable?(e.velocity=(0,r.Gu)(t.speed)/s.tZ*n,e.decay=1-(0,r.Gu)(t.decay),e.status="increasing",e.loops=0,e.maxLoops=(0,r.Gu)(t.count),e.time=0,e.delayTime=(0,r.Gu)(t.delay)*s.X5,t.sync||(e.velocity*=(0,r.sZ)(),e.value*=(0,r.sZ)()),e.initialValue=e.value,e.offset=(0,r.Cs)(t.offset)):e.velocity=0}function k(e,t,n,i){var s,o,a,c,l,u,h,d,f;if(!e||!e.enable||(null!==(s=e.maxLoops)&&void 0!==s?s:0)>0&&(null!==(o=e.loops)&&void 0!==o?o:0)>(null!==(a=e.maxLoops)&&void 0!==a?a:0))return;if(e.time||(e.time=0),(null!==(c=e.delayTime)&&void 0!==c?c:0)>0&&e.time<(null!==(l=e.delayTime)&&void 0!==l?l:0)&&(e.time+=i.value),(null!==(u=e.delayTime)&&void 0!==u?u:0)>0&&e.time<(null!==(h=e.delayTime)&&void 0!==h?h:0))return;const p=e.offset?(0,r.vd)(e.offset):0,g=(null!==(d=e.velocity)&&void 0!==d?d:0)*i.factor+3.6*p,m=null!==(f=e.decay)&&void 0!==f?f:1,v=(0,r.KI)(t),y=(0,r.Uv)(t);if(n&&"increasing"!==e.status){e.value-=g;const t=0;e.value<t&&(e.loops||(e.loops=0),e.loops++,e.status="increasing")}else e.value+=g,e.value>v&&(e.loops||(e.loops=0),e.loops++,n?e.status="decreasing":e.value-=v);e.velocity&&1!==m&&(e.velocity*=m),e.value=(0,r.uZ)(e.value,y,v)}function C(e,t){if(!e)return;const{h:n,s:r,l:i}=e,s={min:0,max:100},o={min:0,max:100};n&&k(n,{min:0,max:360},!1,t),r&&k(r,s,!0,t),i&&k(i,o,!0,t)}},9271:(e,t,n)=>{"use strict";n.d(t,{BV:()=>I,CD:()=>f,Cs:()=>y,Gk:()=>x,Gu:()=>g,Gz:()=>k,Id:()=>_,KI:()=>v,Sp:()=>w,Uv:()=>m,_X:()=>u,bx:()=>l,hA:()=>T,lQ:()=>E,mC:()=>C,oW:()=>b,p:()=>S,sZ:()=>h,uZ:()=>d,vd:()=>p});var r=n(5460),i=n(6949),s=n(5463);let o=Math.random;const a=new Map,c=2*Math.PI;function l(e,t){a.get(e)||a.set(e,t)}function u(e){var t;return null!==(t=a.get(e))&&void 0!==t?t:e=>e}function h(){return d(o(),0,1-Number.EPSILON)}function d(e,t,n){return Math.min(Math.max(e,t),n)}function f(e,t,n,r){return Math.floor((e*n+t*r)/(n+r))}function p(e){const t=v(e);let n=m(e);return t===n&&(n=0),h()*(t-n)+n}function g(e){return(0,i.hj)(e)?e:p(e)}function m(e){return(0,i.hj)(e)?e:e.min}function v(e){return(0,i.hj)(e)?e:e.max}function y(e,t){if(e===t||void 0===t&&(0,i.hj)(e))return e;const n=m(e),r=v(e);return void 0!==t?{min:Math.min(n,t),max:Math.max(r,t)}:y(n,r)}function b(e,t){const n=e.x-t.x,r=e.y-t.y;return{dx:n,dy:r,distance:Math.sqrt(n**2+r**2)}}function w(e,t){return b(e,t).distance}function _(e){return e*Math.PI/180}function x(e,t,n){if((0,i.hj)(e))return _(e);const r=.25;switch(e){case"top":return.5*-Math.PI;case"top-right":return-Math.PI*r;case"right":return 0;case"bottom-right":return Math.PI*r;case"bottom":return.5*Math.PI;case"bottom-left":return.75*Math.PI;case"left":return Math.PI;case"top-left":return.75*-Math.PI;case"inside":return Math.atan2(n.y-t.y,n.x-t.x);case"outside":return Math.atan2(t.y-n.y,t.x-n.x);default:return h()*c}}function E(e){const t=r.O.origin;return t.length=1,t.angle=e,t}function T(e,t,n,i){return r.O.create(e.x*(n-i)/(n+i)+2*t.x*i/(n+i),e.y)}function S(e){var t,n,r,i;return{x:(null!==(t=null===(n=e.position)||void 0===n?void 0:n.x)&&void 0!==t?t:h()*s.tZ)*e.size.width/s.tZ,y:(null!==(r=null===(i=e.position)||void 0===i?void 0:i.y)&&void 0!==r?r:h()*s.tZ)*e.size.height/s.tZ}}function k(e){var t,n;const r={x:void 0!==(null===(t=e.position)||void 0===t?void 0:t.x)?g(e.position.x):void 0,y:void 0!==(null===(n=e.position)||void 0===n?void 0:n.y)?g(e.position.y):void 0};return S({size:e.size,position:r})}function C(e){var t,n,r,i;return{x:null!==(t=null===(n=e.position)||void 0===n?void 0:n.x)&&void 0!==t?t:h()*e.size.width,y:null!==(r=null===(i=e.position)||void 0===i?void 0:i.y)&&void 0!==r?r:h()*e.size.height}}function I(e){return e?e.endsWith("%")?parseFloat(e)/s.tZ:parseFloat(e):1}},8413:(e,t,n)=>{"use strict";n.d(t,{h:()=>i,x:()=>s});var r=n(8636);function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n)e.load(i)}function s(e,t){const n=new r.B(e,t);for(var s=arguments.length,o=new Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];return i(n,...o),n}},6949:(e,t,n)=>{"use strict";n.d(t,{Ac:()=>b,Cr:()=>B,HD:()=>L,HY:()=>d,KH:()=>I,Kn:()=>j,Kr:()=>h,M_:()=>w,NM:()=>f,V0:()=>P,XD:()=>E,ZB:()=>_,ap:()=>D,bt:()=>R,c8:()=>y,dB:()=>g,dU:()=>v,dp:()=>C,gy:()=>S,hj:()=>F,iC:()=>T,jl:()=>l,jn:()=>M,kJ:()=>U,kR:()=>k,mx:()=>m,wA:()=>O,wm:()=>x,yf:()=>p});var r=n(5987),i=n(9271),s=n(5463),o=n(5460);const a=["mode"],c={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function l(){return c}function u(e){const t={bounced:!1},{pSide:n,pOtherSide:r,rectSide:i,rectOtherSide:s,velocity:o,factor:a}=e;return r.min<s.min||r.min>s.max||r.max<s.min||r.max>s.max||(n.max>=i.min&&n.max<=.5*(i.max+i.min)&&o>0||n.min<=i.max&&n.min>.5*(i.max+i.min)&&o<0)&&(t.velocity=o*-a,t.bounced=!0),t}function h(){return"undefined"===typeof window||!window||"undefined"===typeof window.document||!window.document}function d(e){if(!h()&&"undefined"!==typeof matchMedia)return matchMedia(e)}function f(e){if(!h()&&"undefined"!==typeof IntersectionObserver)return new IntersectionObserver(e)}function p(e){if(!h()&&"undefined"!==typeof MutationObserver)return new MutationObserver(e)}function g(e,t){return e===t||U(t)&&t.indexOf(e)>-1}async function m(e,t){try{await document.fonts.load("".concat(null!==t&&void 0!==t?t:"400"," 36px '").concat(null!==e&&void 0!==e?e:"Verdana","'"))}catch(n){}}function v(e){return Math.floor((0,i.sZ)()*e.length)}function y(e,t){return e[void 0!==t&&(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])?t%e.length:v(e)]}function b(e,t,n,r,i){return function(e,t,n,r){let i=!0;r&&"bottom"!==r||(i=e.top<t.height+n.x);!i||r&&"left"!==r||(i=e.right>n.x);!i||r&&"right"!==r||(i=e.left<t.width+n.y);!i||r&&"top"!==r||(i=e.bottom>n.y);return i}(w(e,null!==r&&void 0!==r?r:0),t,n,i)}function w(e,t){return{bottom:e.y+t,left:e.x-t,right:e.x+t,top:e.y-t}}function _(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n){if(void 0===i||null===i)continue;if(!j(i)){e=i;continue}const t=Array.isArray(i);!t||!j(e)&&e&&Array.isArray(e)?t||!j(e)&&e&&!Array.isArray(e)||(e={}):e=[];for(const n in i){if("__proto__"===n)continue;const t=i[n],r=e;r[n]=j(t)&&Array.isArray(t)?t.map((e=>_(r[n],e))):_(r[n],t)}}return e}function x(e,t){return!!A(t,(t=>t.enable&&g(e,t.mode)))}function E(e,t,n){I(t,(t=>{const r=t.mode;t.enable&&g(e,r)&&function(e,t){const n=e.selectors;I(n,(n=>{t(n,e)}))}(t,n)}))}function T(e,t){if(t&&e)return A(e,(e=>function(e,t){const n=I(t,(t=>e.matches(t)));return U(n)?n.some((e=>e)):n}(t,e.selectors)))}function S(e){return{position:e.getPosition(),radius:e.getRadius(),mass:e.getMass(),velocity:e.velocity,factor:o.O.create((0,i.Gu)(e.options.bounce.horizontal.value),(0,i.Gu)(e.options.bounce.vertical.value))}}function k(e,t){const{x:n,y:r}=e.velocity.sub(t.velocity),[s,o]=[e.position,t.position],{dx:a,dy:c}=(0,i.oW)(o,s);if(n*a+r*c<0)return;const l=-Math.atan2(c,a),u=e.mass,h=t.mass,d=e.velocity.rotate(l),f=t.velocity.rotate(l),p=(0,i.hA)(d,f,u,h),g=(0,i.hA)(f,d,u,h),m=p.rotate(-l),v=g.rotate(-l);e.velocity.x=m.x*e.factor.x,e.velocity.y=m.y*e.factor.y,t.velocity.x=v.x*t.factor.x,t.velocity.y=v.y*t.factor.y}function C(e,t){const n=w(e.getPosition(),e.getRadius()),r=e.options.bounce,s=u({pSide:{min:n.left,max:n.right},pOtherSide:{min:n.top,max:n.bottom},rectSide:{min:t.left,max:t.right},rectOtherSide:{min:t.top,max:t.bottom},velocity:e.velocity.x,factor:(0,i.Gu)(r.horizontal.value)});s.bounced&&(void 0!==s.velocity&&(e.velocity.x=s.velocity),void 0!==s.position&&(e.position.x=s.position));const o=u({pSide:{min:n.top,max:n.bottom},pOtherSide:{min:n.left,max:n.right},rectSide:{min:t.top,max:t.bottom},rectOtherSide:{min:t.left,max:t.right},velocity:e.velocity.y,factor:(0,i.Gu)(r.vertical.value)});o.bounced&&(void 0!==o.velocity&&(e.velocity.y=o.velocity),void 0!==o.position&&(e.position.y=o.position))}function I(e,t){return U(e)?e.map(((e,n)=>t(e,n))):t(e,0)}function O(e,t,n){return U(e)?y(e,t,n):e}function A(e,t){if(U(e))return e.find(((e,n)=>t(e,n)));return t(e,0)?e:void 0}function P(e,t){const n=e.value,r=e.animation,o={delayTime:(0,i.Gu)(r.delay)*s.X5,enable:r.enable,value:(0,i.Gu)(e.value)*t,max:(0,i.KI)(n)*t,min:(0,i.Uv)(n)*t,loops:0,maxLoops:(0,i.Gu)(r.count),time:0};if(r.enable){switch(o.decay=1-(0,i.Gu)(r.decay),r.mode){case"increase":o.status="increasing";break;case"decrease":o.status="decreasing";break;case"random":o.status=(0,i.sZ)()>=s.vq?"increasing":"decreasing"}const e="auto"===r.mode;switch(r.startValue){case"min":o.value=o.min,e&&(o.status="increasing");break;case"max":o.value=o.max,e&&(o.status="decreasing");break;default:o.value=(0,i.vd)(o),e&&(o.status=(0,i.sZ)()>=s.vq?"increasing":"decreasing")}}return o.initialValue=o.value,o}function N(e,t){if(!("percent"===e.mode)){const{mode:t}=e;return(0,r.Z)(e,a)}return"x"in e?{x:e.x/s.tZ*t.width,y:e.y/s.tZ*t.height}:{width:e.width/s.tZ*t.width,height:e.height/s.tZ*t.height}}function R(e,t){return N(e,t)}function D(e,t){return N(e,t)}function M(e){return"boolean"===typeof e}function L(e){return"string"===typeof e}function F(e){return"number"===typeof e}function j(e){return"object"===typeof e&&null!==e}function U(e){return Array.isArray(e)}function B(e,t,n,r,s){var o,a,c,l,u,h,d,f,p;if(e.destroyed||!t||!t.enable||(null!==(o=t.maxLoops)&&void 0!==o?o:0)>0&&(null!==(a=t.loops)&&void 0!==a?a:0)>(null!==(c=t.maxLoops)&&void 0!==c?c:0))return;const g=(null!==(l=t.velocity)&&void 0!==l?l:0)*s.factor,m=t.min,v=t.max,y=null!==(u=t.decay)&&void 0!==u?u:1;if(t.time||(t.time=0),(null!==(h=t.delayTime)&&void 0!==h?h:0)>0&&t.time<(null!==(d=t.delayTime)&&void 0!==d?d:0)&&(t.time+=s.value),!((null!==(f=t.delayTime)&&void 0!==f?f:0)>0&&t.time<(null!==(p=t.delayTime)&&void 0!==p?p:0))){switch(t.status){case"increasing":t.value>=v?(n?t.status="decreasing":t.value-=v,t.loops||(t.loops=0),t.loops++):t.value+=g;break;case"decreasing":t.value<=m?(n?t.status="increasing":t.value+=v,t.loops||(t.loops=0),t.loops++):t.value-=g}t.velocity&&1!==y&&(t.velocity*=y),function(e,t,n,r,i){switch(t){case"max":n>=i&&e.destroy();break;case"min":n<=r&&e.destroy()}}(e,r,t.value,m,v),e.destroyed||(t.value=(0,i.uZ)(t.value,m,v))}}},4709:(e,t,n)=>{"use strict";n.d(t,{RC:()=>v.R,Cd:()=>d.C,L8:()=>f,Oz:()=>y.O,$S:()=>p,Ae:()=>g.A,SW:()=>b.SW,OW:()=>m.O,bx:()=>o.bx,dU:()=>i.dU,p:()=>o.p,Gz:()=>o.Gz,M_:()=>i.M_,kR:()=>i.kR,gy:()=>i.gy,uZ:()=>o.uZ,oc:()=>l.oc,ZB:()=>i.ZB,Id:()=>o.Id,iC:()=>i.iC,XD:()=>i.XD,pS:()=>w.pS,gK:()=>r.gK,KH:()=>i.KH,Sp:()=>o.Sp,oW:()=>o.oW,_X:()=>o._X,bS:()=>l.bS,BE:()=>l.BE,Dt:()=>l.Dt,jl:()=>i.jl,sZ:()=>o.sZ,KI:()=>o.KI,Gu:()=>o.Gu,ap:()=>i.ap,vz:()=>l.vz,iz:()=>l.iz,vq:()=>r.vq,V0:()=>i.V0,kJ:()=>i.kJ,wm:()=>i.wm,dB:()=>i.dB,hj:()=>i.hj,Kn:()=>i.Kn,Ac:()=>i.Ac,Kr:()=>i.Kr,c8:()=>i.c8,wA:()=>i.wA,mx:()=>i.mx,hT:()=>_.x,X5:()=>r.X5,aM:()=>r.aM,Wt:()=>r.Wt,tZ:()=>r.tZ,vd:()=>o.vd,lN:()=>l.lN,tX:()=>l.tX,dp:()=>i.dp,lC:()=>l.lC,Cs:()=>o.Cs,S6:()=>x,Cr:()=>i.Cr,PB:()=>l.PB});var r=n(5463),i=n(6949);class s{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let n=this._listeners.get(e);n||(n=[],this._listeners.set(e,n)),n.push(t)}dispatchEvent(e,t){const n=this._listeners.get(e);null===n||void 0===n||n.forEach((e=>e(t)))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const n=this._listeners.get(e);if(!n)return;const r=n.length,i=n.indexOf(t);if(i<0)return;1===r?this._listeners.delete(e):n.splice(i,1)}}var o=n(9271);async function a(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.get(e);return i&&!r||(i=await Promise.all([...n.values()].map((t=>t(e)))),t.set(e,i)),i}class c{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new s,this._initialized=!1,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[t,n]of this._configs)e[t]=n;return e}get version(){return"3.2.1"}addConfig(e){var t,n;const r=null!==(t=null!==(n=e.key)&&void 0!==n?n:e.name)&&void 0!==t?t:"default";this._configs.set(r,e),this._eventDispatcher.dispatchEvent("configAdded",{data:{name:r,config:e}})}async addEffect(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,i.KH)(e,(e=>{this.getEffectDrawer(e)||this.effectDrawers.set(e,t)})),await this.refresh(n)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._initializers.interactors.set(e,t),await this.refresh(n)}async addMover(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._initializers.movers.set(e,t),await this.refresh(n)}async addParticleUpdater(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._initializers.updaters.set(e,t),await this.refresh(n)}async addPathGenerator(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.getPathGenerator(e)||this.pathGenerators.set(e,t),await this.refresh(n)}async addPlugin(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(t)}async addPreset(e,t){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&this.getPreset(e)||this.presets.set(e,t),await this.refresh(n)}async addShape(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,i.KH)(e,(e=>{this.getShapeDrawer(e)||this.shapeDrawers.set(e,t)})),await this.refresh(n)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),n=t[e];if(n&&!n.destroyed)return n;{const n=1;t.splice(e,n)}}async getAvailablePlugins(e){const t=new Map;for(const n of this.plugins)n.needsPlugin(e.actualOptions)&&t.set(n.id,await n.getPlugin(e));return t}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return await a(e,this.interactors,this._initializers.interactors,t)}async getMovers(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return await a(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find((t=>t.id===e))}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return await a(e,this.updaters,this._initializers.updaters,t)}init(){this._initialized||(this._initialized=!0)}async load(e){var t,s,a,c;const l=null!==(t=null!==(s=e.id)&&void 0!==s?s:null===(a=e.element)||void 0===a?void 0:a.id)&&void 0!==t?t:"tsparticles".concat(Math.floor(1e4*(0,o.sZ)())),{index:u,url:h}=e,d=h?await async function(e){const t=(0,i.wA)(e.url,e.index);if(!t)return e.fallback;const n=await fetch(t);return n.ok?await n.json():((0,i.jl)().error("".concat(r.gK," ").concat(n.status," while retrieving config file")),e.fallback)}({fallback:e.options,url:h,index:u}):e.options;let f=null!==(c=e.element)&&void 0!==c?c:document.getElementById(l);f||(f=document.createElement("div"),f.id=l,document.body.append(f));const p=(0,i.wA)(d,u),g=this.dom(),m=g.findIndex((e=>e.id.description===l));if(m>=0){const e=this.domItem(m);if(e&&!e.destroyed){e.destroy();const t=1;g.splice(m,t)}}let v;if("canvas"===f.tagName.toLowerCase())v=f,v.dataset[r.YU]="false";else{const e=f.getElementsByTagName("canvas");if(e.length){v=e[0],v.dataset[r.YU]="false"}else v=document.createElement("canvas"),v.dataset[r.YU]="true",f.appendChild(v)}v.style.width||(v.style.width="100%"),v.style.height||(v.style.height="100%");const{Container:y}=await n.e(7633).then(n.bind(n,7633)),b=new y(this,l,p);if(m>=0){const e=0;g.splice(m,e,b)}else g.push(b);return b.canvas.loadCanvas(v),await b.start(),b}loadOptions(e,t){for(const n of this.plugins)n.loadOptions(e,t)}loadParticlesOptions(e,t){const n=this.updaters.get(e);if(n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];for(const e of n){var o;null===(o=e.loadOptions)||void 0===o||o.call(e,t,...i)}}}async refresh(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&await Promise.all(this.dom().map((e=>e.refresh())))}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error("".concat(r.gK," can only set click handlers after calling tsParticles.load()"));for(const n of t)n.addClickHandler(e)}}var l=n(514);class u{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){var t;const n=null!==(t=e.value.hsl)&&void 0!==t?t:e.value;if(void 0!==n.h&&void 0!==n.s&&void 0!==n.l)return(0,l.ve)(n)}handleRangeColor(e){var t;const n=null!==(t=e.value.hsl)&&void 0!==t?t:e.value;if(void 0!==n.h&&void 0!==n.l)return(0,l.ve)({h:(0,o.Gu)(n.h),l:(0,o.Gu)(n.l),s:(0,o.Gu)(n.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i.exec(e);return t?(0,l.Y6)({a:t.length>4?(0,o.BV)(t[5]):1,h:parseInt(t[1],10),l:parseInt(t[3],10),s:parseInt(t[2],10)}):void 0}}class h{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){var t;const n=null!==(t=e.value.rgb)&&void 0!==t?t:e.value;if(void 0!==n.r)return n}handleRangeColor(e){var t;const n=null!==(t=e.value.rgb)&&void 0!==t?t:e.value;if(void 0!==n.r)return{r:(0,o.Gu)(n.r),g:(0,o.Gu)(n.g),b:(0,o.Gu)(n.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i.exec(e);return t?{a:t.length>4?(0,o.BV)(t[5]):1,b:parseInt(t[3],10),g:parseInt(t[2],10),r:parseInt(t[1],10)}:void 0}}var d=n(2933);class f{constructor(e){this.type="external",this.container=e}}class p{constructor(e){this.type="particles",this.container=e}}var g=n(7384),m=n(5460),v=(n(3747),n(9766)),y=(n(4737),n(7841),n(8087),n(7559),n(8383),n(1363),n(3009),n(534),n(1626),n(6589),n(5915)),b=(n(8242),n(3922),n(9081),n(8636),n(1158),n(2120),n(5174),n(135),n(6155),n(8929),n(7087),n(3087),n(870),n(8298),n(8807),n(480),n(1404),n(635),n(59),n(2979),n(1957),n(3365)),w=n(4941),_=n(8413);const x=function(){const e=new h,t=new u;(0,l.VI)(e),(0,l.VI)(t);const n=new c;return n.init(),n}();(0,i.Kr)()||(window.tsParticles=x)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{5:"e5075372",101:"c3cab88b",133:"3f1936fc",186:"05df36ec",251:"c81339a9",501:"a77d0503",503:"5add51de",603:"f1cfd52a",680:"aba80081",720:"210e7137",865:"39c6c8d7",975:"044ba873",1037:"53d3ec04",1134:"516b43ce",1416:"ff8df588",1462:"b713153f",1469:"7e89233d",1534:"3d8c3bfa",1536:"254c20fc",1673:"3c45633f",1683:"7b949dff",1715:"792ef172",1794:"a0bb453f",1795:"be9d9168",1924:"45831c03",1927:"71b611cb",1963:"ada9c41a",1971:"f18fe002",2026:"a4a80ca2",2073:"d7e380c7",2219:"1e1b0dda",2233:"e150e291",2494:"5a60d1e2",2830:"b295cd20",2847:"234db6b6",2941:"a4d14337",3189:"0dd84d03",3236:"b86b32eb",3246:"f6c54f66",3326:"1a72cd5a",3422:"3e46b468",3484:"ffd6f4eb",3570:"6fcf90a4",3585:"ce0ce0f7",3710:"cb10145e",3718:"6a32c78b",3826:"4945b440",3916:"0d44ac0a",3997:"122cfcce",4042:"ceb6259b",4193:"63f6ce6b",4208:"d8934896",4288:"1660e29b",4426:"9306abf8",4495:"fc5bdbd7",4590:"463ffa4e",4729:"98f061ed",4896:"762de349",5347:"7d203f37",5420:"e25a41e9",5657:"1b3d855e",5666:"1a326338",5731:"50bddf6a",5788:"2a696244",6080:"64729c30",6141:"5ad9d27c",6225:"cc23d4a6",6271:"7fa25820",6420:"3713772c",6687:"4e277aed",6701:"278fcbcc",6819:"6a652781",6911:"88d2c7d7",6924:"98526e1c",7292:"e4be4a5e",7365:"9b2ed3bf",7418:"ca029af2",7546:"f079c5ac",7581:"a870b97b",7616:"4bfb1f65",7633:"5c0c329c",7669:"b3a5b2f3",7735:"97b22353",7739:"331fa77b",7758:"a7068284",7777:"97d830a0",7858:"357ba345",7919:"3e132310",8005:"149abf6a",8032:"993adc44",8124:"0e04ee56",8213:"9c058a45",8259:"edaafa6d",8340:"41549943",8430:"62c6b75a",8512:"b8e79fef",8582:"a0b9015c",8642:"2ac4d39d",8751:"f0fdeef8",8862:"a30aff66",8959:"9e0abc78",8960:"d0559576",8975:"81054ef6",9188:"08aa24bf",9214:"ea2bf103",9253:"f633c5ff",9254:"cce5231e",9370:"a4745207",9469:"0605ba61",9494:"441b0732",9573:"37bca903",9698:"617f4395",9850:"cd5879d5",9887:"4fac6ddd",9888:"fc51c72b"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="arrayan:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),c&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],c=r[2],l=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)c(n)}for(t&&t(r);l<o.length;l++)s=o[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkarrayan=self.webpackChunkarrayan||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Zn,SDK_VERSION:()=>di,_DEFAULT_ENTRY_NAME:()=>ei,_addComponent:()=>ii,_addOrOverwriteComponent:()=>si,_apps:()=>ni,_clearComponents:()=>li,_components:()=>ri,_getProvider:()=>ai,_registerComponent:()=>oi,_removeServiceInstance:()=>ci,deleteApp:()=>mi,getApp:()=>pi,getApps:()=>gi,initializeApp:()=>fi,onLog:()=>yi,registerVersion:()=>vi,setLogLevel:()=>bi});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>GN,hasStandardBrowserEnv:()=>KN,hasStandardBrowserWebWorkerEnv:()=>$N});var r,i=n(2791),s=n.t(i,2),o=n(1250),a=n(2007),c=n.n(a),l=n(1694),u=n.n(l);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e){document.body.style.paddingRight=e>0?"".concat(e,"px"):null}function f(){var e=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=t?parseInt(t.style.paddingRight||0,10):0;document.body.clientWidth<window.innerWidth&&d(n+e)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e}function g(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function m(e,t){for(var n,r=Array.isArray(t)?t:[t],i=r.length,s={};i>0;)s[n=r[i-=1]]=e[n];return s}var v={};function y(e){v[e]||("undefined"!==typeof console&&console.error(e),v[e]=!0)}function b(e,t){return function(n,r,i){null!==n[r]&&"undefined"!==typeof n[r]&&y('"'.concat(r,'" property of "').concat(i,'" has been deprecated.\n').concat(t));for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return e.apply(void 0,[n,r,i].concat(o))}}var w="object"===("undefined"===typeof window?"undefined":h(window))&&window.Element||function(){};var _=c().oneOfType([c().string,c().func,function(e,t,n){if(!(e[t]instanceof w))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},c().shape({current:c().any})]),x=c().oneOfType([c().func,c().string,c().shape({$$typeof:c().symbol,render:c().func}),c().arrayOf(c().oneOfType([c().func,c().string,c().shape({$$typeof:c().symbol,render:c().func})]))]),E=150,T=350,S=300,k=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],C="entering",I="entered",O="exiting",A="exited",P={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},N=!("undefined"===typeof window||!window.document||!window.document.createElement);function R(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function D(e){var t=h(e);return null!=e&&("object"===t||"function"===t)}function M(e){if(function(e){return!(!e||"object"!==h(e))&&"current"in e}(e))return e.current;if(function(e){if(!D(e))return!1;var t=R(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object Proxy]"===t}(e))return e();if("string"===typeof e&&N){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#".concat(e))),!t.length)throw new Error("The target '".concat(e,"' could not be identified in the dom, tip: check spelling"));return t}return e}function L(e){return null!==e&&(Array.isArray(e)||N&&"number"===typeof e.length)}function F(e,t){var n=M(e);return t?L(n)?n:null===n?[]:[n]:L(n)?n[0]:n}var j=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal):not(.offcanvas)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],U=["className","cssModule","fluid","tag"];function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var V={tag:x,fluid:c().oneOfType([c().bool,c().string]),className:c().string,cssModule:c().object};function W(e){var t=e.className,n=e.cssModule,r=e.fluid,s=e.tag,o=void 0===s?"div":s,a=z(e,U),c="container";!0===r?c="container-fluid":r&&(c="container-".concat(r));var l=p(u()(t,c),n);return i.createElement(o,B({},a,{className:l}))}W.propTypes=V;const H=W;var q=["className","cssModule","noGutters","tag","widths"];function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Y=["xs","sm","md","lg","xl","xxl"],Q=c().oneOfType([c().number,c().string]),X={tag:x,noGutters:b(c().bool,"Please use Bootstrap 5 gutter utility classes. https://getbootstrap.com/docs/5.0/layout/gutters/"),className:c().string,cssModule:c().object,xs:Q,sm:Q,md:Q,lg:Q,xl:Q,xxl:Q,widths:c().array};function J(e){var t=e.className,n=e.cssModule,r=e.noGutters,s=e.tag,o=void 0===s?"div":s,a=e.widths,c=void 0===a?Y:a,l=K(e,q),h=[];c.forEach((function(t,n){var r=e[t];if(delete l[t],r){var i=!n;h.push(i?"row-cols-".concat(r):"row-cols-".concat(t,"-").concat(r))}}));var d=p(u()(t,r?"gx-0":null,"row",h),n);return i.createElement(o,G({},l,{className:d}))}J.propTypes=X;const Z=J;var ee=["className","cssModule","widths","tag"];function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}function ne(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=["xs","sm","md","lg","xl","xxl"],se=c().oneOfType([c().number,c().string]),oe=c().oneOfType([c().bool,c().number,c().string,c().shape({size:c().oneOfType([c().bool,c().number,c().string]),order:se,offset:se})]),ae={tag:x,xs:oe,sm:oe,md:oe,lg:oe,xl:oe,xxl:oe,className:c().string,cssModule:c().object,widths:c().array},ce=function(e,t,n){return!0===n||""===n?e?"col":"col-".concat(t):"auto"===n?e?"col-auto":"col-".concat(t,"-auto"):e?"col-".concat(n):"col-".concat(t,"-").concat(n)};function le(e){var t=e.className,n=e.cssModule,r=e.widths,s=void 0===r?ie:r,o=e.tag,a=void 0===o?"div":o,c=function(e,t){var n=e,r=[];return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ie).forEach((function(e,i){var s=n[e];if(delete n[e],s||""===s){var o=!i;if(D(s)){var a,c=o?"-":"-".concat(e,"-"),l=ce(o,e,s.size);r.push(p(u()((re(a={},l,s.size||""===s.size),re(a,"order".concat(c).concat(s.order),s.order||0===s.order),re(a,"offset".concat(c).concat(s.offset),s.offset||0===s.offset),a)),t))}else{var h=ce(o,e,s);r.push(h)}}})),{colClasses:r,modifiedAttributes:n}}(ne(e,ee),n,s),l=c.modifiedAttributes,h=c.colClasses;h.length||h.push("col");var d=p(u()(t,h),n);return i.createElement(a,te({},l,{className:d}))}le.propTypes=ae;const ue=le;var he=["className","cssModule","color","body","inverse","outline","tag","innerRef"];function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}function fe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var pe={body:c().bool,className:c().string,color:c().string,cssModule:c().object,innerRef:c().oneOfType([c().object,c().string,c().func]),inverse:c().bool,outline:c().bool,tag:x};function ge(e){var t=e.className,n=e.cssModule,r=e.color,s=e.body,o=e.inverse,a=e.outline,c=e.tag,l=void 0===c?"div":c,h=e.innerRef,d=fe(e,he),f=p(u()(t,"card",!!o&&"text-white",!!s&&"card-body",!!r&&"".concat(a?"border":"bg","-").concat(r)),n);return i.createElement(l,de({},d,{className:f,ref:h}))}ge.propTypes=pe;const me=ge;var ve=["className","cssModule","tag"];function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}function be(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var we={className:c().string,cssModule:c().object,tag:x};function _e(e){var t=e.className,n=e.cssModule,r=e.tag,s=void 0===r?"div":r,o=be(e,ve),a=p(u()(t,"card-header"),n);return i.createElement(s,ye({},o,{className:a}))}_e.propTypes=we;const xe=_e;var Ee=["className","cssModule","top","bottom","tag"];function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ke={bottom:c().bool,className:c().string,cssModule:c().object,tag:x,top:c().bool};function Ce(e){var t=e.className,n=e.cssModule,r=e.top,s=e.bottom,o=e.tag,a=void 0===o?"img":o,c=Se(e,Ee),l="card-img";r&&(l="card-img-top"),s&&(l="card-img-bottom");var h=p(u()(t,l),n);return i.createElement(a,Te({},c,{className:h}))}Ce.propTypes=ke;const Ie=Ce;var Oe=["className","cssModule","tag"];function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}function Pe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ne={className:c().string,cssModule:c().object,tag:x};function Re(e){var t=e.className,n=e.cssModule,r=e.tag,s=void 0===r?"div":r,o=Pe(e,Oe),a=p(u()(t,"card-title"),n);return i.createElement(s,Ae({},o,{className:a}))}Re.propTypes=Ne;const De=Re;var Me=["className","cssModule","innerRef","tag"];function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var je={className:c().string,cssModule:c().object,innerRef:c().oneOfType([c().object,c().string,c().func]),tag:x};function Ue(e){var t=e.className,n=e.cssModule,r=e.innerRef,s=e.tag,o=void 0===s?"div":s,a=Fe(e,Me),c=p(u()(t,"card-body"),n);return i.createElement(o,Le({},a,{className:c,ref:r}))}Ue.propTypes=je;const Be=Ue;var ze=n(3366);function Ve(e,t){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ve(e,t)}var We=n(4164);const He=!1,qe=i.createContext(null);var Ge="unmounted",Ke="exited",Ye="entering",$e="entered",Qe="exiting",Xe=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=Ke,r.appearStatus=Ye):i=$e:i=t.unmountOnExit||t.mountOnEnter?Ge:Ke,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Ve(t,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ge?{status:Ke}:null};var s=r.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ye&&n!==$e&&(t=Ye):n!==Ye&&n!==$e||(t=Qe)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Ye){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:We.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ke&&this.setState({status:Ge})},s.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[We.findDOMNode(this),r],s=i[0],o=i[1],a=this.getTimeouts(),c=r?a.appear:a.enter;!e&&!n||He?this.safeSetState({status:$e},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:Ye},(function(){t.props.onEntering(s,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:$e},(function(){t.props.onEntered(s,o)}))}))})))},s.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:We.findDOMNode(this);t&&!He?(this.props.onExit(r),this.safeSetState({status:Qe},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ke},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ke},(function(){e.props.onExited(r)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:We.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],o=i[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===Ge)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,ze.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(qe.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},r}(i.Component);function Je(){}Xe.contextType=qe,Xe.propTypes={},Xe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Je,onEntering:Je,onEntered:Je,onExit:Je,onExiting:Je,onExited:Je},Xe.UNMOUNTED=Ge,Xe.EXITED=Ke,Xe.ENTERING=Ye,Xe.ENTERED=$e,Xe.EXITING=Qe;const Ze=Xe;var et=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"];function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}function nt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot=it(it({},Ze.propTypes),{},{children:c().oneOfType([c().arrayOf(c().node),c().node]),tag:x,baseClass:c().string,baseClassActive:c().string,className:c().string,cssModule:c().object,innerRef:c().oneOfType([c().object,c().string,c().func])}),at=it(it({},Ze.defaultProps),{},{timeout:E,appear:!0,enter:!0,exit:!0,in:!0});function ct(e){var t=(0,i.useRef)(null),n=e.tag,r=void 0===n?"div":n,s=e.baseClass,o=void 0===s?"fade":s,a=e.baseClassActive,c=void 0===a?"show":a,l=e.className,h=e.cssModule,d=e.children,f=e.innerRef,v=void 0===f?t:f,y=nt(e,et),b=m(it({defaultProps:at},y),k),w=g(y,k);return i.createElement(Ze,tt({nodeRef:v},b),(function(e){var t="entered"===e,n=p(u()(l,o,t&&c),h);return i.createElement(r,tt({className:n},w,{ref:v}),d)}))}ct.propTypes=ot,ct.defaultProps=at;const lt=ct;var ut=["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"];function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(this,arguments)}function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var mt={children:c().node,className:c().string,closeClassName:c().string,closeAriaLabel:c().string,color:c().string,cssModule:c().object,fade:c().bool,innerRef:c().oneOfType([c().object,c().string,c().func]),isOpen:c().bool,tag:x,toggle:c().func,transition:c().shape(lt.propTypes)};function vt(e){var t=e.className,n=e.closeClassName,r=e.closeAriaLabel,s=void 0===r?"Close":r,o=e.cssModule,a=e.tag,c=void 0===a?"div":a,l=e.color,h=void 0===l?"success":l,d=e.isOpen,f=void 0===d||d,g=e.toggle,m=e.children,v=e.transition,y=void 0===v?ft(ft({},lt.defaultProps),{},{unmountOnExit:!0}):v,b=e.fade,w=void 0===b||b,_=e.innerRef,x=gt(e,ut),E=p(u()(t,"alert","alert-".concat(h),{"alert-dismissible":g}),o),T=p(u()("btn-close",n),o),S=ft(ft(ft({},lt.defaultProps),y),{},{baseClass:w?y.baseClass:"",timeout:w?y.timeout:0});return i.createElement(lt,ht({},x,S,{tag:c,className:E,in:f,role:"alert",innerRef:_}),g?i.createElement("button",{type:"button",className:T,"aria-label":s,onClick:g}):null,m)}vt.propTypes=mt;const yt=vt;function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}var wt=["className","cssModule","tag","innerRef"];function _t(){return _t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_t.apply(this,arguments)}function xt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tt(e,t)}function St(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ct(e);if(t){var i=Ct(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===bt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kt(e)}(this,n)}}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ct(e)}var It={children:c().node,tag:x,innerRef:c().oneOfType([c().object,c().func,c().string]),className:c().string,cssModule:c().object},Ot=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tt(e,t)}(o,e);var t,n,r,s=St(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=s.call(this,e)).getRef=t.getRef.bind(kt(t)),t.submit=t.submit.bind(kt(t)),t}return t=o,n=[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"submit",value:function(){this.ref&&this.ref.submit()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,r=e.tag,s=void 0===r?"form":r,o=e.innerRef,a=xt(e,wt),c=p(t,n);return i.createElement(s,_t({},a,{ref:o,className:c}))}}],n&&Et(t.prototype,n),r&&Et(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.Component);Ot.propTypes=It;const At=Ot;function Pt(e){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(e)}var Nt=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"];function Rt(){return Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rt.apply(this,arguments)}function Dt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lt(e,t)}function Ft(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ut(e);if(t){var i=Ut(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Pt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jt(e)}(this,n)}}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ut(e)}var Bt={children:c().node,type:c().string,size:c().oneOfType([c().number,c().string]),bsSize:c().string,valid:c().bool,invalid:c().bool,tag:x,innerRef:c().oneOfType([c().object,c().func,c().string]),plaintext:c().bool,addon:c().bool,className:c().string,cssModule:c().object},zt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lt(e,t)}(o,e);var t,n,r,s=Ft(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=s.call(this,e)).getRef=t.getRef.bind(jt(t)),t.focus=t.focus.bind(jt(t)),t}return t=o,n=[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,r=e.type,s=void 0===r?"text":r,o=e.bsSize,a=e.valid,c=e.invalid,l=e.tag,h=e.addon,d=e.plaintext,f=e.innerRef,g=Dt(e,Nt),m=["switch","radio","checkbox"].indexOf(s)>-1,v="select"===s,b="range"===s,w=l||(v||"textarea"===s?s:"input"),_="form-control";d?(_="".concat(_,"-plaintext"),w=l||"input"):b?_="form-range":v?_="form-select":m&&(_=h?null:"form-check-input"),g.size&&/\D/g.test(g.size)&&(y('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),o=g.size,delete g.size);var x=p(u()(t,c&&"is-invalid",a&&"is-valid",!!o&&(v?"form-select-".concat(o):"form-control-".concat(o)),_),n);return("input"===w||l&&"function"===typeof l)&&(g.type="switch"===s?"checkbox":s),g.children&&!d&&"select"!==s&&"string"===typeof w&&"select"!==w&&(y('Input with a type of "'.concat(s,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete g.children),i.createElement(w,Rt({},g,{ref:f,className:x,"aria-invalid":c}))}}],n&&Mt(t.prototype,n),r&&Mt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.Component);zt.propTypes=Bt;const Vt=zt;var Wt=["className","cssModule","row","disabled","check","inline","floating","noMargin","tag","switch"];function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ht.apply(this,arguments)}function qt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Gt={children:c().node,row:c().bool,check:c().bool,switch:c().bool,inline:c().bool,floating:c().bool,noMargin:c().bool,disabled:c().bool,tag:x,className:c().string,cssModule:c().object};function Kt(e){var t=e.className,n=e.cssModule,r=e.row,s=e.disabled,o=e.check,a=e.inline,c=e.floating,l=e.noMargin,h=e.tag,d=void 0===h?"div":h,f=e.switch,g=qt(e,Wt),m=o||f,v=p(u()(t,!!r&&"row",!!m&&"form-check",!!f&&"form-switch",!m&&!l&&"mb-3",!(!m||!a)&&"form-check-inline",!(!m||!s)&&"disabled",c&&"form-floating"),n);return"fieldset"===d&&(g.disabled=s),i.createElement(d,Ht({},g,{className:v}))}Kt.propTypes=Gt;const Yt=Kt;var $t=["className","cssModule","hidden","widths","tag","check","size","for"];function Qt(){return Qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qt.apply(this,arguments)}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Zt=["xs","sm","md","lg","xl","xxl"],en=c().oneOfType([c().number,c().string]),tn=c().oneOfType([c().bool,c().string,c().number,c().shape({size:en,order:en,offset:en})]),nn={children:c().node,hidden:c().bool,check:c().bool,size:c().string,for:c().string,tag:x,className:c().string,cssModule:c().object,xs:tn,sm:tn,md:tn,lg:tn,xl:tn,xxl:tn,widths:c().array},rn=function(e,t,n){return!0===n||""===n?e?"col":"col-".concat(t):"auto"===n?e?"col-auto":"col-".concat(t,"-auto"):e?"col-".concat(n):"col-".concat(t,"-").concat(n)};function sn(e){var t=e.className,n=e.cssModule,r=e.hidden,s=e.widths,o=void 0===s?Zt:s,a=e.tag,c=void 0===a?"label":a,l=e.check,h=e.size,d=e.for,f=Jt(e,$t),g=[];o.forEach((function(t,r){var i=e[t];if(delete f[t],i||""===i){var s,o=!r;if(D(i)){var a,c=o?"-":"-".concat(t,"-");s=rn(o,t,i.size),g.push(p(u()((Xt(a={},s,i.size||""===i.size),Xt(a,"order".concat(c).concat(i.order),i.order||0===i.order),Xt(a,"offset".concat(c).concat(i.offset),i.offset||0===i.offset),a))),n)}else s=rn(o,t,i),g.push(s)}}));var m=h||g.length,v=!(l||m),y=p(u()(t,!!r&&"visually-hidden",!!l&&"form-check-label",!!h&&"col-form-label-".concat(h),g,!!m&&"col-form-label",!!v&&"form-label"),n);return i.createElement(c,Qt({htmlFor:d},f,{className:y}))}sn.propTypes=nn;const on=sn;var an=["className","cssModule","tag"];function cn(){return cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cn.apply(this,arguments)}function ln(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var un={className:c().string,cssModule:c().object,tag:x};function hn(e){var t=e.className,n=e.cssModule,r=e.tag,s=void 0===r?"div":r,o=ln(e,an),a=p(u()(t,"card-footer"),n);return i.createElement(s,cn({},o,{className:a}))}hn.propTypes=un;const dn=hn;var fn=["className","cssModule","variant","innerRef"];function pn(){return pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pn.apply(this,arguments)}function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var yn={active:c().bool,"aria-label":c().string,onClick:c().func,variant:c().oneOf(["white"]),className:c().string,cssModule:c().object,innerRef:c().oneOfType([c().object,c().string,c().func])};function bn(e){var t=e.className,n=(e.cssModule,e.variant),r=e.innerRef,s=vn(e,fn),o=p(u()(t,"btn-close",n&&"btn-close-".concat(n)));return i.createElement("button",pn({ref:r,type:"button",className:o},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({"aria-label":"close"},s)))}bn.propTypes=yn;const wn=bn;var _n=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"];function xn(){return xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xn.apply(this,arguments)}function En(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Tn={active:c().bool,"aria-label":c().string,block:c().bool,children:c().node,className:c().string,cssModule:c().object,close:c().bool,color:c().string,disabled:c().bool,innerRef:c().oneOfType([c().object,c().func,c().string]),onClick:c().func,outline:c().bool,size:c().string,tag:x};function Sn(e){var t=(0,i.useCallback)((function(t){if(!e.disabled)return e.onClick?e.onClick(t):void 0;t.preventDefault()}),[e.onClick,e.disabled]),n=e.active,r=e["aria-label"],s=e.block,o=e.className,a=e.close,c=e.cssModule,l=e.color,h=void 0===l?"secondary":l,d=e.outline,f=e.size,g=e.tag,m=void 0===g?"button":g,v=e.innerRef,y=En(e,_n);if(a)return i.createElement(wn,y);var b="btn".concat(d?"-outline":"","-").concat(h),w=p(u()(o,"btn",b,!!f&&"btn-".concat(f),!!s&&"d-block w-100",{active:n,disabled:e.disabled}),c);return y.href&&"button"===m&&(m="a"),i.createElement(m,xn({type:"button"===m&&y.onClick?"button":void 0},y,{className:w,ref:v,onClick:t,"aria-label":r}))}Sn.propTypes=Tn;const kn=Sn,Cn=!1,In=!1,On="${JSCORE_VERSION}",An=function(e,t){if(!e)throw Pn(t)},Pn=function(e){return new Error("Firebase Database ("+On+") INTERNAL ASSERT FAILED: "+e)},Nn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Rn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Nn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Dn;const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Dn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mn=function(e){const t=Nn(e);return Rn.encodeByteArray(t,!0)},Ln=function(e){return Mn(e).replace(/\./g,"")},Fn=function(e){try{return Rn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=jn(e[n],t[n]));return e}const Un=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Bn=()=>{try{return Un()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APIKEY:"AIzaSyC3ztDdygb8OcoFlKZuT7FFmta7-pH3f4A",REACT_APP_FIREBASE_AUTHDOMAIN:"arrayan-ccaeb.firebaseapp.com",REACT_APP_FIREBASE_PROJECTID:"arrayan-ccaeb",REACT_APP_FIREBASE_STORAGEBUCKET:"arrayan-ccaeb.appspot.com",REACT_APP_FIREBASE_MESSAGINGSENDERID:"586198127618",REACT_APP_FIREBASE_APPID:"1:586198127618:web:f287139c6563424073431b",REACT_APP_FIREBASE_MEASUREMENTID:"G-MC4J5PDCCX",REACT_APP_ADMIN_PUBLIC_KEY:"FT1Jzgv2AyxJeNEYnFg7csiN3Ag9xXAjYH8oUmi8LVWB"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Fn(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},zn=e=>{const t=(e=>{var t,n;return null===(n=null===(t=Bn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Vn=()=>{var e;return null===(e=Bn())||void 0===e?void 0:e.config};class Wn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Hn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ln(JSON.stringify({alg:"none",type:"JWT"})),Ln(JSON.stringify(s)),""].join(".")}function qn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Gn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function Kn(){var e;const t=null===(e=Bn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Yn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function $n(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Qn(){const e=qn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Xn(){return!0===Cn||!0===In}function Jn(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Zn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,er.prototype.create)}}class er{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(tr,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Zn(n,s,t)}}const tr=/\{\$([^}]+)}/g;function nr(e){return JSON.parse(e)}function rr(e){return JSON.stringify(e)}const ir=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=nr(Fn(s[0])||""),n=nr(Fn(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}};function sr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function or(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ar(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function cr(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function lr(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(ur(n)&&ur(s)){if(!lr(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ur(e){return null!==e&&"object"===typeof e}function hr(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function dr(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function fr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class pr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=c^o&(a^c),i=1518500249):(r=o^a^c,i=1859775393):u<60?(r=o&a|c&(o|a),i=2400959708):(r=o^a^c,i=3395469782);const e=(s<<5|s>>>27)+r+l+i+n[u]&4294967295;l=c,c=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function gr(e,t){const n=new mr(e,t);return n.subscribe.bind(n)}class mr{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=vr),void 0===r.error&&(r.error=vr),void 0===r.complete&&(r.complete=vr);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function vr(){}function yr(e,t){return"".concat(e," failed: ").concat(t," argument ")}const br=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function wr(e){return e&&e._delegate?e._delegate:e}class _r{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xr="[DEFAULT]";class Er{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Wn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xr})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===xr?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr;return this.component?this.component.multipleInstances?e:xr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Tr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Er(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Sr=[];var kr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(kr||(kr={}));const Cr={debug:kr.DEBUG,verbose:kr.VERBOSE,info:kr.INFO,warn:kr.WARN,error:kr.ERROR,silent:kr.SILENT},Ir=kr.INFO,Or={[kr.DEBUG]:"log",[kr.VERBOSE]:"log",[kr.INFO]:"info",[kr.WARN]:"warn",[kr.ERROR]:"error"},Ar=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Or[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Pr{constructor(e){this.name=e,this._logLevel=Ir,this._logHandler=Ar,this._userLogHandler=null,Sr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Cr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kr.DEBUG,...t),this._logHandler(this,kr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kr.VERBOSE,...t),this._logHandler(this,kr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kr.INFO,...t),this._logHandler(this,kr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kr.WARN,...t),this._logHandler(this,kr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,kr.ERROR,...t),this._logHandler(this,kr.ERROR,...t)}}var Nr=n(1413);const Rr=(e,t)=>t.some((t=>e instanceof t));let Dr,Mr;const Lr=new WeakMap,Fr=new WeakMap,jr=new WeakMap,Ur=new WeakMap,Br=new WeakMap;let zr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Fr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||jr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Vr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Mr||(Mr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qr(this),n),Hr(Lr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Hr(e.apply(qr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(qr(this),t,...r);return jr.set(s,t.sort?t.sort():[t]),Hr(s)}}function Wr(e){return"function"===typeof e?Vr(e):(e instanceof IDBTransaction&&function(e){if(Fr.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Fr.set(e,t)}(e),Rr(e,Dr||(Dr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,zr):e)}function Hr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Hr(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Lr.set(t,e)})).catch((()=>{})),Br.set(t,e),t}(e);if(Ur.has(e))return Ur.get(e);const t=Wr(e);return t!==e&&(Ur.set(e,t),Br.set(t,e)),t}const qr=e=>Br.get(e);const Gr=["get","getKey","getAll","getAllKeys","count"],Kr=["put","add","delete","clear"],Yr=new Map;function $r(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Yr.get(t))return Yr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Kr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Gr.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Yr.set(t,s),s}!function(e){zr=e(zr)}((e=>(0,Nr.Z)((0,Nr.Z)({},e),{},{get:(t,n,r)=>$r(t,n)||e.get(t,n,r),has:(t,n)=>!!$r(t,n)||e.has(t,n)})));class Qr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Xr="@firebase/app",Jr="0.9.22",Zr=new Pr("@firebase/app"),ei="[DEFAULT]",ti={[Xr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ni=new Map,ri=new Map;function ii(e,t){try{e.container.addComponent(t)}catch(n){Zr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function si(e,t){e.container.addOrOverwriteComponent(t)}function oi(e){const t=e.name;if(ri.has(t))return Zr.debug("There were multiple attempts to register component ".concat(t,".")),!1;ri.set(t,e);for(const n of ni.values())ii(n,e);return!0}function ai(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ci(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ei;ai(e,t).clearInstance(n)}function li(){ri.clear()}const ui=new er("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hi{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new _r("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}const di="10.5.2";function fi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ei,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ui.create("bad-app-name",{appName:String(i)});if(n||(n=Vn()),!n)throw ui.create("no-options");const s=ni.get(i);if(s){if(lr(n,s.options)&&lr(r,s.config))return s;throw ui.create("duplicate-app",{appName:i})}const o=new Tr(i);for(const c of ri.values())o.addComponent(c);const a=new hi(n,r,o);return ni.set(i,a),a}function pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei;const t=ni.get(e);if(!t&&e===ei&&Vn())return fi();if(!t)throw ui.create("no-app",{appName:e});return t}function gi(){return Array.from(ni.values())}async function mi(e){const t=e.name;ni.has(t)&&(ni.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function vi(e,t,n){var r;let i=null!==(r=ti[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Zr.warn(e.join(" "))}oi(new _r("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function yi(e,t){if(null!==e&&"function"!==typeof e)throw ui.create("invalid-log-argument");!function(e,t){for(const n of Sr){let r=null;t&&t.level&&(r=Cr[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:kr[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function bi(e){var t;t=e,Sr.forEach((e=>{e.setLogLevel(t)}))}const wi="firebase-heartbeat-database",_i=1,xi="firebase-heartbeat-store";let Ei=null;function Ti(){return Ei||(Ei=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Hr(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Hr(o.result),e.oldVersion,e.newVersion,Hr(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(wi,_i,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(xi)}}).catch((e=>{throw ui.create("idb-open",{originalErrorMessage:e.message})}))),Ei}async function Si(e,t){try{const n=(await Ti()).transaction(xi,"readwrite"),r=n.objectStore(xi);await r.put(t,ki(e)),await n.done}catch(n){if(n instanceof Zn)Zr.warn(n.message);else{const e=ui.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Zr.warn(e.message)}}}function ki(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ci{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Oi(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Ii();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Ii(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ai(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ai(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Ln(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Ii(){return(new Date).toISOString().substring(0,10)}class Oi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Jn()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(iu){t(iu)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Ti();return await t.transaction(xi).objectStore(xi).get(ki(e))}catch(t){if(t instanceof Zn)Zr.warn(t.message);else{const e=ui.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Zr.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Si(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Si(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ai(e){return Ln(JSON.stringify({version:2,heartbeats:e})).length}var Pi;Pi="",oi(new _r("platform-logger",(e=>new Qr(e)),"PRIVATE")),oi(new _r("heartbeat",(e=>new Ci(e)),"PRIVATE")),vi(Xr,Jr,Pi),vi(Xr,Jr,"esm2017"),vi("fire-js","");class Ni{constructor(e,t){this._delegate=e,this.firebase=t,ii(e,new _r("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),mi(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ei;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ei;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ii(this._delegate,e)}_addOrOverwriteComponent(e){si(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ri=new er("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Di=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=fi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(sr(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:vi,setLogLevel:bi,onLog:yi,apps:null,SDK_VERSION:di,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(oi(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Ri.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&jn(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!sr(n,e=e||ei))throw Ri.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Ni);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){jn(n,e)},createSubscribe:gr,ErrorFactory:er,deepExtend:jn}),n}(),Mi=new Pr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Mi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Mi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Li=Di;!function(e){vi("@firebase/app-compat","0.2.22",e)}();Li.registerVersion("firebase","10.5.2","app-compat");function Fi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const ji={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ui="EMAIL_SIGNIN",Bi="PASSWORD_RESET",zi="RECOVER_EMAIL",Vi="REVERT_SECOND_FACTOR_ADDITION",Wi="VERIFY_AND_CHANGE_EMAIL",Hi="VERIFY_EMAIL";function qi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gi=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ki=qi,Yi=new er("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$i=new Pr("@firebase/auth");function Qi(e){if($i.logLevel<=kr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];$i.error("Auth (".concat(di,"): ").concat(e),...n)}}function Xi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ts(e,...n)}function Ji(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ts(e,...n)}function Zi(e,t,n){const r=Object.assign(Object.assign({},Ki()),{[t]:n});return new er("auth","Firebase",r).create(t,{appName:e.name})}function es(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Xi(e,"argument-error"),Zi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ts(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Yi.create(e,...n)}function ns(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ts(t,...r)}}function rs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Qi(t),new Error(t)}function is(e,t){e||rs(t)}function ss(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function os(){return"http:"===as()||"https:"===as()}function as(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class cs{constructor(e,t){this.shortDelay=e,this.longDelay=t,is(t>e,"Short delay should be less than long delay!"),this.isMobile=Gn()||$n()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(os()||Yn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ls(e,t){is(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class us{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hs={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ds=new cs(3e4,6e4);function fs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ps(e,t,n,r){return gs(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=hr(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),us.fetch()(vs(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function gs(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},hs),t);try{const t=new bs(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw ws(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ws(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw ws(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw ws(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Zi(e,a,o);Xi(e,a)}}catch(i){if(i instanceof Zn)throw i;Xi(e,"network-request-failed",{message:String(i)})}}async function ms(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await ps(e,t,n,r,i);return"mfaPendingCredential"in s&&Xi(e,"multi-factor-auth-required",{_serverResponse:s}),s}function vs(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ls(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function ys(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bs{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ji(this.auth,"network-request-failed"))),ds.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ws(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ji(e,t,r);return i.customData._tokenResponse=n,i}function _s(e){return void 0!==e&&void 0!==e.getResponse}function xs(e){return void 0!==e&&void 0!==e.enterprise}class Es{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ys(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ts(e,t){return ps(e,"GET","/v2/recaptchaConfig",fs(e,t))}function Ss(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function ks(e){return 1e3*Number(e)}function Cs(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Qi("JWT malformed, contained fewer than 3 sections"),null;try{const e=Fn(n);return e?JSON.parse(e):(Qi("Failed to decode base64 JWT payload"),null)}catch(i){return Qi("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function Is(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Zn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Os{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class As{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ss(this.lastLoginAt),this.creationTime=Ss(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ps(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Is(e,async function(e,t){return ps(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));ns(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Fi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,o),c=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!c&&l,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new As(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,h)}class Ns{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ns(e.idToken,"internal-error"),ns("undefined"!==typeof e.idToken,"internal-error"),ns("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Cs(e);return ns(t,"internal-error"),ns("undefined"!==typeof t.exp,"internal-error"),ns("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ns(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await gs(e,{},(async()=>{const n=hr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=vs(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",us.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Ns;return n&&(ns("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(ns("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(ns("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ns,this.toJSON())}_performRefresh(){return rs("not implemented")}}function Rs(e,t){ns("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ds{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Fi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Os(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new As(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Is(this,this.stsTokenManager.getToken(this.auth,e));return ns(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=wr(e),r=await n.getIdToken(t),i=Cs(r);ns(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ss(ks(i.auth_time)),issuedAtTime:Ss(ks(i.iat)),expirationTime:Ss(ks(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=wr(e);await Ps(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ns(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ds(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ns(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ps(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Is(this,async function(e,t){return ps(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:x}=t;ns(y&&x,e,"internal-error");const E=Ns.fromJSON(this.name,x);ns("string"===typeof y,e,"internal-error"),Rs(u,e.name),Rs(h,e.name),ns("boolean"===typeof b,e,"internal-error"),ns("boolean"===typeof w,e,"internal-error"),Rs(d,e.name),Rs(f,e.name),Rs(p,e.name),Rs(g,e.name),Rs(m,e.name),Rs(v,e.name);const T=new Ds({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:v});return _&&Array.isArray(_)&&(T.providerData=_.map((e=>Object.assign({},e)))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ns;r.updateFromServerResponse(t);const i=new Ds({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ps(i),i}}const Ms=new Map;function Ls(e){is(e instanceof Function,"Expected a class definition");let t=Ms.get(e);return t?(is(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ms.set(e,t),t)}class Fs{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Fs.type="NONE";const js=Fs;function Us(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Bs{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Us(this.userKey,r.apiKey,i),this.fullPersistenceKey=Us("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ds._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Bs(Ls(js),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Ls(js);const s=Us(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Ds._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(c){}}))),new Bs(i,e,n)):new Bs(i,e,n)}}function zs(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Vs(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ks(t))return"Blackberry";if(Ys(t))return"Webos";if(Ws(t))return"Safari";if((t.includes("chrome/")||Hs(t))&&!t.includes("edge/"))return"Chrome";if(Gs(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Vs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/firefox\//i.test(e)}function Ws(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/crios\//i.test(e)}function qs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/iemobile/i.test(e)}function Gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/android/i.test(e)}function Ks(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/blackberry/i.test(e)}function Ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/webos/i.test(e)}function $s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Qs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return $s(e)||Gs(e)||Ys(e)||Ks(e)||/windows phone/i.test(e)||qs(e)}function Xs(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=zs(qn());break;case"Worker":t="".concat(zs(qn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(di,"/").concat(r)}class Js{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Zs{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class eo{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new no(this),this.idTokenSubscription=new no(this),this.beforeStateQueue=new Js(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ls(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ns(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ps(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?wr(e):null;return t&&ns(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ns(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Ls(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ps(e,"GET","/v2/passwordPolicy",fs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Zs(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new er("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ls(e)||this._popupRedirectResolver;ns(t,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[Ls(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ns(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ns(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if($i.logLevel<=kr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];$i.warn("Auth (".concat(di,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function to(e){return wr(e)}class no{constructor(e){this.auth=e,this.observer=null,this.addObserver=gr((e=>this.observer=e))}get next(){return ns(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ro(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ji("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function io(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class so{constructor(e){this.type="recaptcha-enterprise",this.auth=to(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;xs(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ts(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Es(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&xs(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));ro("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function oo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new so(e);let s;try{s=await i.verify(n)}catch(iu){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ao(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await oo(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await oo(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function co(e,t,n){const r=to(e);ns(r._canInitEmulator,r,"emulator-config-failed"),ns(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=lo(t),{host:o,port:a}=function(e){const t=lo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:uo(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:uo(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function lo(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function uo(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ho{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,t){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function fo(e,t){return ps(e,"POST","/v1/accounts:resetPassword",fs(e,t))}async function po(e,t){return ps(e,"POST","/v1/accounts:update",t)}async function go(e,t){return ms(e,"POST","/v1/accounts:signInWithPassword",fs(e,t))}async function mo(e,t){return ps(e,"POST","/v1/accounts:sendOobCode",fs(e,t))}async function vo(e,t){return mo(e,t)}async function yo(e,t){return mo(e,t)}class bo extends ho{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new bo(e,t,"password")}static _fromEmailAndCode(e,t){return new bo(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ao(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",go);case"emailLink":return async function(e,t){return ms(e,"POST","/v1/accounts:signInWithEmailLink",fs(e,t))}(e,{email:this._email,oobCode:this._password});default:Xi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return po(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return ms(e,"POST","/v1/accounts:signInWithEmailLink",fs(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Xi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function wo(e,t){return ms(e,"POST","/v1/accounts:signInWithIdp",fs(e,t))}class _o extends ho{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Fi(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new _o(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return wo(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,wo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hr(t)}return e}}const xo={USER_NOT_FOUND:"user-not-found"};class Eo extends ho{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Eo({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Eo({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ms(e,"POST","/v1/accounts:signInWithPhoneNumber",fs(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ms(e,"POST","/v1/accounts:signInWithPhoneNumber",fs(e,t));if(n.temporaryProof)throw ws(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ms(e,"POST","/v1/accounts:signInWithPhoneNumber",fs(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),xo)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Eo({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class To{constructor(e){var t,n,r,i,s,o;const a=dr(fr(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);ns(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=dr(fr(e)).link,n=t?dr(fr(t)).deep_link_id:null,r=dr(fr(e)).deep_link_id;return(r?dr(fr(r)).link:null)||r||n||t||e}(e);try{return new To(t)}catch(n){return null}}}class So{constructor(){this.providerId=So.PROVIDER_ID}static credential(e,t){return bo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=To.parseLink(t);return ns(n,"argument-error"),bo._fromEmailAndCode(e,n.code,n.tenantId)}}So.PROVIDER_ID="password",So.EMAIL_PASSWORD_SIGN_IN_METHOD="password",So.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ko{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Co extends ko{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Io extends Co{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return ns("providerId"in t&&"signInMethod"in t,"argument-error"),_o._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ns(e.idToken||e.accessToken,"argument-error"),_o._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Io.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Io.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new Io(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(c){return null}}}class Oo extends Co{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Oo.credential(t.oauthAccessToken)}catch(n){return null}}}Oo.FACEBOOK_SIGN_IN_METHOD="facebook.com",Oo.PROVIDER_ID="facebook.com";class Ao extends Co{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _o._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ao.credential(n,r)}catch(i){return null}}}Ao.GOOGLE_SIGN_IN_METHOD="google.com",Ao.PROVIDER_ID="google.com";class Po extends Co{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Po.credential(t.oauthAccessToken)}catch(n){return null}}}Po.GITHUB_SIGN_IN_METHOD="github.com",Po.PROVIDER_ID="github.com";class No extends ho{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return wo(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,wo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new No(n,i):null}static _create(e,t){return new No(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ro extends ko{constructor(e){ns(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Ro.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ro.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=No.fromJSON(e);return ns(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return No._create(r,n)}catch(i){return null}}}class Do extends Co{constructor(){super("twitter.com")}static credential(e,t){return _o._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Do.credential(n,r)}catch(i){return null}}}async function Mo(e,t){return ms(e,"POST","/v1/accounts:signUp",fs(e,t))}Do.TWITTER_SIGN_IN_METHOD="twitter.com",Do.PROVIDER_ID="twitter.com";class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ds._fromIdTokenResponse(e,n,r),s=Fo(n);return new Lo({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Fo(n);return new Lo({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Fo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class jo extends Zn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,jo.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new jo(e,t,n,r)}}function Uo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw jo._fromErrorAndOperation(e,n,t,r);throw n}))}function Bo(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function zo(e,t){const n=wr(e);await Wo(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return ps(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Bo(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Vo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Is(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Lo._forOperation(e,"link",r)}async function Wo(e,t,n){await Ps(t);const r=!1===e?"provider-already-linked":"no-such-provider";ns(Bo(t.providerData).has(n)===e,t.auth,r)}async function Ho(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Is(e,Uo(r,i,t,e),n);ns(s.idToken,r,"internal-error");const o=Cs(s.idToken);ns(o,r,"internal-error");const{sub:a}=o;return ns(e.uid===a,r,"user-mismatch"),Lo._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Xi(r,"user-mismatch"),s}}async function qo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Uo(e,r,t),s=await Lo._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Go(e,t){return qo(to(e),t)}async function Ko(e,t){const n=wr(e);return await Wo(!1,n,t.providerId),Vo(n,t)}async function Yo(e,t){return Ho(wr(e),t)}async function $o(e,t){const n=to(e),r=await async function(e,t){return ms(e,"POST","/v1/accounts:signInWithCustomToken",fs(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Lo._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Qo{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Xo._fromServerResponse(e,t):"totpInfo"in t?Jo._fromServerResponse(e,t):Xi(e,"internal-error")}}class Xo extends Qo{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Xo(t)}}class Jo extends Qo{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Jo(t)}}function Zo(e,t,n){var r;ns((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ns("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ns(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ns(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function ea(e){const t=to(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ta(e,t){await async function(e,t){return ps(e,"POST","/v1/accounts:update",fs(e,t))}(wr(e),{oobCode:t})}async function na(e,t){const n=wr(e),r=await fo(n,{oobCode:t}),i=r.requestType;switch(ns(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ns(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ns(r.mfaInfo,n,"internal-error");default:ns(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Qo._fromServerResponse(to(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function ra(e,t){const n={identifier:t,continueUri:os()?ss():"http://localhost"},{signinMethods:r}=await async function(e,t){return ps(e,"POST","/v1/accounts:createAuthUri",fs(e,t))}(wr(e),n);return r||[]}async function ia(e,t){const n=wr(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Zo(n.auth,r,t);const{email:i}=await async function(e,t){return mo(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function sa(e,t,n){const r=wr(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Zo(r.auth,i,n);const{email:s}=await async function(e,t){return mo(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function oa(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=wr(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await Is(i,async function(e,t){return ps(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function aa(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Is(e,po(r,i));await e._updateTokensIfNecessary(s,!0)}class ca{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class la extends ca{constructor(e,t,n,r){super(e,t,n),this.username=r}}class ua extends ca{constructor(e,t){super(e,"facebook.com",t)}}class ha extends la{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class da extends ca{constructor(e,t){super(e,"google.com",t)}}class fa extends la{constructor(e,t,n){super(e,"twitter.com",t,n)}}function pa(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Cs(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new ca(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new ua(s,i);case"github.com":return new ha(s,i);case"google.com":return new da(s,i);case"twitter.com":return new fa(s,i,e.screenName||null);case"custom":case"anonymous":return new ca(s,null);default:return new ca(s,r,i)}}(n)}class ga{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new ga("enroll",e,t)}static _fromMfaPendingCredential(e){return new ga("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ga._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ga._fromIdtoken(e.multiFactorSession.idToken)}return null}}class ma{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=to(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Qo._fromServerResponse(n,e)));ns(r.mfaPendingCredential,n,"internal-error");const s=ga._fromMfaPendingCredential(r.mfaPendingCredential);return new ma(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Lo._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return ns(t.user,n,"internal-error"),Lo._forOperation(t.user,t.operationType,o);default:Xi(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class va{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Qo._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new va(e)}async getSession(){return ga._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Is(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Is(this.user,function(e,t){return ps(e,"POST","/v2/accounts/mfaEnrollment:withdraw",fs(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const ya=new WeakMap;const ba="__sak";class wa{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ba,"1"),this.storage.removeItem(ba),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class _a extends wa{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=qn();return Ws(e)||$s(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Qs(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Qn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_a.type="LOCAL";const xa=_a;class Ea extends wa{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ea.type="SESSION";const Ta=Ea;class Sa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Sa(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ka(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Sa.receivers=[];class Ca{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=ka("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Ia(){return window}function Oa(){return"undefined"!==typeof Ia().WorkerGlobalScope&&"function"===typeof Ia().importScripts}const Aa="firebaseLocalStorageDb",Pa="firebaseLocalStorage",Na="fbase_key";class Ra{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Da(e,t){return e.transaction([Pa],t?"readwrite":"readonly").objectStore(Pa)}function Ma(){const e=indexedDB.open(Aa,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Pa,{keyPath:Na})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Pa)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Aa);return new Ra(e).toPromise()}(),t(await Ma()))}))}))}async function La(e,t,n){const r=Da(e,!0).put({[Na]:t,value:n});return new Ra(r).toPromise()}function Fa(e,t){const n=Da(e,!0).delete(t);return new Ra(n).toPromise()}class ja{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ma()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Oa()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sa._getInstance(Oa()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ca(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ma();return await La(e,ba,"1"),await Fa(e,ba),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>La(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Da(e,!1).get(t),r=await new Ra(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Fa(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Da(e,!1).getAll();return new Ra(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ja.type="LOCAL";const Ua=ja;const Ba=1e12;class za{constructor(e){this.auth=e,this.counter=Ba,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Va(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Ba;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Ba;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Ba;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Va{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;ns(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wa=io("rcb"),Ha=new cs(3e4,6e4);class qa{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Ia().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ns(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&_s(Ia().grecaptcha)?Promise.resolve(Ia().grecaptcha):new Promise(((n,r)=>{const i=Ia().setTimeout((()=>{r(Ji(e,"network-request-failed"))}),Ha.get());Ia()[Wa]=()=>{Ia().clearTimeout(i),delete Ia()[Wa];const s=Ia().grecaptcha;if(!s||!_s(s))return void r(Ji(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};ro("".concat("https://www.google.com/recaptcha/api.js?","?").concat(hr({onload:Wa,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Ji(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Ia().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ga{async load(e){return new za(e)}clearedOneInstance(){}}const Ka="recaptcha",Ya={theme:"light",type:"image"};class $a{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Ya);this.parameters=n,this.type=Ka,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=to(e),this.isInvisible="invisible"===this.parameters.size,ns("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;ns(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ga:new qa,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){ns(!this.parameters.sitekey,this.auth,"argument-error"),ns(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ns("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Ia()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){ns(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ns(os()&&!Oa(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await ps(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);ns(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ns(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qa{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Eo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Xa(e,t,n){var r;const i=await n.verify();try{let s;if(ns("string"===typeof i,e,"argument-error"),ns(n.type===Ka,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){ns("enroll"===t.type,e,"internal-error");const n=await function(e,t){return ps(e,"POST","/v2/accounts/mfaEnrollment:start",fs(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{ns("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;ns(n,e,"missing-multi-factor-info");const o=await function(e,t){return ps(e,"POST","/v2/accounts/mfaSignIn:start",fs(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return ps(e,"POST","/v1/accounts:sendVerificationCode",fs(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ja{constructor(e){this.providerId=Ja.PROVIDER_ID,this.auth=to(e)}verifyPhoneNumber(e,t){return Xa(this.auth,e,wr(t))}static credential(e,t){return Eo._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ja.credentialFromTaggedObject(t)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Eo._fromTokenResponse(n,r):null}}function Za(e,t){return t?Ls(t):(ns(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ja.PROVIDER_ID="phone",Ja.PHONE_SIGN_IN_METHOD="phone";class ec extends ho{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tc(e){return qo(e.auth,new ec(e),e.bypassAuthState)}function nc(e){const{auth:t,user:n}=e;return ns(n,t,"internal-error"),Ho(n,new ec(e),e.bypassAuthState)}async function rc(e){const{auth:t,user:n}=e;return ns(n,t,"internal-error"),Vo(n,new ec(e),e.bypassAuthState)}class ic{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tc;case"linkViaPopup":case"linkViaRedirect":return rc;case"reauthViaPopup":case"reauthViaRedirect":return nc;default:Xi(this.auth,"internal-error")}}resolve(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sc=new cs(2e3,1e4);class oc extends ic{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,oc.currentPopupAction&&oc.currentPopupAction.cancel(),oc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ns(e,this.auth,"internal-error"),e}async onExecution(){is(1===this.filter.length,"Popup operations only handle one event");const e=ka();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ji(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ji(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,sc.get())};e()}}oc.currentPopupAction=null;const ac="pendingRedirect",cc=new Map;class lc extends ic{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=cc.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=fc(t),r=dc(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}cc.set(this.auth._key(),e)}return this.bypassAuthState||cc.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function uc(e,t){return dc(e)._set(fc(t),"true")}function hc(e,t){cc.set(e._key(),t)}function dc(e){return Ls(e._redirectPersistence)}function fc(e){return Us(ac,e.config.apiKey,e.name)}function pc(e,t,n){return async function(e,t,n){const r=to(e);es(e,t,ko),await r._initializationPromise;const i=Za(r,n);return await uc(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function gc(e,t,n){return async function(e,t,n){const r=wr(e);es(r.auth,t,ko),await r.auth._initializationPromise;const i=Za(r.auth,n);await uc(i,r.auth);const s=await yc(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function mc(e,t,n){return async function(e,t,n){const r=wr(e);es(r.auth,t,ko),await r.auth._initializationPromise;const i=Za(r.auth,n);await Wo(!1,r,t.providerId),await uc(i,r.auth);const s=await yc(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function vc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=to(e),i=Za(r,t),s=new lc(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function yc(e){const t=ka("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class bc{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _c(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!_c(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ji(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wc(e))}saveEventToCache(e){this.cachedEventUids.add(wc(e)),this.lastProcessedEventTime=Date.now()}}function wc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function _c(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function xc(e){return ps(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Ec=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tc=/^https?/;function Sc(e){const t=ss(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Tc.test(n))return!1;if(Ec.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const kc=new cs(3e4,6e4);function Cc(){const e=Ia().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Ic=null;function Oc(e){return Ic=Ic||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){Cc(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Cc(),n(Ji(e,"network-request-failed"))},timeout:kc.get()})}if(null===(i=null===(r=Ia().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ia().gapi)||void 0===s?void 0:s.load)){const t=io("iframefcb");return Ia()[t]=()=>{gapi.load?o():n(Ji(e,"network-request-failed"))},ro("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw Ic=null,e}))}(e),Ic}const Ac=new cs(5e3,15e3),Pc="__/auth/iframe",Nc="emulator/auth/iframe",Rc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mc(e){const t=e.config;ns(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ls(t,Nc):"https://".concat(e.config.authDomain,"/").concat(Pc),r={apiKey:t.apiKey,appName:e.name,v:di},i=Dc.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(hr(r).slice(1))}const Lc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Fc{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function jc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Lc),{width:r.toString(),height:i.toString(),top:s,left:o}),l=qn().toLowerCase();n&&(a=Hs(l)?"_blank":n),Vs(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return $s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Fc(null);const h=window.open(t||"",a,u);ns(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Fc(h)}const Uc="__/auth/handler",Bc="emulator/auth/handler",zc=encodeURIComponent("fac");async function Vc(e,t,n,r,i,s){ns(e.config.authDomain,e,"auth-domain-config-required"),ns(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:di,eventId:i};if(t instanceof ko){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",ar(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Co){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(zc,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Uc);return ls(t,Bc)}(e),"?").concat(hr(a).slice(1)).concat(l)}const Wc="webStorageSupport";const Hc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ta,this._completeRedirectFn=vc,this._overrideRedirectResult=hc}async _openPopup(e,t,n,r){var i;is(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return jc(e,await Vc(e,t,n,ss(),r),ka())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ia().location.href=e}(await Vc(e,t,n,ss(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(is(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Oc(e),n=Ia().gapi;return ns(n,e,"internal-error"),t.open({where:document.body,url:Mc(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rc,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ji(e,"network-request-failed"),s=Ia().setTimeout((()=>{r(i)}),Ac.get());function o(){Ia().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new bc(e);return t.register("authEvent",(t=>{ns(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wc,{type:Wc},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Wc];void 0!==i&&t(!!i),Xi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await xc(e);for(const r of t)try{if(Sc(r))return}catch(n){}Xi(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Qs()||Ws()||$s()}};class qc{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return rs("unexpected MultiFactorSessionType")}}}class Gc extends qc{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Gc(e)}_finalizeEnroll(e,t,n){return function(e,t){return ps(e,"POST","/v2/accounts/mfaEnrollment:finalize",fs(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return ps(e,"POST","/v2/accounts/mfaSignIn:finalize",fs(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Kc{constructor(){}static assertion(e){return Gc._fromCredential(e)}}Kc.FACTOR_ID="phone";var Yc="@firebase/auth",$c="1.3.2";class Qc{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ns(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Bn())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Xc;function Jc(){return window}Xc="Browser",oi(new _r("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ns(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:Xc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xs(Xc)},l=new eo(r,i,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ls);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),oi(new _r("auth-internal",(e=>(e=>new Qc(e))(to(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),vi(Yc,$c,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Xc)),vi(Yc,$c,"esm2017");async function Zc(e,t,n){var r;const{BuildInfo:i}=Jc();is(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(is(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return $s()?o.ibi=i.packageName:Gs()?o.apn=i.packageName:Xi(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Vc(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function el(e){const{cordova:t}=Jc();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const tl=20;class nl extends bc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function rl(e){const t=await ol()._get(al(e));return t&&await ol()._remove(al(e)),t}function il(e,t){var n,r;const i=function(e){const t=cl(e),n=t.link?decodeURIComponent(t.link):void 0,r=cl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return cl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=cl(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?Ji(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function sl(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<tl;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function ol(){return Ls(xa)}function al(e){return Us("authEvent",e.config.apiKey,e.name)}function cl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return dr(n.join("?"))}const ll=class{constructor(){this._redirectPersistence=Ta,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vc,this._overrideRedirectResult=hc}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new nl(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Xi(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,c,l,u;const h=Jc();ns("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ns("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ns("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ns("function"===typeof(null===(c=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ns("function"===typeof(null===(u=null===(l=null===h||void 0===h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),cc.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:sl(),postBody:null,tenantId:e.tenantId,error:Ji(e,"no-auth-event")}}(e,n,r);await function(e,t){return ol()._set(al(e),t)}(e,s);const o=await Zc(e,s,t);return async function(e,t,n){const{cordova:r}=Jc();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{o(Ji(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),Gs()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await el(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Jc(),n={};$s()?n.iosBundleId=t.packageName:Gs()?n.androidPackageName=t.packageName:Xi(e,"operation-not-supported-in-this-environment"),await xc(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Jc(),s=setTimeout((async()=>{await rl(e),t.onEvent(ul())}),500),o=async n=>{clearTimeout(s);const r=await rl(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=il(r,n.url)),t.onEvent(i||ul())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,c="".concat(i.packageName.toLowerCase(),"://");Jc().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&o({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function ul(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ji("no-auth-event")}}function hl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function dl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return!("file:"!==hl()&&"ionic:"!==hl()&&"capacitor:"!==hl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function fl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return Qn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn();return/Edge\/\d+/.test(e)}(e)}function pl(){try{const e=self.localStorage,t=ka();if(e)return e.setItem(t,"1"),e.removeItem(t),!fl()||Jn()}catch(e){return gl()&&Jn()}return!1}function gl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ml(){return("http:"===hl()||"https:"===hl()||Yn()||dl())&&!($n()||Kn())&&pl()&&!gl()}function vl(){return dl()&&"undefined"!==typeof document}const yl={LOCAL:"local",NONE:"none",SESSION:"session"},bl=ns,wl="persistence";async function _l(e){await e._initializationPromise;const t=xl(),n=Us(wl,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function xl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const El=ns;class Tl{constructor(){this.browserResolver=Ls(Hc),this.cordovaResolver=Ls(ll),this.underlyingResolver=null,this._redirectPersistence=Ta,this._completeRedirectFn=vc,this._overrideRedirectResult=hc}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return vl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return El(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!vl()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Sl(e){return e.unwrap()}function kl(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Al(e,function(e,t){var n;const r=wr(e),i=t;return ns(t.customData.operationType,r,"argument-error"),ns(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ma._fromError(r,i)}(e,t))}else if(r){const e=Cl(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Cl(e){const{_tokenResponse:t}=e instanceof Zn?e.customData:e;if(!t)return null;if(!(e instanceof Zn)&&"temporaryProof"in t&&"phoneNumber"in t)return Ja.credentialFromResult(e);const n=t.providerId;if(!n||n===ji.PASSWORD)return null;let r;switch(n){case ji.GOOGLE:r=Ao;break;case ji.FACEBOOK:r=Oo;break;case ji.GITHUB:r=Po;break;case ji.TWITTER:r=Do;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?No._create(n,o):_o._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new Io(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof Zn?r.credentialFromError(e):r.credentialFromResult(e)}function Il(e,t){return t.catch((t=>{throw t instanceof Zn&&kl(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Cl(r)),additionalUserInfo:pa(e),user:Pl.getOrCreate(n)};var r}))}async function Ol(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Il(e,n.confirm(t))}}class Al{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Il(Sl(this.auth),this.resolver.resolveSignIn(e))}}class Pl{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=wr(e);return ya.has(t)||ya.set(t,va._fromUser(t)),ya.get(t)}(e)}static getOrCreate(e){return Pl.USER_MAP.has(e)||Pl.USER_MAP.set(e,new Pl(e)),Pl.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Il(this.auth,Ko(this._delegate,e))}async linkWithPhoneNumber(e,t){return Ol(this.auth,async function(e,t,n){const r=wr(e);await Wo(!1,r,"phone");const i=await Xa(r.auth,t,wr(n));return new Qa(i,(e=>Ko(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Il(this.auth,async function(e,t,n){const r=wr(e);es(r.auth,t,ko);const i=Za(r.auth,n);return new oc(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Tl))}async linkWithRedirect(e){return await _l(to(this.auth)),mc(this._delegate,e,Tl)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Il(this.auth,Yo(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Ol(this.auth,async function(e,t,n){const r=wr(e),i=await Xa(r.auth,t,wr(n));return new Qa(i,(e=>Yo(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Il(this.auth,async function(e,t,n){const r=wr(e);es(r.auth,t,ko);const i=Za(r.auth,n);return new oc(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Tl))}async reauthenticateWithRedirect(e){return await _l(to(this.auth)),gc(this._delegate,e,Tl)}sendEmailVerification(e){return ia(this._delegate,e)}async unlink(e){return await zo(this._delegate,e),this}updateEmail(e){return function(e,t){return aa(wr(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return aa(wr(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Vo(wr(e),t)}(this._delegate,e)}updateProfile(e){return oa(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return sa(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Pl.USER_MAP=new WeakMap;const Nl=ns;class Rl{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Nl(n,"invalid-api-key",{appName:e.name}),Nl(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Tl:void 0;this._delegate=t.initialize({options:{persistence:Ml(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Gi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Pl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){co(this._delegate,e,t)}applyActionCode(e){return ta(this._delegate,e)}checkActionCode(e){return na(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await fo(wr(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ea(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Il(this._delegate,async function(e,t,n){const r=to(e),i=ao(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mo),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ea(e),t})),o=await Lo._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return ra(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=To.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Nl(ml(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await to(e)._initializationPromise,vc(e,t,!1)}(this._delegate,Tl);return e?Il(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){to(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Dl(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Dl(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=to(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){ns(t.handleCodeInApp,r,"argument-error"),t&&Zo(r,e,t)}(i,n),await ao(r,i,"getOobCode",yo)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=to(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Zo(r,i,n),await ao(r,i,"getOobCode",vo)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){bl(Object.values(yl).includes(t),e,"invalid-persistence-type"),$n()?bl(t!==yl.SESSION,e,"unsupported-persistence-type"):Kn()?bl(t===yl.NONE,e,"unsupported-persistence-type"):gl()?bl(t===yl.NONE||t===yl.LOCAL&&Jn(),e,"unsupported-persistence-type"):bl(t===yl.NONE||pl(),e,"unsupported-persistence-type")}(this._delegate,e),e){case yl.SESSION:t=Ta;break;case yl.LOCAL:t=await Ls(Ua)._isAvailable()?Ua:xa;break;case yl.NONE:t=js;break;default:return Xi("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Il(this._delegate,async function(e){var t;const n=to(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Lo({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Mo(n,{returnSecureToken:!0}),i=await Lo._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Il(this._delegate,Go(this._delegate,e))}signInWithCustomToken(e){return Il(this._delegate,$o(this._delegate,e))}signInWithEmailAndPassword(e,t){return Il(this._delegate,function(e,t,n){return Go(wr(e),So.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ea(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Il(this._delegate,async function(e,t,n){const r=wr(e),i=So.credentialWithLink(t,n||ss());return ns(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Go(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Ol(this._delegate,async function(e,t,n){const r=to(e),i=await Xa(r,t,wr(n));return new Qa(i,(e=>Go(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Nl(ml(),this._delegate,"operation-not-supported-in-this-environment"),Il(this._delegate,async function(e,t,n){const r=to(e);es(e,t,ko);const i=Za(r,n);return new oc(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Tl))}async signInWithRedirect(e){return Nl(ml(),this._delegate,"operation-not-supported-in-this-environment"),await _l(this._delegate),pc(this._delegate,e,Tl)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await na(wr(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Dl(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Pl.getOrCreate(e)),error:t,complete:n}}function Ml(e,t){const n=function(e,t){const n=xl();if(!n)return[];const r=Us(wl,e,t);switch(n.getItem(r)){case yl.NONE:return[js];case yl.LOCAL:return[Ua,Ta];case yl.SESSION:return[Ta];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ua)||n.push(Ua),"undefined"!==typeof window)for(const r of[xa,Ta])n.includes(r)||n.push(r);return n.includes(js)||n.push(js),n}Rl.Persistence=yl;class Ll{constructor(){this.providerId="phone",this._delegate=new Ja(Sl(Li.auth()))}static credential(e,t){return Ja.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Ll.PHONE_SIGN_IN_METHOD=Ja.PHONE_SIGN_IN_METHOD,Ll.PROVIDER_ID=Ja.PROVIDER_ID;const Fl=ns;class jl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Li.app();var r;Fl(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new $a(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var Ul;(Ul=Li).INTERNAL.registerComponent(new _r("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Rl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ui,PASSWORD_RESET:Bi,RECOVER_EMAIL:zi,REVERT_SECOND_FACTOR_ADDITION:Vi,VERIFY_AND_CHANGE_EMAIL:Wi,VERIFY_EMAIL:Hi}},EmailAuthProvider:So,FacebookAuthProvider:Oo,GithubAuthProvider:Po,GoogleAuthProvider:Ao,OAuthProvider:Io,SAMLAuthProvider:Ro,PhoneAuthProvider:Ll,PhoneMultiFactorGenerator:Kc,RecaptchaVerifier:jl,TwitterAuthProvider:Do,Auth:Rl,AuthCredential:ho,Error:Zn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ul.registerVersion("@firebase/auth-compat","0.4.8");const Bl="@firebase/database",zl="1.0.1";let Vl="";function Wl(e){Vl=e}class Hl{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rr(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:nr(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class ql{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return sr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Gl=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Hl(t)}}catch(t){}return new ql},Kl=Gl("localStorage"),Yl=Gl("sessionStorage"),$l=new Pr("@firebase/database"),Ql=function(){let e=1;return function(){return e++}}(),Xl=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,An(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new pr;n.update(t);const r=n.digest();return Rn.encodeByteArray(r)},Jl=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Jl.apply(null,n):e+="object"===typeof n?rr(n):n,e+=" "}return e};let Zl=null,eu=!0;const tu=function(e,t){An(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?($l.logLevel=kr.VERBOSE,Zl=$l.log.bind($l),t&&Yl.set("logging_enabled",!0)):"function"===typeof e?Zl=e:(Zl=null,Yl.remove("logging_enabled"))},nu=function(){if(!0===eu&&(eu=!1,null===Zl&&!0===Yl.get("logging_enabled")&&tu(!0)),Zl){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Jl.apply(null,t);Zl(r)}},ru=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];nu(e,...n)}},iu=function(){const e="FIREBASE INTERNAL ERROR: "+Jl(...arguments);$l.error(e)},su=function(){const e="FIREBASE FATAL ERROR: ".concat(Jl(...arguments));throw $l.error(e),new Error(e)},ou=function(){const e="FIREBASE WARNING: "+Jl(...arguments);$l.warn(e)},au=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},cu="[MIN_NAME]",lu="[MAX_NAME]",uu=function(e,t){if(e===t)return 0;if(e===cu||t===lu)return-1;if(t===cu||e===lu)return 1;{const n=yu(e),r=yu(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},hu=function(e,t){return e===t?0:e<t?-1:1},du=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+rr(t))},fu=function(e){if("object"!==typeof e||null===e)return rr(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=rr(t[r]),n+=":",n+=fu(e[t[r]]);return n+="}",n},pu=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function gu(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const mu=function(e){An(!au(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const c=a.join("");let l="";for(o=0;o<64;o+=8){let e=parseInt(c.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()};const vu=new RegExp("^-?(0*)\\d{1,10}$"),yu=function(e){if(vu.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},bu=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw ou("Exception was thrown by user callback.",e),t}),Math.floor(0))}},wu=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class _u{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){ou('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class xu{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(nu("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ou(e)}}class Eu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Eu.OWNER="owner";const Tu="5",Su=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ku="ac",Cu="websocket",Iu="long_polling";class Ou{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kl.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Kl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Au(e,t,n){let r;if(An("string"===typeof t,"typeof type must == string"),An("object"===typeof n,"typeof params must == object"),t===Cu)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Iu)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return gu(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class Pu{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;sr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return jn(void 0,this.counters_)}}const Nu={},Ru={};function Du(e){const t=e.toString();return Nu[t]||(Nu[t]=new Pu),Nu[t]}class Mu{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&bu((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Lu="start";class Fu{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ru(e),this.stats_=Du(t),this.urlFn=e=>(this.appCheckToken&&(e[ku]=this.appCheckToken),Au(t,Iu,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Mu(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Xn()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new ju((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,o,a,c]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Lu)n.id=s,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Lu]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Tu,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[ku]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Su.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fu.forceAllow_=!0}static forceDisallow(){Fu.forceDisallow_=!0}static isAvailable(){return!Xn()&&(!!Fu.forceAllow_||!Fu.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=rr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Mn(t),r=pu(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Xn())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=rr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ju{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Xn())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Ql(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ju.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){nu("frame writing exception"),i.stack&&nu(i.stack),nu(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||nu("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){Xn()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{nu("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let Uu=null;"undefined"!==typeof MozWebSocket?Uu=MozWebSocket:"undefined"!==typeof WebSocket&&(Uu=WebSocket);class Bu{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ru(this.connId),this.stats_=Du(t),this.connURL=Bu.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=Tu,!Xn()&&"undefined"!==typeof location&&location.hostname&&Su.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[ku]=r),i&&(s.p=i),Au(e,Cu,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kl.set("previous_websocket_failure",!0);try{let e;if(Xn()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Tu,"/").concat(Vl,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APIKEY:"AIzaSyC3ztDdygb8OcoFlKZuT7FFmta7-pH3f4A",REACT_APP_FIREBASE_AUTHDOMAIN:"arrayan-ccaeb.firebaseapp.com",REACT_APP_FIREBASE_PROJECTID:"arrayan-ccaeb",REACT_APP_FIREBASE_STORAGEBUCKET:"arrayan-ccaeb.appspot.com",REACT_APP_FIREBASE_MESSAGINGSENDERID:"586198127618",REACT_APP_FIREBASE_APPID:"1:586198127618:web:f287139c6563424073431b",REACT_APP_FIREBASE_MEASUREMENTID:"G-MC4J5PDCCX",REACT_APP_ADMIN_PUBLIC_KEY:"FT1Jzgv2AyxJeNEYnFg7csiN3Ag9xXAjYH8oUmi8LVWB"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Uu(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Bu.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Uu&&!Bu.forceDisallow_}static previouslyFailed(){return Kl.isInMemoryStorage||!0===Kl.get("previous_websocket_failure")}markConnectionHealthy(){Kl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=nr(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(An(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=rr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=pu(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Bu.responsesRequiredToBeHealthy=2,Bu.healthyTimeout=3e4;class zu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fu,Bu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Bu&&Bu.isAvailable();let n=t&&!Bu.previouslyFailed();if(e.webSocketOnly&&(t||ou("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Bu];else{const e=this.transports_=[];for(const t of zu.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);zu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zu.globalTransportInitialized_=!1;class Vu{constructor(e,t,n,r,i,s,o,a,c,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ru("c:"+this.id+":"),this.transportManager_=new zu(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=wu((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=du("t",e),n=du("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=du("t",e),n=du("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=du("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?iu("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):iu("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Tu!==n&&ou("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),wu((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wu((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Wu{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Hu{constructor(e){this.allowedEvents_=e,this.listeners_={},An(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){An(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class qu extends Hu{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Gn()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new qu}getInitialEvent(e){return An("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Gu=32,Ku=768;class Yu{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function $u(){return new Yu("")}function Qu(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Xu(e){return e.pieces_.length-e.pieceNum_}function Ju(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Yu(e.pieces_,t)}function Zu(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function eh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function th(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Yu(t,0)}function nh(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Yu)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Yu(n,0)}function rh(e){return e.pieceNum_>=e.pieces_.length}function ih(e,t){const n=Qu(e),r=Qu(t);if(null===n)return t;if(n===r)return ih(Ju(e),Ju(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function sh(e,t){if(Xu(e)!==Xu(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function oh(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Xu(e)>Xu(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class ah{constructor(e,t){this.errorPrefix_=t,this.parts_=eh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=br(this.parts_[n]);ch(this)}}function ch(e){if(e.byteLength_>Ku)throw new Error(e.errorPrefix_+"has a key path longer than "+Ku+" bytes ("+e.byteLength_+").");if(e.parts_.length>Gu)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Gu+") or object contains a cycle "+lh(e))}function lh(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class uh extends Hu{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new uh}getInitialEvent(e){return An("visible"===e,"Unknown event type: "+e),[this.visible_]}}const hh=1e3;class dh extends Wu{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=dh.nextPersistentConnectionId_++,this.log_=ru("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Xn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");uh.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&qu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(rr(i)),An(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Wn,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),An(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),An(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const s=i.d,o=i.s;dh.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&sr(e,"w")){const n=or(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();ou("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=ir(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=ir(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),An(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rr(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):iu("Unrecognized action received from server: "+rr(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){An(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=hh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=hh),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+dh.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},c=function(e){An(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:c};const l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,c]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);s?nu("getToken() completed but was canceled"):(nu("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=c&&c.token,o=new Vu(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{ou(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(iu){this.log_("Failed to get token: "+iu),s||(this.repoInfo_.nodeAdmin&&ou(iu),a())}}}interrupt(e){nu("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nu("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ar(this.interruptReasons_)&&(this.reconnectDelay_=hh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>fu(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Yu(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){nu("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){nu("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Xn()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Vl.replace(/\./g,"-")]=1,Gn()?e["framework.cordova"]=1:$n()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=qu.getInstance().currentlyOnline();return ar(this.interruptReasons_)&&e}}dh.nextPersistentConnectionId_=0,dh.nextConnectionId_=0;class fh{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new fh(e,t)}}class ph{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new fh(cu,e),r=new fh(cu,t);return 0!==this.compare(n,r)}minPost(){return fh.MIN}}let gh;class mh extends ph{static get __EMPTY_NODE(){return gh}static set __EMPTY_NODE(e){gh=e}compare(e,t){return uu(e.name,t.name)}isDefinedOn(e){throw Pn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return fh.MIN}maxPost(){return new fh(lu,gh)}makePost(e,t){return An("string"===typeof e,"KeyIndex indexValue must always be a string."),new fh(e,gh)}toString(){return".key"}}const vh=new mh;class yh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class bh{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:bh.RED,this.left=null!=r?r:wh.EMPTY_NODE,this.right=null!=i?i:wh.EMPTY_NODE}copy(e,t,n,r,i){return new bh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return wh.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return wh.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,bh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,bh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}bh.RED=!0,bh.BLACK=!1;class wh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wh.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new wh(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,bh.BLACK,null,null))}remove(e){return new wh(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,bh.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new yh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new yh(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new yh(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new yh(this.root_,null,this.comparator_,!0,e)}}function _h(e,t){return uu(e.name,t.name)}function xh(e,t){return uu(e,t)}let Eh;wh.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new bh(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Th=function(e){return"number"===typeof e?"number:"+mu(e):"string:"+e},Sh=function(e){if(e.isLeafNode()){const t=e.val();An("string"===typeof t||"number"===typeof t||"object"===typeof t&&sr(t,".sv"),"Priority must be a string or number.")}else An(e===Eh||e.isEmpty(),"priority of unexpected type.");An(e===Eh||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let kh,Ch,Ih;class Oh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oh.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,An(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Sh(this.priorityNode_)}static set __childrenNodeConstructor(e){kh=e}static get __childrenNodeConstructor(){return kh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Oh(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Oh.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return rh(e)?this:".priority"===Qu(e)?this.priorityNode_:Oh.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Oh.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Qu(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(An(".priority"!==n||1===Xu(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Oh.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ju(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Th(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?mu(this.value_):this.value_,this.lazyHash_=Xl(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Oh.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Oh.__childrenNodeConstructor?-1:(An(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Oh.VALUE_TYPE_ORDER.indexOf(t),i=Oh.VALUE_TYPE_ORDER.indexOf(n);return An(r>=0,"Unknown leaf type: "+t),An(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Oh.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Ah=new class extends ph{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?uu(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return fh.MIN}maxPost(){return new fh(lu,new Oh("[PRIORITY-POST]",Ih))}makePost(e,t){const n=Ch(e);return new fh(t,new Oh("[PRIORITY-POST]",n))}toString(){return".priority"}},Ph=Math.log(2);class Nh{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ph,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rh=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new bh(a,o.node,bh.BLACK,null,null);{const c=parseInt(s/2,10)+t,l=i(t,c),u=i(c+1,r);return o=e[c],a=n?n(o):o,new bh(a,o.node,bh.BLACK,l,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const l=i(s+1,a),u=e[s],h=n?n(u):u;c(new bh(h,u.node,r,null,l))},c=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,bh.BLACK):(a(r,bh.BLACK),a(r,bh.RED))}return s}(new Nh(e.length));return new wh(r||t,s)};let Dh;const Mh={};class Lh{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return An(Mh&&Ah,"ChildrenNode.ts has not been loaded"),Dh=Dh||new Lh({".priority":Mh},{".priority":Ah}),Dh}get(e){const t=or(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof wh?t:null}hasIndex(e){return sr(this.indexSet_,e.toString())}addIndex(e,t){An(e!==vh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(fh.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?Rh(n,e.getCompare()):Mh;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const l=Object.assign({},this.indexes_);return l[a]=s,new Lh(l,c)}addToIndexes(e,t){const n=cr(this.indexes_,((n,r)=>{const i=or(this.indexSet_,r);if(An(i,"Missing index implementation for "+r),n===Mh){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(fh.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),Rh(n,i.getCompare())}return Mh}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new fh(e.name,r))),i.insert(e,e.node)}}));return new Lh(n,this.indexSet_)}removeFromIndexes(e,t){const n=cr(this.indexes_,(n=>{if(n===Mh)return n;{const r=t.get(e.name);return r?n.remove(new fh(e.name,r)):n}}));return new Lh(n,this.indexSet_)}}let Fh;class jh{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Sh(this.priorityNode_),this.children_.isEmpty()&&An(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fh||(Fh=new jh(new wh(xh),null,Lh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fh}updatePriority(e){return this.children_.isEmpty()?this:new jh(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Fh:t}}getChild(e){const t=Qu(e);return null===t?this:this.getImmediateChild(t).getChild(Ju(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(An(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new fh(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?Fh:this.priorityNode_;return new jh(r,s,i)}}updateChild(e,t){const n=Qu(e);if(null===n)return t;{An(".priority"!==Qu(e)||1===Xu(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Ju(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Ah,((s,o)=>{t[s]=o.val(e),n++,i&&jh.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Th(this.getPriority().val())+":"),this.forEachChild(Ah,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Xl(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new fh(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new fh(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new fh(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,fh.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,fh.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Uh?-1:0}withIndex(e){if(e===vh||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new jh(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===vh||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Ah),n=t.getIterator(Ah);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===vh?null:this.indexMap_.get(e.toString())}}jh.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Uh=new class extends jh{constructor(){super(new wh(xh),jh.EMPTY_NODE,Lh.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return jh.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(fh,{MIN:{value:new fh(cu,jh.EMPTY_NODE)},MAX:{value:new fh(lu,Uh)}}),mh.__EMPTY_NODE=jh.EMPTY_NODE,Oh.__childrenNodeConstructor=jh,Eh=Uh,function(e){Ih=e}(Uh);const Bh=!0;function zh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return jh.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),An(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Oh(e,zh(t))}if(e instanceof Array||!Bh){let n=jh.EMPTY_NODE;return gu(e,((t,r)=>{if(sr(e,t)&&"."!==t.substring(0,1)){const e=zh(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(zh(t))}{const n=[];let r=!1;if(gu(e,((e,t)=>{if("."!==e.substring(0,1)){const i=zh(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new fh(e,i)))}})),0===n.length)return jh.EMPTY_NODE;const i=Rh(n,_h,(e=>e.name),xh);if(r){const e=Rh(n,Ah.getCompare());return new jh(i,zh(t),new Lh({".priority":e},{".priority":Ah}))}return new jh(i,zh(t),Lh.Default)}}!function(e){Ch=e}(zh);class Vh extends ph{constructor(e){super(),this.indexPath_=e,An(!rh(e)&&".priority"!==Qu(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?uu(e.name,t.name):i}makePost(e,t){const n=zh(e),r=jh.EMPTY_NODE.updateChild(this.indexPath_,n);return new fh(t,r)}maxPost(){const e=jh.EMPTY_NODE.updateChild(this.indexPath_,Uh);return new fh(lu,e)}toString(){return eh(this.indexPath_,0).join("/")}}const Wh=new class extends ph{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?uu(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return fh.MIN}maxPost(){return fh.MAX}makePost(e,t){const n=zh(e);return new fh(t,n)}toString(){return".value"}};function Hh(e){return{type:"value",snapshotNode:e}}function qh(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Gh(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Kh(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Yh{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){An(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Gh(t,o)):An(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(qh(t,n)):s.trackChildChange(Kh(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ah,((e,r)=>{t.hasChild(e)||n.trackChildChange(Gh(e,r))})),t.isLeafNode()||t.forEachChild(Ah,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Kh(t,r,i))}else n.trackChildChange(qh(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?jh.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $h{constructor(e){this.indexedFilter_=new Yh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$h.getStartPost_(e),this.endPost_=$h.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,s){return this.matches(new fh(t,n))||(n=jh.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=jh.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(jh.EMPTY_NODE);const i=this;return t.forEachChild(Ah,((e,t)=>{i.matches(new fh(e,t))||(r=r.updateImmediateChild(e,jh.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Qh{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new $h(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new fh(t,n))||(n=jh.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=jh.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=jh.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(jh.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,jh.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;An(o.numChildren()===this.limit_,"");const a=new fh(t,n),c=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),l=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(l&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(Kh(t,n,e)),o.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Gh(t,e));const n=o.updateImmediateChild(t,jh.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(qh(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:l&&s(c,a)>=0?(null!=i&&(i.trackChildChange(Gh(c.name,c.node)),i.trackChildChange(qh(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(c.name,jh.EMPTY_NODE)):e}}class Xh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ah}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return An(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return An(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cu}hasEnd(){return this.endSet_}getIndexEndValue(){return An(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return An(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:lu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return An(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ah}copy(){const e=new Xh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Jh(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ah?n="$priority":e.index_===Wh?n="$value":e.index_===vh?n="$key":(An(e.index_ instanceof Vh,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=rr(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=rr(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+rr(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=rr(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+rr(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Zh(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ah&&(t.i=e.index_.toString()),t}class ed extends Wu{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=ru("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(An(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=ed.getListenId_(e,n),o={};this.listens_[s]=o;const a=Jh(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),or(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=ed.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Jh(e._queryParams),n=e._path.toString(),r=new Wn;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+hr(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=nr(a.responseText)}catch(e){ou("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&ou("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class td{constructor(){this.rootNode_=jh.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function nd(){return{value:null,children:new Map}}function rd(e,t,n){if(rh(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Qu(t);e.children.has(r)||e.children.set(r,nd());rd(e.children.get(r),t=Ju(t),n)}}function id(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{id(r,new Yu(t.toString()+"/"+e),n)}))}class sd{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&gu(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class od{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new sd(e);const n=1e4+2e4*Math.random();wu(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;gu(e,((e,r)=>{r>0&&sr(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),wu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ad;function cd(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ad||(ad={}));class ld{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ad.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(rh(this.path)){if(null!=this.affectedTree.value)return An(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Yu(e));return new ld($u(),t,this.revert)}}return An(Qu(this.path)===e,"operationForChild called for unrelated child."),new ld(Ju(this.path),this.affectedTree,this.revert)}}class ud{constructor(e,t){this.source=e,this.path=t,this.type=ad.LISTEN_COMPLETE}operationForChild(e){return rh(this.path)?new ud(this.source,$u()):new ud(this.source,Ju(this.path))}}class hd{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ad.OVERWRITE}operationForChild(e){return rh(this.path)?new hd(this.source,$u(),this.snap.getImmediateChild(e)):new hd(this.source,Ju(this.path),this.snap)}}class dd{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ad.MERGE}operationForChild(e){if(rh(this.path)){const t=this.children.subtree(new Yu(e));return t.isEmpty()?null:t.value?new hd(this.source,$u(),t.value):new dd(this.source,$u(),t)}return An(Qu(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new dd(this.source,Ju(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class fd{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(rh(e))return this.isFullyInitialized()&&!this.filtered_;const t=Qu(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class pd{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function gd(e,t,n,r,i,s){const o=r.filter((e=>e.type===n));o.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Pn("Should only compare child_ events.");const r=new fh(t.childName,t.snapshotNode),i=new fh(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),o.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function md(e,t){return{eventCache:e,serverCache:t}}function vd(e,t,n,r){return md(new fd(t,n,r),e.serverCache)}function yd(e,t,n,r){return md(e.eventCache,new fd(t,n,r))}function bd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function wd(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let _d;class xd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(_d||(_d=new wh(hu)),_d);this.value=e,this.children=t}static fromObject(e){let t=new xd(null);return gu(e,((e,n)=>{t=t.set(new Yu(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:$u(),value:this.value};if(rh(e))return null;{const n=Qu(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Ju(e),t);if(null!=i){return{path:nh(new Yu(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(rh(e))return this;{const t=Qu(e),n=this.children.get(t);return null!==n?n.subtree(Ju(e)):new xd(null)}}set(e,t){if(rh(e))return new xd(t,this.children);{const n=Qu(e),r=(this.children.get(n)||new xd(null)).set(Ju(e),t),i=this.children.insert(n,r);return new xd(this.value,i)}}remove(e){if(rh(e))return this.children.isEmpty()?new xd(null):new xd(null,this.children);{const t=Qu(e),n=this.children.get(t);if(n){const r=n.remove(Ju(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new xd(null):new xd(this.value,i)}return this}}get(e){if(rh(e))return this.value;{const t=Qu(e),n=this.children.get(t);return n?n.get(Ju(e)):null}}setTree(e,t){if(rh(e))return t;{const n=Qu(e),r=(this.children.get(n)||new xd(null)).setTree(Ju(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new xd(this.value,i)}}fold(e){return this.fold_($u(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(nh(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,$u(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(rh(e))return null;{const r=Qu(e),i=this.children.get(r);return i?i.findOnPath_(Ju(e),nh(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,$u(),t)}foreachOnPath_(e,t,n){if(rh(e))return this;{this.value&&n(t,this.value);const r=Qu(e),i=this.children.get(r);return i?i.foreachOnPath_(Ju(e),nh(t,r),n):new xd(null)}}foreach(e){this.foreach_($u(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(nh(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Ed{constructor(e){this.writeTree_=e}static empty(){return new Ed(new xd(null))}}function Td(e,t,n){if(rh(t))return new Ed(new xd(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=ih(i,t);return s=s.updateChild(o,n),new Ed(e.writeTree_.set(i,s))}{const r=new xd(n),i=e.writeTree_.setTree(t,r);return new Ed(i)}}}function Sd(e,t,n){let r=e;return gu(n,((e,n)=>{r=Td(r,nh(t,e),n)})),r}function kd(e,t){if(rh(t))return Ed.empty();{const n=e.writeTree_.setTree(t,new xd(null));return new Ed(n)}}function Cd(e,t){return null!=Id(e,t)}function Id(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ih(n.path,t)):null}function Od(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ah,((e,n)=>{t.push(new fh(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new fh(e,n.value))})),t}function Ad(e,t){if(rh(t))return e;{const n=Id(e,t);return new Ed(null!=n?new xd(n):e.writeTree_.subtree(t))}}function Pd(e){return e.writeTree_.isEmpty()}function Nd(e,t){return Rd($u(),e.writeTree_,t)}function Rd(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(An(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Rd(nh(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(nh(e,".priority"),r)),n}}function Dd(e,t){return Kd(t,e)}function Md(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));An(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&Ld(t,r.path)?i=!1:oh(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=jd(e.allWrites,Fd,$u()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=kd(e.visibleWrites,r.path);else{gu(r.children,(t=>{e.visibleWrites=kd(e.visibleWrites,nh(r.path,t))}))}return!0}return!1}function Ld(e,t){if(e.snap)return oh(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&oh(nh(e.path,n),t))return!0;return!1}function Fd(e){return e.visible}function jd(e,t,n){let r=Ed.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)oh(n,e)?(t=ih(n,e),r=Td(r,t,s.snap)):oh(e,n)&&(t=ih(e,n),r=Td(r,$u(),s.snap.getChild(t)));else{if(!s.children)throw Pn("WriteRecord should have .snap or .children");if(oh(n,e))t=ih(n,e),r=Sd(r,t,s.children);else if(oh(e,n))if(t=ih(e,n),rh(t))r=Sd(r,$u(),s.children);else{const e=or(s.children,Qu(t));if(e){const n=e.getChild(Ju(t));r=Td(r,$u(),n)}}}}}return r}function Ud(e,t,n,r,i){if(r||i){const s=Ad(e.visibleWrites,t);if(!i&&Pd(s))return n;if(i||null!=n||Cd(s,$u())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(oh(e.path,t)||oh(t,e.path))};return Nd(jd(e.allWrites,s,t),n||jh.EMPTY_NODE)}return null}{const r=Id(e.visibleWrites,t);if(null!=r)return r;{const r=Ad(e.visibleWrites,t);if(Pd(r))return n;if(null!=n||Cd(r,$u())){return Nd(r,n||jh.EMPTY_NODE)}return null}}}function Bd(e,t,n,r){return Ud(e.writeTree,e.treePath,t,n,r)}function zd(e,t){return function(e,t,n){let r=jh.EMPTY_NODE;const i=Id(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ah,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=Ad(e.visibleWrites,t);return n.forEachChild(Ah,((e,t)=>{const n=Nd(Ad(i,new Yu(e)),t);r=r.updateImmediateChild(e,n)})),Od(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return Od(Ad(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Vd(e,t,n,r){return function(e,t,n,r,i){An(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=nh(t,n);if(Cd(e.visibleWrites,s))return null;{const t=Ad(e.visibleWrites,s);return Pd(t)?i.getChild(n):Nd(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Wd(e,t){return function(e,t){return Id(e.visibleWrites,t)}(e.writeTree,nh(e.treePath,t))}function Hd(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const c=Ad(e.visibleWrites,t),l=Id(c,$u());if(null!=l)a=l;else{if(null==n)return[];a=Nd(c,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let c=n.getNext();for(;c&&e.length<i;)0!==t(c,r)&&e.push(c),c=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function qd(e,t,n){return function(e,t,n,r){const i=nh(t,n),s=Id(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return Nd(Ad(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Gd(e,t){return Kd(nh(e.treePath,t),e.writeTree)}function Kd(e,t){return{treePath:e,writeTree:t}}class Yd{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;An("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),An(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Kh(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Gh(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,qh(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Pn("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Kh(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const $d=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Qd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new fd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qd(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:wd(this.viewCache_),i=Hd(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Xd(e,t,n,r,i){const s=new Yd;let o,a;if(n.type===ad.OVERWRITE){const c=n;c.source.fromUser?o=ef(e,t,c.path,c.snap,r,i,s):(An(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!rh(c.path),o=Zd(e,t,c.path,c.snap,r,i,a,s))}else if(n.type===ad.MERGE){const c=n;c.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach(((r,c)=>{const l=nh(n,r);tf(t,Qu(l))&&(a=ef(e,a,l,c,i,s,o))})),r.foreach(((r,c)=>{const l=nh(n,r);tf(t,Qu(l))||(a=ef(e,a,l,c,i,s,o))})),a}(e,t,c.path,c.children,r,i,s):(An(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=rf(e,t,c.path,c.children,r,i,a,s))}else if(n.type===ad.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=Wd(r,n))return t;{const a=new Qd(r,t,i),c=t.eventCache.getNode();let l;if(rh(n)||".priority"===Qu(n)){let n;if(t.serverCache.isFullyInitialized())n=Bd(r,wd(t));else{const e=t.serverCache.getNode();An(e instanceof jh,"serverChildren would be complete if leaf node"),n=zd(r,e)}l=e.filter.updateFullNode(c,n,s)}else{const i=Qu(n);let u=qd(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=c.getImmediateChild(i)),l=null!=u?e.filter.updateChild(c,i,u,Ju(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,jh.EMPTY_NODE,Ju(n),a,s):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Bd(r,wd(t)),o.isLeafNode()&&(l=e.filter.updateFullNode(l,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=Wd(r,$u()),vd(t,l,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=Wd(i,n))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(rh(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Zd(e,t,n,c.getNode().getChild(n),i,s,a,o);if(rh(n)){let r=new xd(null);return c.getNode().forEachChild(vh,((e,t)=>{r=r.set(new Yu(e),t)})),rf(e,t,n,r,i,s,a,o)}return t}{let l=new xd(null);return r.foreach(((e,t)=>{const r=nh(n,e);c.isCompleteForPath(r)&&(l=l.set(e,c.getNode().getChild(r)))})),rf(e,t,n,l,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==ad.LISTEN_COMPLETE)throw Pn("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,o=yd(t,s.getNode(),s.isFullyInitialized()||rh(n),s.isFiltered());return Jd(e,o,n,r,$d,i)}(e,t,n.path,r,s)}const c=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=bd(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Hh(bd(t)))}}(t,o,c),{viewCache:o,changes:c}}function Jd(e,t,n,r,i,s){const o=t.eventCache;if(null!=Wd(r,n))return t;{let a,c;if(rh(n))if(An(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=wd(t),i=zd(r,n instanceof jh?n:jh.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Bd(r,wd(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const l=Qu(n);if(".priority"===l){An(1===Xu(n),"Can't have a priority with additional path components");const i=o.getNode();c=t.serverCache.getNode();const s=Vd(r,n,i,c);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=Ju(n);let h;if(o.isCompleteForChild(l)){c=t.serverCache.getNode();const e=Vd(r,n,o.getNode(),c);h=null!=e?o.getNode().getImmediateChild(l).updateChild(u,e):o.getNode().getImmediateChild(l)}else h=qd(r,l,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),l,h,u,i,s):o.getNode()}}return vd(t,a,o.isFullyInitialized()||rh(n),e.filter.filtersNodes())}}function Zd(e,t,n,r,i,s,o,a){const c=t.serverCache;let l;const u=o?e.filter:e.filter.getIndexedFilter();if(rh(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const e=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),e,null)}else{const e=Qu(n);if(!c.isCompleteForPath(n)&&Xu(n)>1)return t;const i=Ju(n),s=c.getNode().getImmediateChild(e).updateChild(i,r);l=".priority"===e?u.updatePriority(c.getNode(),s):u.updateChild(c.getNode(),e,s,i,$d,null)}const h=yd(t,l,c.isFullyInitialized()||rh(n),u.filtersNodes());return Jd(e,h,n,i,new Qd(i,h,s),a)}function ef(e,t,n,r,i,s,o){const a=t.eventCache;let c,l;const u=new Qd(i,t,s);if(rh(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,o),c=vd(t,l,!0,e.filter.filtersNodes());else{const i=Qu(n);if(".priority"===i)l=e.filter.updatePriority(t.eventCache.getNode(),r),c=vd(t,l,a.isFullyInitialized(),a.isFiltered());else{const s=Ju(n),l=a.getNode().getImmediateChild(i);let h;if(rh(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===Zu(s)&&e.getChild(th(s)).isEmpty()?e:e.updateChild(s,r):jh.EMPTY_NODE}if(l.equals(h))c=t;else{c=vd(t,e.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function tf(e,t){return e.eventCache.isCompleteForChild(t)}function nf(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function rf(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=rh(n)?r:new xd(null).setTree(n,r);const u=t.serverCache.getNode();return c.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const c=nf(0,t.serverCache.getNode().getImmediateChild(n),r);l=Zd(e,l,new Yu(n),c,i,s,o,a)}})),c.children.inorderTraversal(((n,r)=>{const c=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!c){const c=nf(0,t.serverCache.getNode().getImmediateChild(n),r);l=Zd(e,l,new Yu(n),c,i,s,o,a)}})),l}class sf{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Yh(n.getIndex()),i=(s=n).loadsAllData()?new Yh(s.getIndex()):s.hasLimit()?new Qh(s):new $h(s);var s;this.processor_=function(e){return{filter:e}}(i);const o=t.serverCache,a=t.eventCache,c=r.updateFullNode(jh.EMPTY_NODE,o.getNode(),null),l=i.updateFullNode(jh.EMPTY_NODE,a.getNode(),null),u=new fd(c,o.isFullyInitialized(),r.filtersNodes()),h=new fd(l,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=md(h,u),this.eventGenerator_=new pd(this.query_)}get query(){return this.query_}}function of(e,t){const n=wd(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!rh(t)&&!n.getImmediateChild(Qu(t)).isEmpty())?n.getChild(t):null}function af(e){return 0===e.eventRegistrations_.length}function cf(e,t,n){const r=[];if(n){An(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function lf(e,t,n,r){t.type===ad.MERGE&&null!==t.source.queryId&&(An(wd(e.viewCache_),"We should always have a full cache before handling merges"),An(bd(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Xd(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,An(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),An(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),An(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,uf(e,s.changes,s.viewCache.eventCache.getNode(),null)}function uf(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),gd(e,i,"child_removed",t,r,n),gd(e,i,"child_added",t,r,n),gd(e,i,"child_moved",s,r,n),gd(e,i,"child_changed",t,r,n),gd(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let hf,df;class ff{constructor(){this.views=new Map}}function pf(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return An(null!=s,"SyncTree gave us an op for an invalid query."),lf(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(lf(s,t,n,r));return i}}function gf(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=Bd(n,i?r:null),s=!1;e?s=!0:r instanceof jh?(e=zd(n,r),s=!1):(e=jh.EMPTY_NODE,s=!1);const o=md(new fd(e,s,!1),new fd(r,i,!1));return new sf(t,o)}return o}function mf(e,t,n,r,i,s){const o=gf(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Ah,((e,t)=>{r.push(qh(e,t))}));return n.isFullyInitialized()&&r.push(Hh(n.getNode())),uf(e,r,n.getNode(),t)}(o,n)}function vf(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=xf(e);if("default"===i)for(const[c,l]of e.views.entries())o=o.concat(cf(l,n,r)),af(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||s.push(l.query));else{const t=e.views.get(i);t&&(o=o.concat(cf(t,n,r)),af(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!xf(e)&&s.push(new(An(hf,"Reference.ts has not been loaded"),hf)(t._repo,t._path)),{removed:s,events:o}}function yf(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function bf(e,t){let n=null;for(const r of e.views.values())n=n||of(r,t);return n}function wf(e,t){if(t._queryParams.loadsAllData())return Ef(e);{const n=t._queryIdentifier;return e.views.get(n)}}function _f(e,t){return null!=wf(e,t)}function xf(e){return null!=Ef(e)}function Ef(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Tf=1;class Sf{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xd(null),this.pendingWriteTree_={visibleWrites:Ed.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function kf(e,t,n,r,i){return function(e,t,n,r,i){An(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Td(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Df(e,new hd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Cf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Md(e.pendingWriteTree_,t)){let t=new xd(null);return null!=r.snap?t=t.set($u(),!0):gu(r.children,(e=>{t=t.set(new Yu(e),!0)})),Df(e,new ld(r.path,t,n))}return[]}function If(e,t,n){return Df(e,new hd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Of(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&("default"===t._queryIdentifier||_f(o,t))){const c=vf(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const l=c.removed;if(a=c.events,!i){const n=-1!==l.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(s,((e,t)=>xf(t)));if(n&&!i){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&xf(t)){return[Ef(t)]}{let e=[];return t&&(e=yf(t)),gu(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=Ff(e,r);e.listenProvider_.startListening(Wf(i),jf(e,i),s.hashFn,s.onComplete)}}}if(!i&&l.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Wf(t),n)}else l.forEach((t=>{const n=e.queryToTagMap.get(Uf(t));e.listenProvider_.stopListening(Wf(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Uf(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,l)}return a}function Af(e,t,n,r){const i=Bf(e,r);if(null!=i){const r=zf(i),s=r.path,o=r.queryId,a=ih(s,t);return Vf(e,s,new hd(cd(o),a,n))}return[]}function Pf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=ih(e,i);s=s||bf(t,n),o=o||xf(t)}));let a,c=e.syncPointTree_.get(i);if(c?(o=o||xf(c),s=s||bf(c,$u())):(c=new ff,e.syncPointTree_=e.syncPointTree_.set(i,c)),null!=s)a=!0;else{a=!1,s=jh.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=bf(t,$u());n&&(s=s.updateImmediateChild(e,n))}))}const l=_f(c,t);if(!l&&!t._queryParams.loadsAllData()){const n=Uf(t);An(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Tf++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=mf(c,t,n,Dd(e.pendingWriteTree_,i),s,a);if(!l&&!o&&!r){const n=wf(c,t);u=u.concat(function(e,t,n){const r=t._path,i=jf(e,t),s=Ff(e,n),o=e.listenProvider_.startListening(Wf(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)An(!xf(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!rh(e)&&t&&xf(t))return[Ef(t).query];{let e=[];return t&&(e=e.concat(yf(t).map((e=>e.query)))),gu(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Wf(r),jf(e,r))}}return o}(e,t,n))}return u}function Nf(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=bf(n,ih(e,t));if(r)return r}));return Ud(r,t,i,n,!0)}function Rf(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=ih(e,n);r=r||bf(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||bf(i,$u()):(i=new ff,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=null!=r,o=s?new fd(r,!0,!1):null;return function(e){return bd(e.viewCache_)}(gf(i,t,Dd(e.pendingWriteTree_,t._path),s?o.getNode():jh.EMPTY_NODE,s))}function Df(e,t){return Mf(t,e.syncPointTree_,null,Dd(e.pendingWriteTree_,$u()))}function Mf(e,t,n,r){if(rh(e.path))return Lf(e,t,n,r);{const i=t.get($u());null==n&&null!=i&&(n=bf(i,$u()));let s=[];const o=Qu(e.path),a=e.operationForChild(o),c=t.children.get(o);if(c&&a){const e=n?n.getImmediateChild(o):null,t=Gd(r,o);s=s.concat(Mf(a,c,e,t))}return i&&(s=s.concat(pf(i,e,r,n))),s}}function Lf(e,t,n,r){const i=t.get($u());null==n&&null!=i&&(n=bf(i,$u()));let s=[];return t.children.inorderTraversal(((t,i)=>{const o=n?n.getImmediateChild(t):null,a=Gd(r,t),c=e.operationForChild(t);c&&(s=s.concat(Lf(c,i,o,a)))})),i&&(s=s.concat(pf(i,e,r,n))),s}function Ff(e,t){const n=t.query,r=jf(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||jh.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Bf(e,n);if(r){const n=zf(r),i=n.path,s=n.queryId,o=ih(i,t);return Vf(e,i,new ud(cd(s),o))}return[]}(e,n._path,r):function(e,t){return Df(e,new ud({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Of(e,n,null,r)}}}}function jf(e,t){const n=Uf(t);return e.queryToTagMap.get(n)}function Uf(e){return e._path.toString()+"$"+e._queryIdentifier}function Bf(e,t){return e.tagToQueryMap.get(t)}function zf(e){const t=e.indexOf("$");return An(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Yu(e.substr(0,t))}}function Vf(e,t,n){const r=e.syncPointTree_.get(t);An(r,"Missing sync point for query tag that we're tracking");return pf(r,n,Dd(e.pendingWriteTree_,t),null)}function Wf(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(An(df,"Reference.ts has not been loaded"),df)(e._repo,e._path):e}class Hf{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Hf(t)}node(){return this.node_}}class qf{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=nh(this.path_,e);return new qf(this.syncTree_,t)}node(){return Nf(this.syncTree_,this.path_)}}const Gf=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Kf=function(e,t,n){return e&&"object"===typeof e?(An(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Yf(e[".sv"],t,n):"object"===typeof e[".sv"]?$f(e[".sv"],t):void An(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Yf=function(e,t,n){if("timestamp"===e)return n.timestamp;An(!1,"Unexpected server value: "+e)},$f=function(e,t,n){e.hasOwnProperty("increment")||An(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&An(!1,"Unexpected increment value: "+r);const i=t.node();if(An(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},Qf=function(e,t,n,r){return Jf(t,new qf(n,e),r)},Xf=function(e,t,n){return Jf(e,new Hf(t),n)};function Jf(e,t,n){const r=e.getPriority().val(),i=Kf(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=Kf(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new Oh(s,zh(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new Oh(i))),r.forEachChild(Ah,((e,r)=>{const i=Jf(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))})),s}}class Zf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function ep(e,t){let n=t instanceof Yu?t:new Yu(t),r=e,i=Qu(n);for(;null!==i;){const e=or(r.node.children,i)||{children:{},childCount:0};r=new Zf(i,r,e),n=Ju(n),i=Qu(n)}return r}function tp(e){return e.node.value}function np(e,t){e.node.value=t,ap(e)}function rp(e){return e.node.childCount>0}function ip(e,t){gu(e.node.children,((n,r)=>{t(new Zf(n,e,r))}))}function sp(e,t,n,r){n&&!r&&t(e),ip(e,(e=>{sp(e,t,!0,r)})),n&&r&&t(e)}function op(e){return new Yu(null===e.parent?e.name:op(e.parent)+"/"+e.name)}function ap(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===tp(e)&&!rp(e)}(n),i=sr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,ap(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,ap(e))}(e.parent,e.name,e)}const cp=/[\[\].#$\/\u0000-\u001F\u007F]/,lp=/[\[\].#$\u0000-\u001F\u007F]/,up=10485760,hp=function(e){return"string"===typeof e&&0!==e.length&&!cp.test(e)},dp=function(e){return"string"===typeof e&&0!==e.length&&!lp.test(e)},fp=function(e,t,n,r){r&&void 0===t||pp(yr(e,"value"),t,n)},pp=function(e,t,n){const r=n instanceof Yu?new ah(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+lh(r));if("function"===typeof t)throw new Error(e+"contains a function "+lh(r)+" with contents = "+t.toString());if(au(t))throw new Error(e+"contains "+t.toString()+" "+lh(r));if("string"===typeof t&&t.length>up/3&&br(t)>up)throw new Error(e+"contains a string greater than "+up+" utf8 bytes "+lh(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(gu(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!hp(t)))throw new Error(e+" contains an invalid key ("+t+") "+lh(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=br(t),ch(e)}(r,t),pp(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=br(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+lh(r)+" in addition to actual children.")}},gp=function(e,t,n,r){if((!r||void 0!==n)&&!dp(n))throw new Error(yr(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},mp=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gp(e,t,n,r)},vp=function(e,t){if(".info"===Qu(t))throw new Error(e+" failed = Can't modify data under /.info/")},yp=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!hp(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),dp(e)}(n))throw new Error(yr(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class bp{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wp(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||sh(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function _p(e,t,n){wp(e,n),xp(e,(e=>oh(e,t)||oh(t,e)))}function xp(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Ep(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Ep(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Zl&&nu("event: "+n.toString()),bu(r)}}}const Tp="repo_interrupt",Sp=25;class kp{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nd(),this.transactionQueueTree_=new Zf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Cp(e,t,n){if(e.stats_=Du(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ed(e.repoInfo_,((t,n,r,i)=>{Ap(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Pp(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new dh(e.repoInfo_,t,((t,n,r,i)=>{Ap(e,t,n,r,i)}),(t=>{Pp(e,t)}),(t=>{!function(e,t){gu(t,((t,n)=>{Np(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Ru[n]||(Ru[n]=t()),Ru[n]}(e.repoInfo_,(()=>new od(e.stats_,e.server_))),e.infoData_=new td,e.infoSyncTree_=new Sf({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=If(e.infoSyncTree_,t._path,o),setTimeout((()=>{i("ok")}),0)),s},stopListening:()=>{}}),Np(e,"connected",!1),e.serverSyncTree_=new Sf({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const s=i(n,r);_p(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Ip(e){const t=e.infoData_.getNode(new Yu(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Op(e){return Gf({timestamp:Ip(e)})}function Ap(e,t,n,r,i){e.dataUpdateCount++;const s=new Yu(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=cr(n,(e=>zh(e)));o=function(e,t,n,r){const i=Bf(e,r);if(i){const r=zf(i),s=r.path,o=r.queryId,a=ih(s,t),c=xd.fromObject(n);return Vf(e,s,new dd(cd(o),a,c))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=zh(n);o=Af(e.serverSyncTree_,s,t,i)}else if(r){const t=cr(n,(e=>zh(e)));o=function(e,t,n){const r=xd.fromObject(n);return Df(e,new dd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=zh(n);o=If(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=Bp(e,s)),_p(e.eventQueue_,a,o)}function Pp(e,t){Np(e,"connected",t),!1===t&&function(e){Lp(e,"onDisconnectEvents");const t=Op(e),n=nd();id(e.onDisconnect_,$u(),((r,i)=>{const s=Qf(r,i,e.serverSyncTree_,t);rd(n,r,s)}));let r=[];id(n,$u(),((t,n)=>{r=r.concat(If(e.serverSyncTree_,t,n));const i=qp(e,t);Bp(e,i)})),e.onDisconnect_=nd(),_p(e.eventQueue_,$u(),r)}(e)}function Np(e,t,n){const r=new Yu("/.info/"+t),i=zh(n);e.infoData_.updateSnapshot(r,i);const s=If(e.infoSyncTree_,r,i);_p(e.eventQueue_,r,s)}function Rp(e){return e.nextWriteId_++}function Dp(e,t,n,r,i){Lp(e,"set",{path:t.toString(),value:n,priority:r});const s=Op(e),o=zh(n,r),a=Nf(e.serverSyncTree_,t),c=Xf(o,a,s),l=Rp(e),u=kf(e.serverSyncTree_,t,c,l,!0);wp(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),((n,r)=>{const s="ok"===n;s||ou("set at "+t+" failed: "+n);const o=Cf(e.serverSyncTree_,l,!s);_p(e.eventQueue_,t,o),Fp(e,i,n,r)}));const h=qp(e,t);Bp(e,h),_p(e.eventQueue_,h,[])}function Mp(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Tp)}function Lp(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];nu(t,...r)}function Fp(e,t,n,r){t&&bu((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}}))}function jp(e,t,n){return Nf(e.serverSyncTree_,t,n)||jh.EMPTY_NODE}function Up(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Hp(e,t),tp(t)){const n=Vp(e,t);An(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=jp(e,t,r);let s=i;const o=i.hash();for(let l=0;l<n.length;l++){const e=n[l];An(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=ih(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),c=t;e.server_.put(c.toString(),a,(r=>{Lp(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Cf(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Hp(e,ep(e.transactionQueueTree_,t)),Up(e,e.transactionQueueTree_),_p(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)bu(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{ou("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Bp(e,t)}}),o)}(e,op(t),n)}else rp(t)&&ip(t,(t=>{Up(e,t)}))}function Bp(e,t){const n=zp(e,t),r=op(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter((e=>0===e.status)),o=s.map((e=>e.currentWriteId));for(let c=0;c<t.length;c++){const s=t[c],l=ih(n,s.path);let u,h=!1;if(An(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)h=!0,u=s.abortReason,i=i.concat(Cf(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=Sp)h=!0,u="maxretry",i=i.concat(Cf(e.serverSyncTree_,s.currentWriteId,!0));else{const n=jp(e,s.path,o);s.currentInputSnapshot=n;const r=t[c].update(n.val());if(void 0!==r){pp("transaction failed: Data returned ",r,s.path);let t=zh(r);"object"===typeof r&&null!=r&&sr(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,c=Op(e),l=Xf(t,n,c);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=l,s.currentWriteId=Rp(e),o.splice(o.indexOf(a),1),i=i.concat(kf(e.serverSyncTree_,s.path,l,s.currentWriteId,s.applyLocally)),i=i.concat(Cf(e.serverSyncTree_,a,!0))}else h=!0,u="nodata",i=i.concat(Cf(e.serverSyncTree_,s.currentWriteId,!0))}_p(e.eventQueue_,n,i),i=[],h&&(t[c].status=2,a=t[c].unwatcher,setTimeout(a,Math.floor(0)),t[c].onComplete&&("nodata"===u?r.push((()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot))):r.push((()=>t[c].onComplete(new Error(u),!1,null)))))}var a;Hp(e,e.transactionQueueTree_);for(let c=0;c<r.length;c++)bu(r[c]);Up(e,e.transactionQueueTree_)}(e,Vp(e,n),r),r}function zp(e,t){let n,r=e.transactionQueueTree_;for(n=Qu(t);null!==n&&void 0===tp(r);)r=ep(r,n),n=Qu(t=Ju(t));return r}function Vp(e,t){const n=[];return Wp(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Wp(e,t,n){const r=tp(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ip(t,(t=>{Wp(e,t,n)}))}function Hp(e,t){const n=tp(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,np(t,n.length>0?n:void 0)}ip(t,(t=>{Hp(e,t)}))}function qp(e,t){const n=op(zp(e,t)),r=ep(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Gp(e,t)})),Gp(e,r),sp(r,(t=>{Gp(e,t)})),n}function Gp(e,t){const n=tp(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(An(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(An(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Cf(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?np(t,void 0):n.length=s+1,_p(e.eventQueue_,op(t),i);for(let e=0;e<r.length;e++)bu(r[e])}}const Kp=function(e,t){const n=Yp(e),r=n.namespace;"firebase.com"===n.domain&&su(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||su("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ou("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Ou(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Yu(n.pathString)}},Yp=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",c=443;if("string"===typeof e){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ou("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));l=t.indexOf(":"),l>=0?(o="https"===a||"wss"===a,c=parseInt(t.substring(l+1),10)):l=t.length;const f=t.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},$p="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class Qp{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rr(this.snapshot.exportVal())}}class Xp{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Jp{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return An(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Zp{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return rh(this._path)?null:Zu(this._path)}get ref(){return new eg(this._repo,this._path)}get _queryIdentifier(){const e=Zh(this._queryParams),t=fu(e);return"{}"===t?"default":t}get _queryObject(){return Zh(this._queryParams)}isEqual(e){if(!((e=wr(e))instanceof Zp))return!1;const t=this._repo===e._repo,n=sh(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class eg extends Zp{constructor(e,t){super(e,t,new Xh,!1)}get parent(){const e=th(this._path);return null===e?null:new eg(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class tg{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Yu(e),n=rg(this.ref,e);return new tg(this._node.getChild(t),n,Ah)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new tg(n,rg(this.ref,t),Ah))))}hasChild(e){const t=new Yu(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ng(e,t){return(e=wr(e))._checkNotDeleted("ref"),void 0!==t?rg(e._root,t):e._root}function rg(e,t){return null===Qu((e=wr(e))._path)?mp("child","path",t,!1):gp("child","path",t,!1),new eg(e._repo,nh(e._path,t))}function ig(e,t){e=wr(e),vp("set",e._path),fp("set",t,e._path,!1);const n=new Wn;return Dp(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function sg(e){e=wr(e);const t=new Jp((()=>{})),n=new og(t);return function(e,t,n){const r=Rf(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=zh(r).withIndex(t._queryParams.getIndex());let s;if(Pf(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=If(e.serverSyncTree_,t._path,i);else{const n=jf(e.serverSyncTree_,t);s=Af(e.serverSyncTree_,t._path,i,n)}return _p(e.eventQueue_,t._path,s),Of(e.serverSyncTree_,t,n,null,!0),i}),(n=>(Lp(e,"get for query "+rr(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new tg(t,new eg(e._repo,e._path),e._queryParams.getIndex())))}class og{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Qp("value",this,new tg(e.snapshotNode,new eg(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Xp(this,e,t):null}matches(e){return e instanceof og&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}!function(e){An(!hf,"__referenceConstructor has already been defined"),hf=e}(eg),function(e){An(!df,"__referenceConstructor has already been defined"),df=e}(eg);const ag="FIREBASE_DATABASE_EMULATOR_HOST",cg={};let lg=!1;function ug(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||su("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nu("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,c=Kp(s,i),l=c.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APIKEY:"AIzaSyC3ztDdygb8OcoFlKZuT7FFmta7-pH3f4A",REACT_APP_FIREBASE_AUTHDOMAIN:"arrayan-ccaeb.firebaseapp.com",REACT_APP_FIREBASE_PROJECTID:"arrayan-ccaeb",REACT_APP_FIREBASE_STORAGEBUCKET:"arrayan-ccaeb.appspot.com",REACT_APP_FIREBASE_MESSAGINGSENDERID:"586198127618",REACT_APP_FIREBASE_APPID:"1:586198127618:web:f287139c6563424073431b",REACT_APP_FIREBASE_MEASUREMENTID:"G-MC4J5PDCCX",REACT_APP_ADMIN_PUBLIC_KEY:"FT1Jzgv2AyxJeNEYnFg7csiN3Ag9xXAjYH8oUmi8LVWB"}[ag]),a?(o=!0,s="http://".concat(a,"?ns=").concat(l.namespace),c=Kp(s,i),l=c.repoInfo):o=!c.repoInfo.secure;const u=i&&o?new Eu(Eu.OWNER):new xu(e.name,e.options,t);yp("Invalid Firebase Database URL",c),rh(c.path)||su("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=cg[t.name];i||(i={},cg[t.name]=i);let s=i[e.toURLString()];s&&su("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new kp(e,lg,n,r),i[e.toURLString()]=s,s}(l,e,u,new _u(e.name,n));return new hg(h,e)}class hg{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Cp(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new eg(this._repo,$u())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=cg[t];n&&n[e.key]===e||su("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Mp(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&su("Cannot call "+e+" on a deleted database.")}}dh.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},dh.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Wl(di),oi(new _r("database",((e,t)=>{let{instanceIdentifier:n}=t;return ug(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),vi(Bl,zl,e),vi(Bl,zl,"esm2017")}();var dg,fg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},pg={},gg=gg||{},mg=fg||self;function vg(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function yg(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var bg="closure_uid_"+(1e9*Math.random()>>>0),wg=0;function _g(e,t,n){return e.call.apply(e.bind,arguments)}function xg(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Eg(e,t,n){return(Eg=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_g:xg).apply(null,arguments)}function Tg(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Sg(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function kg(){this.s=this.s,this.o=this.o}kg.prototype.s=!1,kg.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,bg)&&e[bg]||(e[bg]=++wg))},kg.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cg=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ig(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Og(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(vg(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Ag(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ag.prototype.h=function(){this.defaultPrevented=!0};var Pg=function(){if(!mg.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{mg.addEventListener("test",(()=>{}),t),mg.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function Ng(e){return/^[\s\xa0]*$/.test(e)}function Rg(){var e=mg.navigator;return e&&(e=e.userAgent)?e:""}function Dg(e){return-1!=Rg().indexOf(e)}function Mg(e){return Mg[" "](e),e}Mg[" "]=function(){};var Lg,Fg,jg=Dg("Opera"),Ug=Dg("Trident")||Dg("MSIE"),Bg=Dg("Edge"),zg=Bg||Ug,Vg=Dg("Gecko")&&!(-1!=Rg().toLowerCase().indexOf("webkit")&&!Dg("Edge"))&&!(Dg("Trident")||Dg("MSIE"))&&!Dg("Edge"),Wg=-1!=Rg().toLowerCase().indexOf("webkit")&&!Dg("Edge");function Hg(){var e=mg.document;return e?e.documentMode:void 0}e:{var qg="",Gg=function(){var e=Rg();return Vg?/rv:([^\);]+)(\)|;)/.exec(e):Bg?/Edge\/([\d\.]+)/.exec(e):Ug?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Wg?/WebKit\/(\S+)/.exec(e):jg?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Gg&&(qg=Gg?Gg[1]:""),Ug){var Kg=Hg();if(null!=Kg&&Kg>parseFloat(qg)){Lg=String(Kg);break e}}Lg=qg}if(mg.document&&Ug){var Yg=Hg();Fg=Yg||(parseInt(Lg,10)||void 0)}else Fg=void 0;var $g=Fg;function Qg(e,t){if(Ag.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Vg){e:{try{Mg(t.nodeName);var i=!0;break e}catch(lK){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Xg[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Qg.$.h.call(this)}}Sg(Qg,Ag);var Xg={2:"touch",3:"pen",4:"mouse"};Qg.prototype.h=function(){Qg.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Jg="closure_listenable_"+(1e6*Math.random()|0),Zg=0;function em(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Zg,this.fa=this.ia=!1}function tm(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function nm(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function rm(e){const t={};for(const n in e)t[n]=e[n];return t}const im="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sm(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<im.length;t++)n=im[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function om(e){this.src=e,this.g={},this.h=0}function am(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Cg(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(tm(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function cm(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}om.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=cm(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new em(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var lm="closure_lm_"+(1e6*Math.random()|0),um={};function hm(e,t,n,r,i){if(r&&r.once)return fm(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)hm(e,t[s],n,r,i);return null}return n=wm(n),e&&e[Jg]?e.O(t,n,yg(r)?!!r.capture:!!r,i):dm(e,t,n,!1,r,i)}function dm(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=yg(i)?!!i.capture:!!i,a=ym(e);if(a||(e[lm]=a=new om(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=vm;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Pg||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mm(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function fm(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)fm(e,t[s],n,r,i);return null}return n=wm(n),e&&e[Jg]?e.P(t,n,yg(r)?!!r.capture:!!r,i):dm(e,t,n,!0,r,i)}function pm(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)pm(e,t[s],n,r,i);else r=yg(r)?!!r.capture:!!r,n=wm(n),e&&e[Jg]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=cm(s=e.g[t],n,r,i))&&(tm(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ym(e))&&(t=e.g[t.toString()],e=-1,t&&(e=cm(t,n,r,i)),(n=-1<e?t[e]:null)&&gm(n))}function gm(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Jg])am(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mm(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ym(t))?(am(n,e),0==n.h&&(n.src=null,t[lm]=null)):tm(e)}}}function mm(e){return e in um?um[e]:um[e]="on"+e}function vm(e,t){if(e.fa)e=!0;else{t=new Qg(t,this);var n=e.listener,r=e.la||e.src;e.ia&&gm(e),e=n.call(r,t)}return e}function ym(e){return(e=e[lm])instanceof om?e:null}var bm="__closure_events_fn_"+(1e9*Math.random()>>>0);function wm(e){return"function"===typeof e?e:(e[bm]||(e[bm]=function(t){return e.handleEvent(t)}),e[bm])}function _m(){kg.call(this),this.i=new om(this),this.S=this,this.J=null}function xm(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Ag(t,e);else if(t instanceof Ag)t.target=t.target||e;else{var i=t;sm(t=new Ag(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Em(o,r,!0,t)&&i}if(i=Em(o=t.g=e,r,!0,t)&&i,i=Em(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Em(o=t.g=n[s],r,!1,t)&&i}function Em(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&am(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Sg(_m,kg),_m.prototype[Jg]=!0,_m.prototype.removeEventListener=function(e,t,n,r){pm(this,e,t,n,r)},_m.prototype.N=function(){if(_m.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)tm(n[r]);delete t.g[e],t.h--}}this.J=null},_m.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_m.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Tm=mg.JSON.stringify;function Sm(){var e=Nm;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var km=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Cm),(e=>e.reset()));class Cm{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Im(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Om(e){mg.setTimeout((()=>{throw e}),0)}let Am,Pm=!1,Nm=new class{constructor(){this.h=this.g=null}add(e,t){const n=km.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Rm=()=>{const e=mg.Promise.resolve(void 0);Am=()=>{e.then(Dm)}};var Dm=()=>{for(var e;e=Sm();){try{e.h.call(e.g)}catch(n){Om(n)}var t=km;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pm=!1};function Mm(e,t){_m.call(this),this.h=e||1,this.g=t||mg,this.j=Eg(this.qb,this),this.l=Date.now()}function Lm(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Fm(e,t,n){if("function"===typeof e)n&&(e=Eg(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Eg(e.handleEvent,e)}return 2147483647<Number(t)?-1:mg.setTimeout(e,t||0)}function jm(e){e.g=Fm((()=>{e.g=null,e.i&&(e.i=!1,jm(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Sg(Mm,_m),(dg=Mm.prototype).ga=!1,dg.T=null,dg.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xm(this,"tick"),this.ga&&(Lm(this),this.start()))}},dg.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dg.N=function(){Mm.$.N.call(this),Lm(this),delete this.g};class Um extends kg{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jm(this)}N(){super.N(),this.g&&(mg.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bm(e){kg.call(this),this.h=e,this.g={}}Sg(Bm,kg);var zm=[];function Vm(e,t,n,r){Array.isArray(n)||(n&&(zm[0]=n.toString()),n=zm);for(var i=0;i<n.length;i++){var s=hm(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Wm(e){nm(e.g,(function(e,t){this.g.hasOwnProperty(t)&&gm(e)}),e),e.g={}}function Hm(){this.g=!0}function qm(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Tm(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Bm.prototype.N=function(){Bm.$.N.call(this),Wm(this)},Bm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hm.prototype.Ea=function(){this.g=!1},Hm.prototype.info=function(){};var Gm={},Km=null;function Ym(){return Km=Km||new _m}function $m(e){Ag.call(this,Gm.Ta,e)}function Qm(e){const t=Ym();xm(t,new $m(t))}function Xm(e,t){Ag.call(this,Gm.STAT_EVENT,e),this.stat=t}function Jm(e){const t=Ym();xm(t,new Xm(t,e))}function Zm(e,t){Ag.call(this,Gm.Ua,e),this.size=t}function ev(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return mg.setTimeout((function(){e()}),t)}Gm.Ta="serverreachability",Sg($m,Ag),Gm.STAT_EVENT="statevent",Sg(Xm,Ag),Gm.Ua="timingevent",Sg(Zm,Ag);var tv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function rv(){}function iv(e){return e.h||(e.h=e.i())}function sv(){}rv.prototype.h=null;var ov,av={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function cv(){Ag.call(this,"d")}function lv(){Ag.call(this,"c")}function uv(){}function hv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Bm(this),this.P=fv,e=zg?125:void 0,this.V=new Mm(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dv}function dv(){this.i=null,this.g="",this.h=!1}Sg(cv,Ag),Sg(lv,Ag),Sg(uv,rv),uv.prototype.g=function(){return new XMLHttpRequest},uv.prototype.i=function(){return{}},ov=new uv;var fv=45e3,pv={},gv={};function mv(e,t,n){e.L=1,e.v=Mv(Av(t)),e.s=n,e.S=!0,vv(e,null)}function vv(e,t){e.G=Date.now(),_v(e),e.A=Av(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Yv(n.i,"t",r),e.C=0,n=e.l.J,e.h=new dv,e.g=$y(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Um(Eg(e.Pa,e,e.g),e.O)),Vm(e.U,e.g,"readystatechange",e.nb),t=e.I?rm(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Qm(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function yv(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function bv(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=wv(e,n),r==gv){4==t&&(e.o=4,Jm(14),i=!1),qm(e.j,e.m,null,"[Incomplete Response]");break}if(r==pv){e.o=4,Jm(15),qm(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}qm(e.j,e.m,r,null),kv(e,r)}yv(e)&&r!=gv&&r!=pv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Jm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zy(t),t.M=!0,Jm(11))):(qm(e.j,e.m,n,"[Invalid Chunked Response]"),Sv(e),Tv(e))}function wv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?gv:(n=Number(t.substring(n,r)),isNaN(n)?pv:(r+=1)+n>t.length?gv:(t=t.slice(r,r+n),e.C=r+n,t))}function _v(e){e.Y=Date.now()+e.P,xv(e,e.P)}function xv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ev(Eg(e.lb,e),t)}function Ev(e){e.B&&(mg.clearTimeout(e.B),e.B=null)}function Tv(e){0==e.l.H||e.J||Hy(e.l,e)}function Sv(e){Ev(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Lm(e.V),Wm(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function kv(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ty(n.i,e)))if(!e.K&&ty(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Wy(n),Ry(n)}By(n),Jm(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ev(Eg(n.ib,n),6e3));if(1>=ey(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else Gy(n,11)}else if((e.K||n.g==e)&&Wy(n),!Ng(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ny(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Dv(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Yy(r,r.J?r.pa:null,r.Y),o.K){ry(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(Ev(a),_v(a)),r.g=o}else Uy(r);0<n.j.length&&My(n)}else"stop"!=l[0]&&"close"!=l[0]||Gy(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Gy(n,7):Ny(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Qm()}catch(l){}}function Cv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(vg(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(vg(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(vg(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(dg=hv.prototype).setTimeout=function(e){this.P=e},dg.nb=function(e){e=e.target;const t=this.M;t&&3==ky(e)?t.l():this.Pa(e)},dg.Pa=function(e){try{if(e==this.g)e:{const u=ky(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||zg||this.g&&(this.h.h||this.g.ja()||Cy(this.g)))){this.J||4!=u||7==t||Qm(),Ev(this);var n=this.g.da();this.ca=n;t:if(yv(this)){var r=Cy(this.g);e="";var i=r.length,s=4==ky(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Sv(this),Tv(this);var o="";break t}this.h.i=new mg.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ng(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Jm(12),Sv(this),Tv(this);break e}qm(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kv(this,n)}this.S?(bv(this,u,o),zg&&this.i&&3==u&&(Vm(this.U,this.V,"tick",this.mb),this.V.start())):(qm(this.j,this.m,o,null),kv(this,o)),4==u&&Sv(this),this.i&&!this.J&&(4==u?Hy(this.l,this):(this.i=!1,_v(this)))}else(function(e){const t={};e=(e.g&&2<=ky(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ng(e[r]))continue;var n=Im(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Jm(12)):(this.o=0,Jm(13)),Sv(this),Tv(this)}}}catch(u){}},dg.mb=function(){if(this.g){var e=ky(this.g),t=this.g.ja();this.C<t.length&&(Ev(this),bv(this,e,t),this.i&&4!=e&&_v(this))}},dg.cancel=function(){this.J=!0,Sv(this)},dg.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Qm(),Jm(17)),Sv(this),this.o=2,Tv(this)):xv(this,this.Y-e)};var Iv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ov(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ov){this.h=e.h,Pv(this,e.j),this.s=e.s,this.g=e.g,Nv(this,e.m),this.l=e.l;var t=e.i,n=new Hv;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Rv(this,n),this.o=e.o}else e&&(t=String(e).match(Iv))?(this.h=!1,Pv(this,t[1]||"",!0),this.s=Lv(t[2]||""),this.g=Lv(t[3]||"",!0),Nv(this,t[4]),this.l=Lv(t[5]||"",!0),Rv(this,t[6]||"",!0),this.o=Lv(t[7]||"")):(this.h=!1,this.i=new Hv(null,this.h))}function Av(e){return new Ov(e)}function Pv(e,t,n){e.j=n?Lv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Nv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Rv(e,t,n){t instanceof Hv?(e.i=t,function(e,t){t&&!e.j&&(qv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Gv(this,t),Yv(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Fv(t,Vv)),e.i=new Hv(t,e.h))}function Dv(e,t,n){e.i.set(t,n)}function Mv(e){return Dv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Lv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Fv(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,jv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function jv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ov.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Fv(t,Uv,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Fv(t,Uv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Fv(n,"/"==n.charAt(0)?zv:Bv,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Fv(n,Wv)),e.join("")};var Uv=/[#\/\?@]/g,Bv=/[#\?:]/g,zv=/[#\?]/g,Vv=/[#\?@]/g,Wv=/#/g;function Hv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qv(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Gv(e,t){qv(e),t=$v(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Kv(e,t){return qv(e),t=$v(e,t),e.g.has(t)}function Yv(e,t,n){Gv(e,t),0<n.length&&(e.i=null,e.g.set($v(e,t),Ig(n)),e.h+=n.length)}function $v(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(dg=Hv.prototype).add=function(e,t){qv(this),this.i=null,e=$v(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},dg.forEach=function(e,t){qv(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},dg.ta=function(){qv(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},dg.Z=function(e){qv(this);let t=[];if("string"===typeof e)Kv(this,e)&&(t=t.concat(this.g.get($v(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},dg.set=function(e,t){return qv(this),this.i=null,Kv(this,e=$v(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},dg.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},dg.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Qv=class{constructor(e,t){this.g=e,this.map=t}};function Xv(e){this.l=e||Jv,mg.PerformanceNavigationTiming?e=0<(e=mg.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(mg.g&&mg.g.Ka&&mg.g.Ka()&&mg.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Jv=10;function Zv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ey(e){return e.h?1:e.g?e.g.size:0}function ty(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ny(e,t){e.g?e.g.add(t):e.h=t}function ry(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function iy(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Ig(e.i)}Xv.prototype.cancel=function(){if(this.i=iy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var sy,oy=class{stringify(e){return mg.JSON.stringify(e,void 0)}parse(e){return mg.JSON.parse(e,void 0)}};function ay(){this.g=new oy}function cy(e,t,n){const r=n||"";try{Cv(e,(function(e,n){let i=e;yg(e)&&(i=Tm(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ly(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(lK){}}function uy(e){this.l=e.ec||null,this.j=e.ob||!1}function hy(e,t){_m.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=dy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sg(uy,rv),uy.prototype.g=function(){return new hy(this.l,this.j)},uy.prototype.i=(sy={},function(){return sy}),Sg(hy,_m);var dy=0;function fy(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function py(e){e.readyState=4,e.l=null,e.j=null,e.A=null,gy(e)}function gy(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(dg=hy.prototype).open=function(e,t){if(this.readyState!=dy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,gy(this)},dg.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||mg).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},dg.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,py(this)),this.readyState=dy},dg.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,gy(this)),this.g&&(this.readyState=3,gy(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof mg.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fy(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},dg.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?py(this):gy(this),3==this.readyState&&fy(this)}},dg.Za=function(e){this.g&&(this.response=this.responseText=e,py(this))},dg.Ya=function(e){this.g&&(this.response=e,py(this))},dg.ka=function(){this.g&&py(this)},dg.setRequestHeader=function(e,t){this.v.append(e,t)},dg.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},dg.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(hy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var my=mg.JSON.parse;function vy(e){_m.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yy,this.L=this.M=!1}Sg(vy,_m);var yy="",by=/^https?$/i,wy=["POST","PUT"];function _y(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,xy(e),Ty(e)}function xy(e){e.F||(e.F=!0,xm(e,"complete"),xm(e,"error"))}function Ey(e){if(e.h&&"undefined"!=typeof gg&&(!e.C[1]||4!=ky(e)||2!=e.da()))if(e.v&&4==ky(e))Fm(e.La,0,e);else if(xm(e,"readystatechange"),4==ky(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Iv)[1]||null;!i&&mg.self&&mg.self.location&&(i=mg.self.location.protocol.slice(0,-1)),r=!by.test(i?i.toLowerCase():"")}n=r}if(n)xm(e,"complete"),xm(e,"success");else{e.m=6;try{var s=2<ky(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",xy(e)}}finally{Ty(e)}}}function Ty(e,t){if(e.g){Sy(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||xm(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Sy(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(mg.clearTimeout(e.A),e.A=null)}function ky(e){return e.g?e.g.readyState:0}function Cy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case yy:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Db){return null}}function Iy(e){let t="";return nm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Oy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Iy(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Dv(e,t,n))}function Ay(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Py(e){this.Ga=0,this.j=[],this.l=new Hm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ay("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ay("baseRetryDelayMs",5e3,e),this.hb=Ay("retryDelaySeedMs",1e4,e),this.eb=Ay("forwardChannelMaxRetries",2,e),this.xa=Ay("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Xv(e&&e.concurrentRequestLimit),this.Ja=new ay,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ny(e){if(Dy(e),3==e.H){var t=e.W++,n=Av(e.I);if(Dv(n,"SID",e.K),Dv(n,"RID",t),Dv(n,"TYPE","terminate"),Fy(e,n),(t=new hv(e,e.l,t)).L=2,t.v=Mv(Av(n)),n=!1,mg.navigator&&mg.navigator.sendBeacon)try{n=mg.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&mg.Image&&((new Image).src=t.v,n=!0),n||(t.g=$y(t.l,null),t.g.ha(t.v)),t.G=Date.now(),_v(t)}Ky(e)}function Ry(e){e.g&&(zy(e),e.g.cancel(),e.g=null)}function Dy(e){Ry(e),e.u&&(mg.clearTimeout(e.u),e.u=null),Wy(e),e.i.cancel(),e.m&&("number"===typeof e.m&&mg.clearTimeout(e.m),e.m=null)}function My(e){if(!Zv(e.i)&&!e.m){e.m=!0;var t=e.Na;Am||Rm(),Pm||(Am(),Pm=!0),Nm.add(t,e),e.C=0}}function Ly(e,t){var n;n=t?t.m:e.W++;const r=Av(e.I);Dv(r,"SID",e.K),Dv(r,"RID",n),Dv(r,"AID",e.V),Fy(e,r),e.o&&e.s&&Oy(r,e.o,e.s),n=new hv(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=jy(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ny(e.i,n),mv(n,r,t)}function Fy(e,t){e.na&&nm(e.na,(function(e,n){Dv(t,n,e)})),e.h&&Cv({},(function(e,n){Dv(t,n,e)}))}function jy(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Eg(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{cy(a,e,"req"+n+"_")}catch(Xw){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Uy(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Am||Rm(),Pm||(Am(),Pm=!0),Nm.add(t,e),e.A=0}}function By(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ev(Eg(e.Ma,e),qy(e,e.A)),e.A++,!0)}function zy(e){null!=e.B&&(mg.clearTimeout(e.B),e.B=null)}function Vy(e){e.g=new hv(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Av(e.wa);Dv(t,"RID","rpc"),Dv(t,"SID",e.K),Dv(t,"AID",e.V),Dv(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Dv(t,"TO",e.qa),Dv(t,"TYPE","xmlhttp"),Fy(e,t),e.o&&e.s&&Oy(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Mv(Av(t)),n.s=null,n.S=!0,vv(n,e)}function Wy(e){null!=e.v&&(mg.clearTimeout(e.v),e.v=null)}function Hy(e,t){var n=null;if(e.g==t){Wy(e),zy(e),e.g=null;var r=2}else{if(!ty(e.i,t))return;n=t.F,ry(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;xm(r=Ym(),new Zm(r,n)),My(e)}else Uy(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ey(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ev(Eg(e.Na,e,t),qy(e,e.C)),e.C++,!0))}(e,t)||2==r&&By(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Gy(e,5);break;case 4:Gy(e,10);break;case 3:Gy(e,6);break;default:Gy(e,2)}}function qy(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Gy(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Eg(e.pb,e);n||(n=new Ov("//www.google.com/images/cleardot.gif"),mg.location&&"http"==mg.location.protocol||Pv(n,"https"),Mv(n)),function(e,t){const n=new Hm;if(mg.Image){const r=new Image;r.onload=Tg(ly,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Tg(ly,n,r,"TestLoadImage: error",!1,t),r.onabort=Tg(ly,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Tg(ly,n,r,"TestLoadImage: timeout",!1,t),mg.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Jm(2);e.H=0,e.h&&e.h.za(t),Ky(e),Dy(e)}function Ky(e){if(e.H=0,e.ma=[],e.h){const t=iy(e.i);0==t.length&&0==e.j.length||(Og(e.ma,t),Og(e.ma,e.j),e.i.i.length=0,Ig(e.j),e.j.length=0),e.h.ya()}}function Yy(e,t,n){var r=n instanceof Ov?Av(n):new Ov(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Nv(r,r.m);else{var i=mg.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Ov(null);r&&Pv(s,r),t&&(s.g=t),i&&Nv(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Dv(r,n,t),Dv(r,"VER",e.ra),Fy(e,r),r}function $y(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new vy(new uy({ob:!0})):new vy(e.va)).Oa(e.J),t}function Qy(){}function Xy(){if(Ug&&!(10<=Number($g)))throw Error("Environmental error: no available transport.")}function Jy(e,t){_m.call(this),this.g=new Py(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ng(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ng(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new tb(this)}function Zy(e){cv.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function eb(){lv.call(this),this.status=1}function tb(e){this.g=e}function nb(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rb(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function ib(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(dg=vy.prototype).Oa=function(e){this.M=e},dg.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ov.g(),this.C=this.u?iv(this.u):iv(ov),this.g.onreadystatechange=Eg(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(lK){return void _y(this,lK)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=mg.FormData&&e instanceof mg.FormData,!(0<=Cg(wy,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Sy(this),0<this.B&&((this.L=function(e){return Ug&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Eg(this.ua,this)):this.A=Fm(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(lK){_y(this,lK)}},dg.ua=function(){"undefined"!=typeof gg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xm(this,"timeout"),this.abort(8))},dg.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,xm(this,"complete"),xm(this,"abort"),Ty(this))},dg.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ty(this,!0)),vy.$.N.call(this)},dg.La=function(){this.s||(this.G||this.v||this.l?Ey(this):this.kb())},dg.kb=function(){Ey(this)},dg.isActive=function(){return!!this.g},dg.da=function(){try{return 2<ky(this)?this.g.status:-1}catch(sy){return-1}},dg.ja=function(){try{return this.g?this.g.responseText:""}catch(sy){return""}},dg.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),my(t)}},dg.Ia=function(){return this.m},dg.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(dg=Py.prototype).ra=8,dg.H=1,dg.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new hv(this,this.l,e);let s=this.s;if(this.U&&(s?(s=rm(s),sm(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=jy(this,i,t),Dv(n=Av(this.I),"RID",e),Dv(n,"CVER",22),this.F&&Dv(n,"X-HTTP-Session-Id",this.F),Fy(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Iy(s)))+"&"+t:this.o&&Oy(n,this.o,s)),ny(this.i,i),this.bb&&Dv(n,"TYPE","init"),this.P?(Dv(n,"$req",t),Dv(n,"SID","null"),i.aa=!0,mv(i,n,null)):mv(i,n,t),this.H=2}}else 3==this.H&&(e?Ly(this,e):0==this.j.length||Zv(this.i)||Ly(this))},dg.Ma=function(){if(this.u=null,Vy(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ev(Eg(this.jb,this),e)}},dg.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Jm(10),Ry(this),Vy(this))},dg.ib=function(){null!=this.v&&(this.v=null,Ry(this),By(this),Jm(19))},dg.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Jm(2)):(this.l.info("Failed to ping google.com"),Jm(1))},dg.isActive=function(){return!!this.h&&this.h.isActive(this)},(dg=Qy.prototype).Ba=function(){},dg.Aa=function(){},dg.za=function(){},dg.ya=function(){},dg.isActive=function(){return!0},dg.Va=function(){},Xy.prototype.g=function(e,t){return new Jy(e,t)},Sg(Jy,_m),Jy.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Jm(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Yy(e,null,e.Y),My(e)},Jy.prototype.close=function(){Ny(this.g)},Jy.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Tm(e),e=n);t.j.push(new Qv(t.fb++,e)),3==t.H&&My(t)},Jy.prototype.N=function(){this.g.h=null,delete this.j,Ny(this.g),delete this.g,Jy.$.N.call(this)},Sg(Zy,cv),Sg(eb,lv),Sg(tb,Qy),tb.prototype.Ba=function(){xm(this.g,"a")},tb.prototype.Aa=function(e){xm(this.g,new Zy(e))},tb.prototype.za=function(e){xm(this.g,new eb)},tb.prototype.ya=function(){xm(this.g,"b")},Sg(nb,(function(){this.blockSize=-1})),nb.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},nb.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)rb(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){rb(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){rb(this,r),i=0;break}}this.h=i,this.i+=t},nb.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var sb={};function ob(e){return-128<=e&&128>e?function(e,t){var n=sb;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new ib([0|e],0>e?-1:0)})):new ib([0|e],0>e?-1:0)}function ab(e){if(isNaN(e)||!isFinite(e))return lb;if(0>e)return pb(ab(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=cb;return new ib(t,0)}var cb=4294967296,lb=ob(0),ub=ob(1),hb=ob(16777216);function db(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function fb(e){return-1==e.h}function pb(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ib(n,~e.h).add(ub)}function gb(e,t){return e.add(pb(t))}function mb(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function vb(e,t){this.g=e,this.h=t}function yb(e,t){if(db(t))throw Error("division by zero");if(db(e))return new vb(lb,lb);if(fb(e))return t=yb(pb(e),t),new vb(pb(t.g),pb(t.h));if(fb(t))return t=yb(e,pb(t)),new vb(pb(t.g),t.h);if(30<e.g.length){if(fb(e)||fb(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ub,r=t;0>=r.X(e);)n=bb(n),r=bb(r);var i=wb(n,1),s=wb(r,1);for(r=wb(r,2),n=wb(n,2);!db(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=wb(r,1),n=wb(n,1)}return t=gb(e,i.R(t)),new vb(i,t)}for(i=lb;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ab(n)).R(t);fb(o)||0<o.X(e);)o=(s=ab(n-=r)).R(t);db(s)&&(s=ub),i=i.add(s),e=gb(e,o)}return new vb(i,e)}function bb(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ib(n,e.h)}function wb(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new ib(i,e.h)}(dg=ib.prototype).ea=function(){if(fb(this))return-pb(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:cb+r)*t,t*=cb}return e},dg.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(db(this))return"0";if(fb(this))return"-"+pb(this).toString(e);for(var t=ab(Math.pow(e,6)),n=this,r="";;){var i=yb(n,t).g,s=((0<(n=gb(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(db(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},dg.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},dg.X=function(e){return fb(e=gb(this,e))?-1:db(e)?0:1},dg.abs=function(){return fb(this)?pb(this):this},dg.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ib(n,-2147483648&n[n.length-1]?-1:0)},dg.R=function(e){if(db(this)||db(e))return lb;if(fb(this))return fb(e)?pb(this).R(pb(e)):pb(pb(this).R(e));if(fb(e))return pb(this.R(pb(e)));if(0>this.X(hb)&&0>e.X(hb))return ab(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=o*c,mb(n,2*r+2*i),n[2*r+2*i+1]+=s*c,mb(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,mb(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,mb(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ib(n,0)},dg.gb=function(e){return yb(this,e).h},dg.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ib(n,this.h&e.h)},dg.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ib(n,this.h|e.h)},dg.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ib(n,this.h^e.h)},Xy.prototype.createWebChannel=Xy.prototype.g,Jy.prototype.send=Jy.prototype.u,Jy.prototype.open=Jy.prototype.m,Jy.prototype.close=Jy.prototype.close,tv.NO_ERROR=0,tv.TIMEOUT=8,tv.HTTP_ERROR=6,nv.COMPLETE="complete",sv.EventType=av,av.OPEN="a",av.CLOSE="b",av.ERROR="c",av.MESSAGE="d",_m.prototype.listen=_m.prototype.O,vy.prototype.listenOnce=vy.prototype.P,vy.prototype.getLastError=vy.prototype.Sa,vy.prototype.getLastErrorCode=vy.prototype.Ia,vy.prototype.getStatus=vy.prototype.da,vy.prototype.getResponseJson=vy.prototype.Wa,vy.prototype.getResponseText=vy.prototype.ja,vy.prototype.send=vy.prototype.ha,vy.prototype.setWithCredentials=vy.prototype.Oa,nb.prototype.digest=nb.prototype.l,nb.prototype.reset=nb.prototype.reset,nb.prototype.update=nb.prototype.j,ib.prototype.add=ib.prototype.add,ib.prototype.multiply=ib.prototype.R,ib.prototype.modulo=ib.prototype.gb,ib.prototype.compare=ib.prototype.X,ib.prototype.toNumber=ib.prototype.ea,ib.prototype.toString=ib.prototype.toString,ib.prototype.getBits=ib.prototype.D,ib.fromNumber=ab,ib.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return pb(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ab(Math.pow(n,8)),i=lb,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=ab(Math.pow(n,o)),i=i.R(o).add(ab(a))):i=(i=i.R(r)).add(ab(a))}return i};var _b=pg.createWebChannelTransport=function(){return new Xy},xb=pg.getStatEventTarget=function(){return Ym()},Eb=pg.ErrorCode=tv,Tb=pg.EventType=nv,Sb=pg.Event=Gm,kb=pg.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cb=pg.FetchXmlHttpFactory=uy,Ib=pg.WebChannel=sv,Ob=pg.XhrIo=vy,Ab=pg.Md5=nb,Pb=pg.Integer=ib;const Nb="@firebase/firestore";class Rb{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rb.UNAUTHENTICATED=new Rb(null),Rb.GOOGLE_CREDENTIALS=new Rb("google-credentials-uid"),Rb.FIRST_PARTY=new Rb("first-party-uid"),Rb.MOCK_USER=new Rb("mock-user");let Db="10.5.2";const Mb=new Pr("@firebase/firestore");function Lb(){return Mb.logLevel}function Fb(e){if(Mb.logLevel<=kr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Bb);Mb.debug("Firestore (".concat(Db,"): ").concat(e),...i)}}function jb(e){if(Mb.logLevel<=kr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Bb);Mb.error("Firestore (".concat(Db,"): ").concat(e),...i)}}function Ub(e){if(Mb.logLevel<=kr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Bb);Mb.warn("Firestore (".concat(Db,"): ").concat(e),...i)}}function Bb(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function zb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Db,") INTERNAL ASSERTION FAILED: ")+e;throw jb(t),new Error(t)}function Vb(e,t){e||zb()}function Wb(e,t){return e}const Hb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qb extends Zn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Gb{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Kb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Yb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Rb.UNAUTHENTICATED)))}shutdown(){}}class $b{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Qb{constructor(e){this.t=e,this.currentUser=Rb.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Gb;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gb,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Fb("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Fb("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gb)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Fb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Vb("string"==typeof t.accessToken),new Kb(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vb(null===e||"string"==typeof e),new Rb(e)}}class Xb{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Rb.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Jb{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Xb(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Rb.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ew{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Fb("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Fb("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Fb("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Fb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Vb("string"==typeof e.token),this.R=e.token,new Zb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tw(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class nw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=tw(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function rw(e,t){return e<t?-1:e>t?1:0}function iw(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function sw(e){return e+"\0"}class ow{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qb(Hb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qb(Hb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qb(Hb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qb(Hb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ow.fromMillis(Date.now())}static fromDate(e){return ow.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ow(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rw(this.nanoseconds,e.nanoseconds):rw(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class aw{constructor(e){this.timestamp=e}static fromTimestamp(e){return new aw(e)}static min(){return new aw(new ow(0,0))}static max(){return new aw(new ow(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cw{constructor(e,t,n){void 0===t?t=0:t>e.length&&zb(),void 0===n?n=e.length-t:n>e.length-t&&zb(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===cw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cw?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class lw extends cw{construct(e,t,n){return new lw(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new qb(Hb.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new lw(e)}static emptyPath(){return new lw([])}}const uw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hw extends cw{construct(e,t,n){return new hw(e,t,n)}static isValidIdentifier(e){return uw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hw.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hw(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new qb(Hb.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new qb(Hb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new qb(Hb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new qb(Hb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hw(t)}static emptyPath(){return new hw([])}}class dw{constructor(e){this.path=e}static fromPath(e){return new dw(lw.fromString(e))}static fromName(e){return new dw(lw.fromString(e).popFirst(5))}static empty(){return new dw(lw.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===lw.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return lw.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dw(new lw(e.slice()))}}class fw{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function pw(e){return e.fields.find((e=>2===e.kind))}function gw(e){return e.fields.filter((e=>2!==e.kind))}fw.UNKNOWN_ID=-1;class mw{constructor(e,t){this.fieldPath=e,this.kind=t}}class vw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vw(0,ww.min())}}function yw(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=aw.fromTimestamp(1e9===r?new ow(n+1,0):new ow(n,r));return new ww(i,dw.empty(),t)}function bw(e){return new ww(e.readTime,e.key,-1)}class ww{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ww(aw.min(),dw.empty(),-1)}static max(){return new ww(aw.max(),dw.empty(),-1)}}function _w(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=dw.comparator(e.documentKey,t.documentKey),0!==n?n:rw(e.largestBatchId,t.largestBatchId))}const xw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ew{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Tw(e){if(e.code!==Hb.FAILED_PRECONDITION||e.message!==xw)throw e;Fb("LocalStore","Unexpectedly lost primary lease")}class Sw{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&zb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Sw(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Sw?t:Sw.resolve(t)}catch(e){return Sw.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Sw.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Sw.reject(t)}static resolve(e){return new Sw(((t,n)=>{t(e)}))}static reject(e){return new Sw(((t,n)=>{n(e)}))}static waitFor(e){return new Sw(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Sw.resolve(!1);for(const n of e)t=t.next((e=>e?Sw.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Sw(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{s[c]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Sw(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class kw{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Gb,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Ow(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Dw(t.target.error);this.V.reject(new Ow(e,n))}}static open(e,t,n,r){try{return new kw(t,e.transaction(r,n))}catch(e){throw new Ow(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Fb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Pw(t)}}class Cw{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Cw.S(qn())&&jb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fb("SimpleDb","Removing database:",e),Nw(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Jn())return!1;if(Cw.C())return!0;const e=qn(),t=Cw.S(e),n=0<t&&t<10,r=Cw.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APIKEY:"AIzaSyC3ztDdygb8OcoFlKZuT7FFmta7-pH3f4A",REACT_APP_FIREBASE_AUTHDOMAIN:"arrayan-ccaeb.firebaseapp.com",REACT_APP_FIREBASE_PROJECTID:"arrayan-ccaeb",REACT_APP_FIREBASE_STORAGEBUCKET:"arrayan-ccaeb.appspot.com",REACT_APP_FIREBASE_MESSAGINGSENDERID:"586198127618",REACT_APP_FIREBASE_APPID:"1:586198127618:web:f287139c6563424073431b",REACT_APP_FIREBASE_MEASUREMENTID:"G-MC4J5PDCCX",REACT_APP_ADMIN_PUBLIC_KEY:"FT1Jzgv2AyxJeNEYnFg7csiN3Ag9xXAjYH8oUmi8LVWB"})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Fb("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Ow(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new qb(Hb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new qb(Hb.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Ow(e,r))},r.onupgradeneeded=e=>{Fb("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Fb("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=kw.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Sw.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Fb("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Iw{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Nw(this.k.delete())}}class Ow extends qb{constructor(e,t){super(Hb.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Aw(e){return"IndexedDbTransactionError"===e.name}class Pw{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Fb("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Fb("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Nw(n)}add(e){return Fb("SimpleDb","ADD",this.store.name,e,e),Nw(this.store.add(e))}get(e){return Nw(this.store.get(e)).next((t=>(void 0===t&&(t=null),Fb("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Fb("SimpleDb","DELETE",this.store.name,e),Nw(this.store.delete(e))}count(){return Fb("SimpleDb","COUNT",this.store.name),Nw(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Sw(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Sw(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Fb("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Sw(((n,r)=>{t.onerror=e=>{const t=Dw(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Sw(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Iw(i),o=t(i.primaryKey,i.value,s);if(o instanceof Sw){const e=o.catch((e=>(s.done(),Sw.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Sw.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nw(e){return new Sw(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Dw(e.target.error);n(t)}}))}let Rw=!1;function Dw(e){const t=Cw.S(qn());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new qb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Rw||(Rw=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Mw{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Fb("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Fb("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){Aw(e)?Fb("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Tw(e)}await this.ee(6e4)}))}}class Lw{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Sw.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Fb("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Fb("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=bw(t);_w(r,n)>0&&(n=r)})),new ww(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Fw{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function jw(e){return null==e}function Uw(e){return 0===e&&1/e==-1/0}function Bw(e){return"number"==typeof e&&Number.isInteger(e)&&!Uw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function zw(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ww(t)),t=Vw(e.get(n),t);return Ww(t)}function Vw(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Ww(e){return e+"\x01\x01"}function Hw(e){const t=e.length;if(Vb(t>=2),2===t)return Vb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),lw.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&zb(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:zb()}s=t+2}return new lw(r)}Fw._e=-1;const qw=["userId","batchId"];function Gw(e,t){return[e,zw(t)]}function Kw(e,t,n){return[e,zw(t),n]}const Yw={},$w=["prefixPath","collectionGroup","readTime","documentId"],Qw=["prefixPath","collectionGroup","documentId"],Xw=["collectionGroup","readTime","prefixPath","documentId"],Jw=["canonicalId","targetId"],Zw=["targetId","path"],e_=["path","targetId"],t_=["collectionId","parent"],n_=["indexId","uid"],r_=["uid","sequenceNumber"],i_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],s_=["indexId","uid","orderedDocumentKey"],o_=["userId","collectionPath","documentId"],a_=["userId","collectionPath","largestBatchId"],c_=["userId","collectionGroup","largestBatchId"],l_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],u_=[...l_,"documentOverlays"],h_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],d_=h_,f_=[...d_,"indexConfiguration","indexState","indexEntries"];class p_ extends Ew{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function g_(e,t){const n=Wb(e);return Cw.M(n.ae,t)}function m_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function v_(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function y_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class b_{constructor(e,t){this.comparator=e,this.root=t||__.EMPTY}insert(e,t){return new b_(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,__.BLACK,null,null))}remove(e){return new b_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,__.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new w_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new w_(this.root,e,this.comparator,!1)}getReverseIterator(){return new w_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new w_(this.root,e,this.comparator,!0)}}class w_{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class __{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:__.RED,this.left=null!=r?r:__.EMPTY,this.right=null!=i?i:__.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new __(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return __.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return __.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,__.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,__.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zb();if(this.right.isRed())throw zb();const e=this.left.check();if(e!==this.right.check())throw zb();return e+(this.isRed()?0:1)}}__.EMPTY=null,__.RED=!0,__.BLACK=!1,__.EMPTY=new class{constructor(){this.size=0}get key(){throw zb()}get value(){throw zb()}get color(){throw zb()}get left(){throw zb()}get right(){throw zb()}copy(e,t,n,r,i){return this}insert(e,t,n){return new __(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class x_{constructor(e){this.comparator=e,this.data=new b_(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof x_))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new x_(this.comparator);return t.data=e,t}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function T_(e){return e.hasNext()?e.getNext():void 0}class S_{constructor(e){this.fields=e,e.sort(hw.comparator)}static empty(){return new S_([])}unionWith(e){let t=new x_(hw.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new S_(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return iw(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class k_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class C_{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new k_("Invalid base64 string: "+e):e}}(e);return new C_(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new C_(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rw(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}C_.EMPTY_BYTE_STRING=new C_("");const I_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function O_(e){if(Vb(!!e),"string"==typeof e){let t=0;const n=I_.exec(e);if(Vb(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:A_(e.seconds),nanos:A_(e.nanos)}}function A_(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function P_(e){return"string"==typeof e?C_.fromBase64String(e):C_.fromUint8Array(e)}function N_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function R_(e){const t=e.mapValue.fields.__previous_value__;return N_(t)?R_(t):t}function D_(e){const t=O_(e.mapValue.fields.__local_write_time__.timestampValue);return new ow(t.seconds,t.nanos)}class M_{constructor(e,t,n,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}class L_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new L_("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof L_&&e.projectId===this.projectId&&e.database===this.database}}const F_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},j_={nullValue:"NULL_VALUE"};function U_(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?N_(e)?4:Z_(e)?9007199254740991:10:zb()}function B_(e,t){if(e===t)return!0;const n=U_(e);if(n!==U_(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return D_(e).isEqual(D_(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=O_(e.timestampValue),r=O_(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return P_(e.bytesValue).isEqual(P_(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return A_(e.geoPointValue.latitude)===A_(t.geoPointValue.latitude)&&A_(e.geoPointValue.longitude)===A_(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return A_(e.integerValue)===A_(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=A_(e.doubleValue),r=A_(t.doubleValue);return n===r?Uw(n)===Uw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return iw(e.arrayValue.values||[],t.arrayValue.values||[],B_);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(m_(n)!==m_(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!B_(n[i],r[i])))return!1;return!0}(e,t);default:return zb()}}function z_(e,t){return void 0!==(e.values||[]).find((e=>B_(e,t)))}function V_(e,t){if(e===t)return 0;const n=U_(e),r=U_(t);if(n!==r)return rw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rw(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=A_(e.integerValue||e.doubleValue),r=A_(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return W_(e.timestampValue,t.timestampValue);case 4:return W_(D_(e),D_(t));case 5:return rw(e.stringValue,t.stringValue);case 6:return function(e,t){const n=P_(e),r=P_(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=rw(n[i],r[i]);if(0!==e)return e}return rw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=rw(A_(e.latitude),A_(t.latitude));return 0!==n?n:rw(A_(e.longitude),A_(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=V_(n[i],r[i]);if(e)return e}return rw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===F_.mapValue&&t===F_.mapValue)return 0;if(e===F_.mapValue)return 1;if(t===F_.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=rw(r[o],s[o]);if(0!==e)return e;const t=V_(n[r[o]],i[s[o]]);if(0!==t)return t}return rw(r.length,s.length)}(e.mapValue,t.mapValue);default:throw zb()}}function W_(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rw(e,t);const n=O_(e),r=O_(t),i=rw(n.seconds,r.seconds);return 0!==i?i:rw(n.nanos,r.nanos)}function H_(e){return q_(e)}function q_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=O_(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return P_(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return dw.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=q_(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(q_(e.fields[i]));return n+"}"}(e.mapValue):zb()}function G_(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function K_(e){return!!e&&"integerValue"in e}function Y_(e){return!!e&&"arrayValue"in e}function $_(e){return!!e&&"nullValue"in e}function Q_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function X_(e){return!!e&&"mapValue"in e}function J_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return v_(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=J_(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=J_(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Z_(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ex(e){return"nullValue"in e?j_:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?G_(L_.empty(),dw.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:zb()}function tx(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?G_(L_.empty(),dw.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?F_:zb()}function nx(e,t){const n=V_(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function rx(e,t){const n=V_(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class ix{constructor(e){this.value=e}static empty(){return new ix({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!X_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=J_(t)}setAll(e){let t=hw.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=J_(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());X_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return B_(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];X_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){v_(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new ix(J_(this.value))}}function sx(e){const t=[];return v_(e.fields,((e,n)=>{const r=new hw([e]);if(X_(n)){const e=sx(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new S_(t)}class ox{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ox(e,0,aw.min(),aw.min(),aw.min(),ix.empty(),0)}static newFoundDocument(e,t,n,r){return new ox(e,1,t,aw.min(),n,r,0)}static newNoDocument(e,t){return new ox(e,2,t,aw.min(),aw.min(),ix.empty(),0)}static newUnknownDocument(e,t){return new ox(e,3,t,aw.min(),aw.min(),ix.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(aw.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ix.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ix.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=aw.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ox&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ox(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ax{constructor(e,t){this.position=e,this.inclusive=t}}function cx(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?dw.comparator(dw.fromName(o.referenceValue),n.key):V_(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function lx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!B_(e.position[n],t.position[n]))return!1;return!0}class ux{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function hx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class dx{}class fx extends dx{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ex(e,t,n):"array-contains"===t?new Cx(e,n):"in"===t?new Ix(e,n):"not-in"===t?new Ox(e,n):"array-contains-any"===t?new Ax(e,n):new fx(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Tx(e,n):new Sx(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(V_(t,this.value)):null!==t&&U_(this.value)===U_(t)&&this.matchesComparison(V_(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zb()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class px extends dx{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new px(e,t)}matches(e){return gx(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function gx(e){return"and"===e.op}function mx(e){return"or"===e.op}function vx(e){return yx(e)&&gx(e)}function yx(e){for(const t of e.filters)if(t instanceof px)return!1;return!0}function bx(e){if(e instanceof fx)return e.field.canonicalString()+e.op.toString()+H_(e.value);if(vx(e))return e.filters.map((e=>bx(e))).join(",");{const t=e.filters.map((e=>bx(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function wx(e,t){return e instanceof fx?function(e,t){return t instanceof fx&&e.op===t.op&&e.field.isEqual(t.field)&&B_(e.value,t.value)}(e,t):e instanceof px?function(e,t){return t instanceof px&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&wx(n,t.filters[r])),!0)}(e,t):void zb()}function _x(e,t){const n=e.filters.concat(t);return px.create(n,e.op)}function xx(e){return e instanceof fx?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(H_(e.value))}(e):e instanceof px?function(e){return e.op.toString()+" {"+e.getFilters().map(xx).join(" ,")+"}"}(e):"Filter"}class Ex extends fx{constructor(e,t,n){super(e,t,n),this.key=dw.fromName(n.referenceValue)}matches(e){const t=dw.comparator(e.key,this.key);return this.matchesComparison(t)}}class Tx extends fx{constructor(e,t){super(e,"in",t),this.keys=kx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Sx extends fx{constructor(e,t){super(e,"not-in",t),this.keys=kx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function kx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>dw.fromName(e.referenceValue)))}class Cx extends fx{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Y_(t)&&z_(t.arrayValue,this.value)}}class Ix extends fx{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&z_(this.value.arrayValue,t)}}class Ox extends fx{constructor(e,t){super(e,"not-in",t)}matches(e){if(z_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!z_(this.value.arrayValue,t)}}class Ax extends fx{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Y_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>z_(this.value.arrayValue,e)))}}class Px{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function Nx(e){return new Px(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Rx(e){const t=Wb(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>bx(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),jw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>H_(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>H_(e))).join(",")),t.ce=e}return t.ce}function Dx(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!wx(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lx(e.startAt,t.startAt)&&lx(e.endAt,t.endAt)}function Mx(e){return dw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Lx(e,t){return e.filters.filter((e=>e instanceof fx&&e.field.isEqual(t)))}function Fx(e,t,n){let r=j_,i=!0;for(const s of Lx(e,t)){let e=j_,t=!0;switch(s.op){case"<":case"<=":e=ex(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=j_}nx({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];nx({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function jx(e,t,n){let r=F_,i=!0;for(const s of Lx(e,t)){let e=F_,t=!0;switch(s.op){case">=":case">":e=tx(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=F_}rx({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];rx({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Ux{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Bx(e,t,n,r,i,s,o,a){return new Ux(e,t,n,r,i,s,o,a)}function zx(e){return new Ux(e)}function Vx(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Wx(e){return null!==e.collectionGroup}function Hx(e){const t=Wb(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new x_(hw.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new ux(r,n))})),e.has(hw.keyField().canonicalString())||t.le.push(new ux(hw.keyField(),n))}return t.le}function qx(e){const t=Wb(e);return t.he||(t.he=Gx(t,Hx(e))),t.he}function Gx(e,t){if("F"===e.limitType)return Nx(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ux(e.field,t)}));const n=e.endAt?new ax(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ax(e.startAt.position,e.startAt.inclusive):null;return Nx(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Kx(e,t){const n=e.filters.concat([t]);return new Ux(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Yx(e,t,n){return new Ux(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $x(e,t){return Dx(qx(e),qx(t))&&e.limitType===t.limitType}function Qx(e){return"".concat(Rx(qx(e)),"|lt:").concat(e.limitType)}function Xx(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>xx(e))).join(", "),"]")),jw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>H_(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>H_(e))).join(",")),"Target(".concat(t,")")}(qx(e)),"; limitType=").concat(e.limitType,")")}function Jx(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):dw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Hx(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=cx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Hx(e),t))&&!(e.endAt&&!function(e,t,n){const r=cx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Hx(e),t))}(e,t)}function Zx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function eE(e){return(t,n)=>{let r=!1;for(const i of Hx(e)){const e=tE(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function tE(e,t,n){const r=e.field.isKeyField()?dw.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?V_(r,i):zb()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return zb()}}class nE{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){v_(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return y_(this.inner)}size(){return this.innerSize}}const rE=new b_(dw.comparator);function iE(){return rE}const sE=new b_(dw.comparator);function oE(){let e=sE;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function aE(e){let t=sE;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function cE(){return uE()}function lE(){return uE()}function uE(){return new nE((e=>e.toString()),((e,t)=>e.isEqual(t)))}const hE=new b_(dw.comparator),dE=new x_(dw.comparator);function fE(){let e=dE;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const pE=new x_(rw);function gE(){return pE}function mE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uw(t)?"-0":t}}function vE(e){return{integerValue:""+e}}function yE(e,t){return Bw(t)?vE(t):mE(e,t)}class bE{constructor(){this._=void 0}}function wE(e,t,n){return e instanceof EE?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&N_(t)&&(t=R_(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof TE?SE(e,t):e instanceof kE?CE(e,t):function(e,t){const n=xE(e,t),r=OE(n)+OE(e.Ie);return K_(n)&&K_(e.Ie)?vE(r):mE(e.serializer,r)}(e,t)}function _E(e,t,n){return e instanceof TE?SE(e,t):e instanceof kE?CE(e,t):n}function xE(e,t){return e instanceof IE?function(e){return K_(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class EE extends bE{}class TE extends bE{constructor(e){super(),this.elements=e}}function SE(e,t){const n=AE(t);for(const r of e.elements)n.some((e=>B_(e,r)))||n.push(r);return{arrayValue:{values:n}}}class kE extends bE{constructor(e){super(),this.elements=e}}function CE(e,t){let n=AE(t);for(const r of e.elements)n=n.filter((e=>!B_(e,r)));return{arrayValue:{values:n}}}class IE extends bE{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function OE(e){return A_(e.integerValue||e.doubleValue)}function AE(e){return Y_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class PE{constructor(e,t){this.field=e,this.transform=t}}class NE{constructor(e,t){this.version=e,this.transformResults=t}}class RE{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new RE}static exists(e){return new RE(void 0,e)}static updateTime(e){return new RE(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function DE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ME{}function LE(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new GE(e.key,RE.none()):new zE(e.key,e.data,RE.none());{const n=e.data,r=ix.empty();let i=new x_(hw.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new VE(e.key,r,new S_(i.toArray()),RE.none())}}function FE(e,t,n){e instanceof zE?function(e,t,n){const r=e.value.clone(),i=HE(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof VE?function(e,t,n){if(!DE(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=HE(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(WE(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function jE(e,t,n,r){return e instanceof zE?function(e,t,n,r){if(!DE(e.precondition,t))return n;const i=e.value.clone(),s=qE(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof VE?function(e,t,n,r){if(!DE(e.precondition,t))return n;const i=qE(e.fieldTransforms,r,t),s=t.data;return s.setAll(WE(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return DE(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function UE(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=xE(r.transform,e||null);null!=i&&(null===n&&(n=ix.empty()),n.set(r.field,i))}return n||null}function BE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&iw(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof TE&&t instanceof TE||e instanceof kE&&t instanceof kE?iw(e.elements,t.elements,B_):e instanceof IE&&t instanceof IE?B_(e.Ie,t.Ie):e instanceof EE&&t instanceof EE}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class zE extends ME{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class VE extends ME{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function WE(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function HE(e,t,n){const r=new Map;Vb(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,_E(o,a,n[i]))}return r}function qE(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,wE(e,s,t))}return r}class GE extends ME{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KE extends ME{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YE{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&FE(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=jE(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=jE(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=lE();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=LE(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(aw.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),fE())}isEqual(e){return this.batchId===e.batchId&&iw(this.mutations,e.mutations,((e,t)=>BE(e,t)))&&iw(this.baseMutations,e.baseMutations,((e,t)=>BE(e,t)))}}class $E{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Vb(e.mutations.length===n.length);let r=hE;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new $E(e,t,n,r)}}class QE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class XE{constructor(e,t){this.count=e,this.unchangedNames=t}}var JE,ZE;function eT(e){switch(e){default:return zb();case Hb.CANCELLED:case Hb.UNKNOWN:case Hb.DEADLINE_EXCEEDED:case Hb.RESOURCE_EXHAUSTED:case Hb.INTERNAL:case Hb.UNAVAILABLE:case Hb.UNAUTHENTICATED:return!1;case Hb.INVALID_ARGUMENT:case Hb.NOT_FOUND:case Hb.ALREADY_EXISTS:case Hb.PERMISSION_DENIED:case Hb.FAILED_PRECONDITION:case Hb.ABORTED:case Hb.OUT_OF_RANGE:case Hb.UNIMPLEMENTED:case Hb.DATA_LOSS:return!0}}function tT(e){if(void 0===e)return jb("GRPC error has no .code"),Hb.UNKNOWN;switch(e){case JE.OK:return Hb.OK;case JE.CANCELLED:return Hb.CANCELLED;case JE.UNKNOWN:return Hb.UNKNOWN;case JE.DEADLINE_EXCEEDED:return Hb.DEADLINE_EXCEEDED;case JE.RESOURCE_EXHAUSTED:return Hb.RESOURCE_EXHAUSTED;case JE.INTERNAL:return Hb.INTERNAL;case JE.UNAVAILABLE:return Hb.UNAVAILABLE;case JE.UNAUTHENTICATED:return Hb.UNAUTHENTICATED;case JE.INVALID_ARGUMENT:return Hb.INVALID_ARGUMENT;case JE.NOT_FOUND:return Hb.NOT_FOUND;case JE.ALREADY_EXISTS:return Hb.ALREADY_EXISTS;case JE.PERMISSION_DENIED:return Hb.PERMISSION_DENIED;case JE.FAILED_PRECONDITION:return Hb.FAILED_PRECONDITION;case JE.ABORTED:return Hb.ABORTED;case JE.OUT_OF_RANGE:return Hb.OUT_OF_RANGE;case JE.UNIMPLEMENTED:return Hb.UNIMPLEMENTED;case JE.DATA_LOSS:return Hb.DATA_LOSS;default:return zb()}}(ZE=JE||(JE={}))[ZE.OK=0]="OK",ZE[ZE.CANCELLED=1]="CANCELLED",ZE[ZE.UNKNOWN=2]="UNKNOWN",ZE[ZE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ZE[ZE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ZE[ZE.NOT_FOUND=5]="NOT_FOUND",ZE[ZE.ALREADY_EXISTS=6]="ALREADY_EXISTS",ZE[ZE.PERMISSION_DENIED=7]="PERMISSION_DENIED",ZE[ZE.UNAUTHENTICATED=16]="UNAUTHENTICATED",ZE[ZE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ZE[ZE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ZE[ZE.ABORTED=10]="ABORTED",ZE[ZE.OUT_OF_RANGE=11]="OUT_OF_RANGE",ZE[ZE.UNIMPLEMENTED=12]="UNIMPLEMENTED",ZE[ZE.INTERNAL=13]="INTERNAL",ZE[ZE.UNAVAILABLE=14]="UNAVAILABLE",ZE[ZE.DATA_LOSS=15]="DATA_LOSS";let nT=null;function rT(){return new TextEncoder}const iT=new Pb([4294967295,4294967295],0);function sT(e){const t=rT().encode(e),n=new Ab;return n.update(t),new Uint8Array(n.digest())}function oT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Pb([n,r],0),new Pb([i,s],0)]}class aT{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new cT("Invalid padding: ".concat(t));if(n<0)throw new cT("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new cT("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new cT("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Pb.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Pb.fromNumber(n)));return 1===r.compare(iT)&&(r=new Pb([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=sT(e),[n,r]=oT(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new aT(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=sT(e),[n,r]=oT(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class cT extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lT{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,uT.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new lT(aw.min(),r,new b_(rw),iE(),fE())}}class uT{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new uT(n,t,fE(),fE(),fE())}}class hT{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class dT{constructor(e,t){this.targetId=e,this.fe=t}}class fT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C_.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class pT{constructor(){this.ge=0,this.pe=vT(),this.ye=C_.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=fE(),t=fE(),n=fE();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:zb()}})),new uT(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=vT()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class gT{constructor(e){this.Le=e,this.ke=new Map,this.qe=iE(),this.Qe=mT(),this.Ke=new b_(rw)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:zb()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Mx(i))if(0===n){const e=new dw(i.path);this.We(t,e,ox.newNoDocument(e,aw.min()))}else Vb(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==nT||nT.tt(function(e,t,n,r,i){var s,o,a,c,l,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(c=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=P_(n).toUint8Array()}catch(e){if(e instanceof k_)return Ub("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new aT(s,r,i)}catch(e){return Ub(e instanceof cT?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Mx(i.target)){const t=new dw(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,ox.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=fE();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new lT(e,t,this.Ke,this.qe,n);return this.qe=iE(),this.Qe=mT(),this.Ke=new b_(rw),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new pT,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new x_(rw),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Fb("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new pT),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function mT(){return new b_(dw.comparator)}function vT(){return new b_(dw.comparator)}const yT={asc:"ASCENDING",desc:"DESCENDING"},bT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wT={and:"AND",or:"OR"};class _T{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xT(e,t){return e.useProto3Json||jw(t)?t:{value:t}}function ET(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function TT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ST(e,t){return ET(e,t.toTimestamp())}function kT(e){return Vb(!!e),aw.fromTimestamp(function(e){const t=O_(e);return new ow(t.seconds,t.nanos)}(e))}function CT(e,t){return function(e){return new lw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function IT(e){const t=lw.fromString(e);return Vb(QT(t)),t}function OT(e,t){return CT(e.databaseId,t.path)}function AT(e,t){const n=IT(t);if(n.get(1)!==e.databaseId.projectId)throw new qb(Hb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new qb(Hb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dw(DT(n))}function PT(e,t){return CT(e.databaseId,t)}function NT(e){const t=IT(e);return 4===t.length?lw.emptyPath():DT(t)}function RT(e){return new lw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function DT(e){return Vb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function MT(e,t,n){return{name:OT(e,t),fields:n.value.mapValue.fields}}function LT(e,t,n){const r=AT(e,t.name),i=kT(t.updateTime),s=t.createTime?kT(t.createTime):aw.min(),o=new ix({mapValue:{fields:t.fields}}),a=ox.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function FT(e,t){let n;if(t instanceof zE)n={update:MT(e,t.key,t.value)};else if(t instanceof GE)n={delete:OT(e,t.key)};else if(t instanceof VE)n={update:MT(e,t.key,t.data),updateMask:$T(t.fieldMask)};else{if(!(t instanceof KE))return zb();n={verify:OT(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof EE)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof TE)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof kE)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof IE)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw zb()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ST(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:zb()}(e,t.precondition)),n}function jT(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?RE.updateTime(kT(e.updateTime)):void 0!==e.exists?RE.exists(e.exists):RE.none()}(t.currentDocument):RE.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Vb("REQUEST_TIME"===t.setToServerValue),n=new EE;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new TE(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new kE(e)}else"increment"in t?n=new IE(e,t.increment):zb();const r=hw.fromServerFormat(t.fieldPath);return new PE(r,n)}(e,t))):[];if(t.update){t.update.name;const i=AT(e,t.update.name),s=new ix({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new S_(t.map((e=>hw.fromServerFormat(e))))}(t.updateMask);return new VE(i,s,e,n,r)}return new zE(i,s,n,r)}if(t.delete){const r=AT(e,t.delete);return new GE(r,n)}if(t.verify){const r=AT(e,t.verify);return new KE(r,n)}return zb()}function UT(e,t){return{documents:[PT(e,t.path)]}}function BT(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=PT(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=PT(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return YT(px.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:GT(e.field),direction:WT(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=xT(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function zT(e){let t=NT(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Vb(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=VT(e);return t instanceof px&&vx(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new ux(KT(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,jw(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new ax(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new ax(n,t)}(n.endAt)),Bx(t,i,o,s,a,"F",c,l)}function VT(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=KT(e.unaryFilter.field);return fx.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=KT(e.unaryFilter.field);return fx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=KT(e.unaryFilter.field);return fx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=KT(e.unaryFilter.field);return fx.create(i,"!=",{nullValue:"NULL_VALUE"});default:return zb()}}(e):void 0!==e.fieldFilter?function(e){return fx.create(KT(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zb()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return px.create(e.compositeFilter.filters.map((e=>VT(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return zb()}}(e.compositeFilter.op))}(e):zb()}function WT(e){return yT[e]}function HT(e){return bT[e]}function qT(e){return wT[e]}function GT(e){return{fieldPath:e.canonicalString()}}function KT(e){return hw.fromServerFormat(e.fieldPath)}function YT(e){return e instanceof fx?function(e){if("=="===e.op){if(Q_(e.value))return{unaryFilter:{field:GT(e.field),op:"IS_NAN"}};if($_(e.value))return{unaryFilter:{field:GT(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Q_(e.value))return{unaryFilter:{field:GT(e.field),op:"IS_NOT_NAN"}};if($_(e.value))return{unaryFilter:{field:GT(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:GT(e.field),op:HT(e.op),value:e.value}}}(e):e instanceof px?function(e){const t=e.getFilters().map((e=>YT(e)));return 1===t.length?t[0]:{compositeFilter:{op:qT(e.op),filters:t}}}(e):zb()}function $T(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function QT(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class XT{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:aw.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:aw.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:C_.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new XT(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new XT(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new XT(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new XT(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JT{constructor(e){this.ut=e}}function ZT(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:eS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:OT(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ET(e,t.version.toTimestamp()),createTime:ET(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:tS(t.version)};else{if(!t.isUnknownDocument())return zb();r.unknownDocument={path:n.path.toArray(),version:tS(t.version)}}return r}function eS(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function tS(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function nS(e){const t=new ow(e.seconds,e.nanoseconds);return aw.fromTimestamp(t)}function rS(e,t){const n=(t.baseMutations||[]).map((t=>jT(e.ut,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>jT(e.ut,t))),i=ow.fromMillis(t.localWriteTimeMs);return new YE(t.batchId,i,n,r)}function iS(e){const t=nS(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?nS(e.lastLimboFreeSnapshotVersion):aw.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Vb(1===e.documents.length),qx(zx(NT(e.documents[0])))}(e.query):function(e){return qx(zT(e))}(e.query),new XT(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,C_.fromBase64String(e.resumeToken))}function sS(e,t){const n=tS(t.snapshotVersion),r=tS(t.lastLimboFreeSnapshotVersion);let i;i=Mx(t.target)?UT(e.ut,t.target):BT(e.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Rx(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function oS(e){const t=zT({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yx(t,t.limit,"L"):t}function aS(e,t){return new QE(t.largestBatchId,jT(e.ut,t.overlayMutation))}function cS(e,t){const n=t.path.lastSegment();return[e,zw(t.path.popLast()),n]}function lS(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:tS(r.readTime),documentKey:zw(r.documentKey.path),largestBatchId:r.largestBatchId}}class uS{getBundleMetadata(e,t){return hS(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:nS(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return hS(e).put(function(e){return{bundleId:e.id,createTime:tS(kT(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return dS(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:oS(e.bundledQuery),readTime:nS(e.readTime)}}(e)}))}saveNamedQuery(e,t){return dS(e).put(function(e){return{name:e.name,readTime:tS(kT(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function hS(e){return g_(e,"bundles")}function dS(e){return g_(e,"namedQueries")}class fS{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new fS(e,n)}getOverlay(e,t){return pS(e).get(cS(this.userId,t)).next((e=>e?aS(this.serializer,e):null))}getOverlays(e,t){const n=cE();return Sw.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new QE(t,i);r.push(this.lt(e,s))})),Sw.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(zw(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(pS(e).H("collectionPathOverlayIndex",r))})),Sw.waitFor(i)}getOverlaysForCollection(e,t,n){const r=cE(),i=zw(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return pS(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=aS(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=cE();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pS(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=aS(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return pS(e).put(function(e,t,n){const[r,i,s]=cS(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:FT(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function pS(e){return g_(e,"documentOverlays")}class gS{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(A_(e.integerValue));else if("doubleValue"in e){const n=A_(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Uw(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(P_(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?Z_(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):zb()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),dw.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function mS(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function vS(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=mS(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}gS.St=new gS;class yS{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=vS(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=vS(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class bS{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class wS{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class _S{constructor(){this.Wt=new yS,this.Gt=new bS(this.Wt),this.zt=new wS(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class xS{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new xS(this.indexId,this.documentKey,this.arrayValue,n)}}function ES(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=TS(e.arrayValue,t.arrayValue),0!==n?n:(n=TS(e.directionalValue,t.directionalValue),0!==n?n:dw.comparator(e.documentKey,t.documentKey)))}function TS(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class SS{constructor(e){this.Jt=new x_(((e,t)=>hw.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(Vb(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=pw(e);if(void 0!==t&&!this.tn(t))return!1;const n=gw(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Yt.length||!this.rn(this.Yt[s++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new x_(hw.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new mw(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new mw(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new mw(n.field,"asc"===n.dir?0:1)));return new fw(fw.UNKNOWN_ID,this.collectionId,t,vw.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function kS(e){var t,n;if(Vb(e instanceof fx||e instanceof px),e instanceof fx){if(e instanceof Ix){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>fx.create(e.field,"==",t))))||[];return px.create(r,"or")}return e}const r=e.filters.map((e=>kS(e)));return px.create(r,e.op)}function CS(e){if(0===e.getFilters().length)return[];const t=PS(kS(e));return Vb(AS(t)),IS(t)||OS(t)?[t]:t.getFilters()}function IS(e){return e instanceof fx}function OS(e){return e instanceof px&&vx(e)}function AS(e){return IS(e)||OS(e)||function(e){if(e instanceof px&&mx(e)){for(const t of e.getFilters())if(!IS(t)&&!OS(t))return!1;return!0}return!1}(e)}function PS(e){if(Vb(e instanceof fx||e instanceof px),e instanceof fx)return e;if(1===e.filters.length)return PS(e.filters[0]);const t=e.filters.map((e=>PS(e)));let n=px.create(t,e.op);return n=DS(n),AS(n)?n:(Vb(n instanceof px),Vb(gx(n)),Vb(n.filters.length>1),n.filters.reduce(((e,t)=>NS(e,t))))}function NS(e,t){let n;return Vb(e instanceof fx||e instanceof px),Vb(t instanceof fx||t instanceof px),n=e instanceof fx?t instanceof fx?function(e,t){return px.create([e,t],"and")}(e,t):RS(e,t):t instanceof fx?RS(t,e):function(e,t){if(Vb(e.filters.length>0&&t.filters.length>0),gx(e)&&gx(t))return _x(e,t.getFilters());const n=mx(e)?e:t,r=mx(e)?t:e,i=n.filters.map((e=>NS(e,r)));return px.create(i,"or")}(e,t),DS(n)}function RS(e,t){if(gx(t))return _x(t,e.getFilters());{const n=t.filters.map((t=>NS(e,t)));return px.create(n,"or")}}function DS(e){if(Vb(e instanceof fx||e instanceof px),e instanceof fx)return e;const t=e.getFilters();if(1===t.length)return DS(t[0]);if(yx(e))return e;const n=t.map((e=>DS(e))),r=[];return n.forEach((t=>{t instanceof fx?r.push(t):t instanceof px&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:px.create(r,e.op)}class MS{constructor(){this.on=new LS}addToCollectionParentIndex(e,t){return this.on.add(t),Sw.resolve()}getCollectionParents(e,t){return Sw.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Sw.resolve()}deleteFieldIndex(e,t){return Sw.resolve()}deleteAllFieldIndexes(e){return Sw.resolve()}createTargetIndexes(e,t){return Sw.resolve()}getDocumentsMatchingTarget(e,t){return Sw.resolve(null)}getIndexType(e,t){return Sw.resolve(0)}getFieldIndexes(e,t){return Sw.resolve([])}getNextCollectionGroupToUpdate(e){return Sw.resolve(null)}getMinOffset(e,t){return Sw.resolve(ww.min())}getMinOffsetFromCollectionGroup(e,t){return Sw.resolve(ww.min())}updateCollectionGroup(e,t,n){return Sw.resolve()}updateIndexEntries(e,t){return Sw.resolve()}}class LS{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new x_(lw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new x_(lw.comparator)).toArray()}}const FS=new Uint8Array(0);class jS{constructor(e,t){this.user=e,this.databaseId=t,this._n=new LS,this.an=new nE((e=>Rx(e)),((e,t)=>Dx(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:zw(r)};return US(e).put(i)}return Sw.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[sw(t),""],!1,!0);return US(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Hw(r.parent))}return n}))}addFieldIndex(e,t){const n=zS(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=VS(e);return i.next((e=>{n.put(lS(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=zS(e),r=VS(e),i=BS(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=zS(e),n=BS(e),r=VS(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Sw.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new SS(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=BS(e);let r=!0;const i=new Map;return Sw.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=fE();const r=[];return Sw.forEach(i,((i,s)=>{Fb("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Rx(t)));const o=function(e,t){const n=pw(t);if(void 0===n)return null;for(const r of Lx(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of gw(t))for(const t of Lx(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of gw(t)){const t=0===i.kind?Fx(e,i.fieldPath,e.startAt):jx(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new ax(n,r)}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of gw(t)){const t=0===i.kind?jx(e,i.fieldPath,e.endAt):Fx(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new ax(n,r)}(s,i),u=this.ln(i,s,c),h=this.ln(i,s,l),d=this.hn(i,s,a),f=this.Pn(i.indexId,o,u,c.inclusive,h,l.inclusive,d);return Sw.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=dw.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Sw.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:CS(px.create(e.filters,"and")).map((t=>Nx(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/c]):FS,h=this.Tn(e,a,n[u%c],r),d=this.En(e,a,i[u%c],s),f=o.map((t=>this.Tn(e,a,t,!0)));l.push(...this.createRange(h,d,f))}return l}Tn(e,t,n,r){const i=new xS(e,dw.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new xS(e,dw.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new SS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return Sw.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new x_(hw.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new _S;for(const r of gw(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);gS.St.ht(e,i)}return n.Ut()}In(e){const t=new _S;return gS.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new _S;return gS.St.ht(G_(this.databaseId,t),n.jt(function(e){const t=gw(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new _S);let i=0;for(const s of gw(e)){const e=n[i++];for(const n of r)if(this.Rn(t,s.fieldPath)&&Y_(e))r=this.Vn(r,s,e);else{const t=n.jt(s.kind);gS.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new _S;n.seed(e.Ut()),gS.St.ht(s,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof fx&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=zS(e),r=VS(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Sw.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new vw(t.sequenceNumber,new ww(nS(t.readTime),new dw(Hw(t.documentKey)),t.largestBatchId)):vw.empty(),r=e.fields.map((e=>{let[t,n]=e;return new mw(hw.fromServerFormat(t),n)}));return new fw(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:rw(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=zS(e),i=VS(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Sw.forEach(t,(t=>i.put(lS(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Sw.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Sw.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Sw.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?Sw.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return BS(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return BS(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=BS(e);let i=new x_(ES);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new xS(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new x_(ES);const r=this.dn(t,e);if(null==r)return n;const i=pw(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Y_(s))for(const i of s.arrayValue.values||[])n=n.add(new xS(t.indexId,e.key,this.In(i),r))}else n=n.add(new xS(t.indexId,e.key,FS,r));return n}yn(e,t,n,r,i){Fb("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=T_(s),c=T_(o);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=T_(o)):t?(i(a),a=T_(s)):(a=T_(s),c=T_(o))}}(r,i,ES,(r=>{s.push(this.wn(e,t,n,r))}),(r=>{s.push(this.Sn(e,t,n,r))})),Sw.waitFor(s)}fn(e){let t=1;return VS(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>ES(e,t))).filter(((e,t,n)=>!t||0!==ES(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=ES(s,e),i=ES(s,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(s),r.push(s.Ht());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,FS,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,FS,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return ES(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(WS)}getMinOffset(e,t){return Sw.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||zb())))).next(WS)}}function US(e){return g_(e,"collectionParents")}function BS(e){return g_(e,"indexEntries")}function zS(e){return g_(e,"indexConfiguration")}function VS(e){return g_(e,"indexState")}function WS(e){Vb(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;_w(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ww(t.readTime,t.documentKey,n)}const HS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qS{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new qS(e,qS.DEFAULT_COLLECTION_PERCENTILE,qS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function GS(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(c.next((()=>{Vb(1===a)})));const l=[];for(const u of n.mutations){const e=Kw(t,u.key.path,n.batchId);s.push(i.delete(e)),l.push(u.key)}return Sw.waitFor(s).next((()=>l))}function KS(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw zb();t=e.noDocument}return JSON.stringify(t).length}qS.DEFAULT_COLLECTION_PERCENTILE=10,qS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qS.DEFAULT=new qS(41943040,qS.DEFAULT_COLLECTION_PERCENTILE,qS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qS.DISABLED=new qS(-1,0,0);class YS{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){Vb(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new YS(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return QS(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=XS(e),s=QS(e);return s.add({}).next((o=>{Vb("number"==typeof o);const a=new YE(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>FT(e.ut,t))),i=n.mutations.map((t=>FT(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new x_(((e,t)=>rw(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Kw(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),l.push(s.put(c)),l.push(i.put(t,Yw))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[o]=a.keys()})),Sw.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return QS(e).get(t).next((e=>e?(Vb(e.userId===this.userId),rS(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?Sw.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return QS(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Vb(t.batchId>=n),i=rS(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return QS(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return QS(e).W("userMutationsIndex",t).next((e=>e.map((e=>rS(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Gw(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return XS(e).Y({range:r},((n,r,s)=>{const[o,a,c]=n,l=Hw(a);if(o===this.userId&&t.path.isEqual(l))return QS(e).get(c).next((e=>{if(!e)throw zb();Vb(e.userId===this.userId),i.push(rS(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new x_(rw);const r=[];return t.forEach((t=>{const i=Gw(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=XS(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,c=Hw(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(o)})),Sw.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Gw(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new x_(rw);return XS(e).Y({range:s},((e,t,i)=>{const[s,a,c]=e,l=Hw(a);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(c)):i.done()})).next((()=>this.vn(e,o)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(QS(e).get(t).next((e=>{if(null===e)throw zb();Vb(e.userId===this.userId),n.push(rS(this.serializer,e))})))})),Sw.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return GS(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),Sw.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Sw.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return XS(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Hw(e[1]);r.push(t)}else n.done()})).next((()=>{Vb(0===r.length)}))}))}containsKey(e,t){return $S(e,this.userId,t)}Mn(e){return JS(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function $S(e,t,n){const r=Gw(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return XS(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function QS(e){return g_(e,"mutations")}function XS(e){return g_(e,"documentMutations")}function JS(e){return g_(e,"mutationQueues")}class ZS{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ZS(0)}static Nn(){return new ZS(-1)}}class ek{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new ZS(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>aw.fromTimestamp(new ow(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>tk(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(Vb(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return tk(e).Y(((s,o)=>{const a=iS(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Sw.waitFor(i))).next((()=>r))}forEachTarget(e,t){return tk(e).Y(((e,n)=>{const r=iS(n);t(r)}))}Bn(e){return nk(e).get("targetGlobalKey").next((e=>(Vb(null!==e),e)))}Ln(e,t){return nk(e).put("targetGlobalKey",t)}kn(e,t){return tk(e).put(sS(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Rx(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return tk(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=iS(n);Dx(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=rk(e);return t.forEach((t=>{const s=zw(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Sw.waitFor(r)}removeMatchingKeys(e,t,n){const r=rk(e);return Sw.forEach(t,(t=>{const i=zw(t.path);return Sw.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=rk(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=rk(e);let i=fE();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Hw(e[1]),s=new dw(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=zw(t.path),r=IDBKeyRange.bound([n],[sw(n)],!1,!0);let i=0;return rk(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return tk(e).get(t).next((e=>e?iS(e):null))}}function tk(e){return g_(e,"targets")}function nk(e){return g_(e,"targetGlobal")}function rk(e){return g_(e,"targetDocuments")}function ik(e,t){let[n,r]=e,[i,s]=t;const o=rw(n,i);return 0===o?rw(r,s):o}class sk{constructor(e){this.Qn=e,this.buffer=new x_(ik),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ik(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ok{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Fb("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Aw(e)?Fb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Tw(e)}await this.Gn(3e5)}))}}class ak{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Sw.resolve(Fw._e);const n=new sk(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fb("LruGarbageCollector","Garbage collection skipped; disabled"),Sw.resolve(HS)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Fb("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),HS):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,s,o,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Fb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Lb()<=kr.DEBUG&&Fb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),Sw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function ck(e,t){return new ak(e,t)}class lk{constructor(e,t){this.db=e,this.garbageCollector=ck(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return uk(e,n)}removeReference(e,t,n){return uk(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return uk(e,t)}Xn(e,t){return function(e,t){let n=!1;return JS(e).Z((r=>$S(e,r,t).next((e=>(e&&(n=!0),Sw.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((s,o)=>{if(o<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,aw.min()),rk(e).delete(function(e){return[0,zw(e.path)]}(s)))))}));r.push(t)}})).next((()=>Sw.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return uk(e,t)}Zn(e,t){const n=rk(e);let r,i=Fw._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:c}=n;0===s?(i!==Fw._e&&t(new dw(Hw(r)),i),i=c,r=a):i=Fw._e})).next((()=>{i!==Fw._e&&t(new dw(Hw(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function uk(e,t){return rk(e).put(function(e,t){return{targetId:0,path:zw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class hk{constructor(){this.changes=new nE((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ox.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Sw.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dk{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return mk(e).put(n)}removeEntry(e,t,n){return mk(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],eS(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=ox.newInvalidDocument(t);return mk(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(vk(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:ox.newInvalidDocument(t)};return mk(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(vk(t))},((e,r)=>{n={document:this.tr(t,r),size:KS(r)}})).next((()=>n))}getEntries(e,t){let n=iE();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=iE(),r=new b_(dw.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,KS(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return Sw.resolve();let r=new x_(bk);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(vk(r.first()),vk(r.last())),s=r.getIterator();let o=s.getNext();return mk(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=dw.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&bk(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(vk(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),eS(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return mk(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=iE();for(const i of e){const e=this.tr(dw.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Jx(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=iE();const s=yk(t,n),o=yk(t,ww.max());return mk(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.tr(dw.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new pk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return gk(e).get("remoteDocumentGlobalKey").next((e=>(Vb(!!e),e)))}er(e,t){return gk(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=LT(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=dw.fromSegments(t.noDocument.path),r=nS(t.noDocument.readTime);n=ox.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return zb();{const e=dw.fromSegments(t.unknownDocument.path),r=nS(t.unknownDocument.version);n=ox.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new ow(e[0],e[1]);return aw.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(aw.min()))return e}return ox.newInvalidDocument(e)}}function fk(e){return new dk(e)}class pk extends hk{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new nE((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new x_(((e,t)=>rw(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=ZT(this._r.serializer,s);r=r.add(i.path.popLast());const c=KS(a);n+=c-o.size,t.push(this._r.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=ZT(this._r.serializer,s.convertToNoDocument(aw.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),Sw.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function gk(e){return g_(e,"remoteDocumentGlobal")}function mk(e){return g_(e,"remoteDocumentsV14")}function vk(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function yk(e,t){const n=t.documentKey.path.toArray();return[e,eS(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bk(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=rw(n[s],r[s]),i)return i;return i=rw(n.length,r.length),i||(i=rw(n[n.length-2],r[r.length-2]),i||rw(n[n.length-1],r[r.length-1]))}class wk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _k{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&jE(n.mutation,e,S_.empty(),ow.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,fE()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fE();const r=cE();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=oE();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=cE();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,fE())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=iE();const s=uE(),o=uE();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof VE)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),jE(o.mutation,t,o.mutation.getFieldMask(),ow.now())):s.set(t.key,S_.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new wk(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=uE();let r=new b_(((e,t)=>e-t)),i=fE();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||S_.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||fE()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,l=lE();c.forEach((e=>{if(!i.has(e)){const r=LE(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,l))}return Sw.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return dw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Sw.resolve(cE());let o=-1,a=i;return s.next((t=>Sw.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Sw.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,fE()))).next((e=>({batchId:o,changes:aE(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dw(t)).next((e=>{let t=oE();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=oE();return this.indexManager.getCollectionParents(e,i).next((o=>Sw.forEach(o,(o=>{const a=function(e,t){return new Ux(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ox.newInvalidDocument(r)))}));let n=oE();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&jE(s.mutation,r,S_.empty(),ow.now()),Jx(t,r)&&(n=n.insert(e,r))})),n}))}}class xk{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Sw.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:kT(e.createTime)}}(t)),Sw.resolve()}getNamedQuery(e,t){return Sw.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:oS(e.bundledQuery),readTime:kT(e.readTime)}}(t)),Sw.resolve()}}class Ek{constructor(){this.overlays=new b_(dw.comparator),this.lr=new Map}getOverlay(e,t){return Sw.resolve(this.overlays.get(t))}getOverlays(e,t){const n=cE();return Sw.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),Sw.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),Sw.resolve()}getOverlaysForCollection(e,t,n){const r=cE(),i=t.length+1,s=new dw(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Sw.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new b_(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=cE(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=cE(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Sw.resolve(o)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new QE(t,n));let i=this.lr.get(t);void 0===i&&(i=fE(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class Tk{constructor(){this.hr=new x_(Sk.Pr),this.Ir=new x_(Sk.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new Sk(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new Sk(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new dw(new lw([])),n=new Sk(t,e),r=new Sk(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new dw(new lw([])),n=new Sk(t,e),r=new Sk(t,e+1);let i=fE();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Sk(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Sk{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return dw.comparator(e.key,t.key)||rw(e.gr,t.gr)}static Tr(e,t){return rw(e.gr,t.gr)||dw.comparator(e.key,t.key)}}class kk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new x_(Sk.Pr)}checkEmpty(e){return Sw.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new YE(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.yr=this.yr.add(new Sk(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Sw.resolve(s)}lookupMutationBatch(e,t){return Sw.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return Sw.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Sw.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Sw.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Sk(t,0),r=new Sk(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),Sw.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new x_(rw);return t.forEach((e=>{const t=new Sk(e,0),r=new Sk(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),Sw.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;dw.isDocumentKey(i)||(i=i.child(""));const s=new Sk(new dw(i),0);let o=new x_(rw);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),s),Sw.resolve(this.br(o))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Vb(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return Sw.forEach(t.mutations,(r=>{const i=new Sk(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new Sk(t,0),r=this.yr.firstAfterOrEqual(n);return Sw.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Sw.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ck{constructor(e){this.Cr=e,this.docs=new b_(dw.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Sw.resolve(n?n.document.mutableCopy():ox.newInvalidDocument(t))}getEntries(e,t){let n=iE();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ox.newInvalidDocument(e))})),Sw.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=iE();const s=t.path,o=new dw(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||_w(bw(o),n)<=0||(r.has(o.key)||Jx(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Sw.resolve(i)}getAllFromCollectionGroup(e,t,n,r){zb()}vr(e,t){return Sw.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ik(this)}getSize(e){return Sw.resolve(this.size)}}class Ik extends hk{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),Sw.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Ok{constructor(e){this.persistence=e,this.Fr=new nE((e=>Rx(e)),Dx),this.lastRemoteSnapshotVersion=aw.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Tk,this.targetCount=0,this.Nr=ZS.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),Sw.resolve()}getLastRemoteSnapshotVersion(e){return Sw.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Sw.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Sw.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Sw.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new ZS(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Sw.resolve()}updateTargetData(e,t){return this.kn(t),Sw.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Sw.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Fr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Sw.waitFor(i).next((()=>r))}getTargetCount(e){return Sw.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return Sw.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),Sw.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Sw.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Sw.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return Sw.resolve(n)}containsKey(e,t){return Sw.resolve(this.Or.containsKey(t))}}class Ak{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Fw(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Ok(this),this.indexManager=new MS,this.remoteDocumentCache=function(e){return new Ck(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new JT(t),this.Kr=new xk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ek,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new kk(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Fb("MemoryPersistence","Starting transaction:",e);const r=new Pk(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return Sw.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Pk extends Ew{constructor(e){super(),this.currentSequenceNumber=e}}class Nk{constructor(e){this.persistence=e,this.Gr=new Tk,this.zr=null}static jr(e){return new Nk(e)}get Hr(){if(this.zr)return this.zr;throw zb()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Sw.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Sw.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Sw.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Sw.forEach(this.Hr,(n=>{const r=dw.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,aw.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return Sw.or([()=>Sw.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Rk{constructor(e){this.serializer=e}N(e,t,n,r){const i=new kw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qw,{unique:!0}),e.createObjectStore("documentMutations")}(e),Dk(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Sw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Dk(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:aw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qw,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Sw.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Zr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(s=s.next((()=>this.ei(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ni(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:o_});t.createIndex("collectionPathOverlayIndex",a_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",c_,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:$w});t.createIndex("documentKeyIndex",Qw),t.createIndex("collectionGroupIndex",Xw)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.ii(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:n_}).createIndex("sequenceNumberIndex",r_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:i_}).createIndex("documentKeyIndex",s_,{unique:!1})}(e)))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=KS(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Sw.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Sw.forEach(n,(n=>{Vb(n.userId===t.userId);const r=rS(this.serializer,n);return GS(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new lw(n),o=function(e){return[0,zw(e)]}(s);r.push(t.get(o).next((n=>n?Sw.resolve():(n=>t.put({targetId:0,path:zw(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Sw.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:t_});const n=t.store("collectionParents"),r=new LS,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:zw(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new lw(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const o=Hw(r);return i(o.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=iS(n),i=sS(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new dw(lw.fromString(e.document.name).popFirst(5)):e.noDocument?dw.fromSegments(e.noDocument.path):e.unknownDocument?dw.fromSegments(e.unknownDocument.path):zb()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>Sw.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=fk(this.serializer),i=new Ak(Nk.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:fE();rS(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Sw.forEach(n,((e,n)=>{const s=new Rb(n),o=fS.ct(this.serializer,s),a=i.getIndexManager(s),c=YS.ct(s,this.serializer,a,i.referenceDelegate);return new _k(r,c,o,a).recalculateAndSaveOverlaysForDocumentKeys(new p_(t,Fw._e),e).next()}))}))}}function Dk(e){e.createObjectStore("targetDocuments",{keyPath:Zw}).createIndex("documentTargetsIndex",e_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Jw,{unique:!0}),e.createObjectStore("targetGlobal")}const Mk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Lk{constructor(e,t,n,r,i,s,o,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=s,this.document=o,this.oi=c,this._i=l,this.ai=u,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!Lk.D())throw new qb(Hb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lk(this,r),this.Ii=t+"main",this.serializer=new JT(a),this.Ti=new Cw(this.Ii,this.ai,new Rk(this.serializer)),this.qr=new ek(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fk(this.serializer),this.Kr=new uS,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&jb("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qb(Hb.FAILED_PRECONDITION,Mk);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new Fw(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>jk(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(Aw(e))return Fb("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return Fk(e).get("owner").next((e=>Sw.resolve(this.wi(e))))}Si(e){return jk(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=g_(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Sw.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Sw.resolve(!0):Fk(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new qb(Hb.FAILED_PRECONDITION,Mk);return!1}}return!(!this.networkEnabled||!this.inForeground)||jk(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Fb("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new p_(e,Fw._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>jk(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return YS.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jS(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return fS.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Fb("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?f_:14===e?d_:13===e?h_:12===e?u_:11===e?l_:void zb()}(this.ai);let s;return this.Ti.runTransaction(e,r,i,(r=>(s=new p_(r,this.Lr?this.Lr.next():Fw._e),"readwrite-primary"===t?this.fi(s).next((e=>!!e||this.gi(s))).next((t=>{if(!t)throw jb("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new qb(Hb.FAILED_PRECONDITION,xw);return n(s)})).next((e=>this.yi(s).next((()=>e)))):this.Li(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Li(e){return Fk(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new qb(Hb.FAILED_PRECONDITION,Mk)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fk(e).put("owner",t)}static D(){return Cw.D()}pi(e){const t=Fk(e);return t.get("owner").next((e=>this.wi(e)?(Fb("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Sw.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(jb("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;!Kn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Fb("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return jb("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){jb("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Fk(e){return g_(e,"owner")}function jk(e){return g_(e,"clientMetadata")}function Uk(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Bk{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=fE(),r=fE();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Bk(e,t.fromCache,n,r)}}class zk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Vk{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new zk;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Lb()<=kr.DEBUG&&Fb("QueryEngine","SDK will not create cache indexes for query:",Xx(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Sw.resolve()):(Lb()<=kr.DEBUG&&Fb("QueryEngine","Query:",Xx(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Lb()<=kr.DEBUG&&Fb("QueryEngine","The SDK decides to create cache indexes for query:",Xx(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qx(t))):Sw.resolve())}zi(e,t){if(Vx(t))return Sw.resolve(null);let n=qx(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Yx(t,null,"F"),n=qx(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=fE(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Yi(t,r);return this.Zi(t,s,i,n.readTime)?this.zi(e,Yx(t,null,"F")):this.Xi(e,s,t,n)}))))})))))}ji(e,t,n,r){return Vx(t)||r.isEqual(aw.min())?Sw.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const s=this.Yi(t,i);return this.Zi(t,s,n,r)?Sw.resolve(null):(Lb()<=kr.DEBUG&&Fb("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xx(t)),this.Xi(e,s,t,yw(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new x_(eE(e));return t.forEach(((t,r)=>{Jx(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Lb()<=kr.DEBUG&&Fb("QueryEngine","Using full collection scan to execute query:",Xx(t)),this.Gi.getDocumentsMatchingQuery(e,t,ww.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Wk{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new b_(rw),this.ns=new nE((e=>Rx(e)),Dx),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _k(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function Hk(e,t,n,r){return new Wk(e,t,n,r)}async function qk(e,t){const n=Wb(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=fE();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Gk(e){const t=Wb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function Kk(e,t,n){let r=fE(),i=fE();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=iE();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(aw.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Fb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{us:r,cs:i}}))}function Yk(e,t){const n=Wb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function $k(e,t){const n=Wb(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,Sw.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new XT(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function Qk(e,t,n){const r=Wb(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Aw(e))throw e;Fb("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function Xk(e,t,n){const r=Wb(e);let i=aw.min(),s=fE();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Wb(e),i=r.ns.get(n);return void 0!==i?Sw.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,qx(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:aw.min(),n?s:fE()))).next((e=>(eC(r,Zx(t),e),{documents:e,ls:s})))))}function Jk(e,t){const n=Wb(e),r=Wb(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Zk(e,t){const n=Wb(e),r=n.rs.get(t)||aw.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,yw(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(eC(n,t,e),e)))}function eC(e,t,n){let r=e.rs.get(t)||aw.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function tC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fE();const r=await $k(e,qx(oS(t.bundledQuery))),i=Wb(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=kT(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(e,t);const o=r.withResumeToken(C_.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(o.targetId,o),i.qr.updateTargetData(e,o).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function nC(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function rC(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function iC(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class sC{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new qb(r.error.code,r.error.message))),s?new sC(e,t,r.state,i):(jb("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class oC{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new qb(n.error.code,n.error.message))),i?new oC(e,n.state,r):(jb("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class aC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=gE();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Bw(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new aC(e,i):(jb("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class cC{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cC(t.clientId,t.onlineState):(jb("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class lC{constructor(){this.activeTargetIds=gE()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uC{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new b_(rw),this.started=!1,this.ps=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=nC(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new lC),this.Ss=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(nC(this.persistenceKey,n));if(e){const t=aC.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(iC(this.persistenceKey,e));if(n){const r=oC.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(iC(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fb("SharedClientState","READ",e,t),t}setItem(e,t){Fb("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fb("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Fb("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void jb("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Fw._e;if(null!=e)try{const n=JSON.parse(e);Vb("number"==typeof n),t=n}catch(e){jb("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Fw._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new sC(this.currentUser,e,t,n),i=rC(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=rC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=iC(this.persistenceKey,e),i=new oC(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return aC.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return sC.Ts(new Rb(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return oC.Ts(r,t)}Ms(e){return cC.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Fb("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.Xs(s,o).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=gE();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class hC{constructor(){this.eo=new lC,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new lC,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dC{ro(e){}shutdown(){}}class fC{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Fb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Fb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pC=null;function gC(){return null===pC?pC=268435456+Math.round(2147483648*Math.random()):pC++,"0x"+pC.toString(16)}const mC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vC{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const yC="WebChannelConnection";class bC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const s=gC(),o=this.So(e,t);Fb("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,o,a,n).then((t=>(Fb("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Ub("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}Co(e,t,n,r,i,s){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Db,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=mC[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=gC();return new Promise(((s,o)=>{const a=new Ob;a.setWithCredentials(!0),a.listenOnce(Tb.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Eb.NO_ERROR:const t=a.getResponseJson();Fb(yC,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Eb.TIMEOUT:Fb(yC,"RPC '".concat(e,"' ").concat(i," timed out")),o(new qb(Hb.DEADLINE_EXCEEDED,"Request time out"));break;case Eb.HTTP_ERROR:const n=a.getStatus();if(Fb(yC,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Hb).indexOf(t)>=0?t:Hb.UNKNOWN}(t.status);o(new qb(e,t.message))}else o(new qb(Hb.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new qb(Hb.UNAVAILABLE,"Connection failed."));break;default:zb()}}finally{Fb(yC,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);Fb(yC,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}vo(e,t,n){const r=gC(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_b(),o=xb(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.xmlHttpFactory=new Cb({})),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");Fb(yC,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=s.createWebChannel(l,a);let h=!1,d=!1;const f=new vC({co:t=>{d?Fb(yC,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Fb(yC,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Fb(yC,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Ib.EventType.OPEN,(()=>{d||Fb(yC,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Ib.EventType.CLOSE,(()=>{d||(d=!0,Fb(yC,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,Ib.EventType.ERROR,(t=>{d||(d=!0,Ub(yC,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new qb(Hb.UNAVAILABLE,"The operation could not be completed")))})),p(u,Ib.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Vb(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Fb(yC,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=JE[e];if(void 0!==t)return tT(t)}(t),i=o.message;void 0===n&&(n=Hb.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Ro(new qb(n,i)),u.close()}else Fb(yC,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(o,Sb.STAT_EVENT,(t=>{t.stat===kb.PROXY?Fb(yC,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===kb.NOPROXY&&Fb(yC,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function wC(){return"undefined"!=typeof window?window:null}function _C(){return"undefined"!=typeof document?document:null}function xC(e){return new _T(e,!0)}class EC{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Fb("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class TC{constructor(e,t,n,r,i,s,o,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new EC(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===Hb.RESOURCE_EXHAUSTED?(jb(t.toString()),jb("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===Hb.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new qb(Hb.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return Fb("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(Fb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SC extends TC{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:zb()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Vb(void 0===t||"string"==typeof t),C_.fromBase64String(t||"")):(Vb(void 0===t||t instanceof Uint8Array),C_.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Hb.UNKNOWN:tT(e.code);return new qb(t,e.message||"")}(o);n=new fT(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=AT(e,r.document.name),s=kT(r.document.updateTime),o=r.document.createTime?kT(r.document.createTime):aw.min(),a=new ix({mapValue:{fields:r.document.fields}}),c=ox.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new hT(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=AT(e,r.document),s=r.readTime?kT(r.readTime):aw.min(),o=ox.newNoDocument(i,s),a=r.removedTargetIds||[];n=new hT([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=AT(e,r.document),s=r.removedTargetIds||[];n=new hT([],s,i,null)}else{if(!("filter"in t))return zb();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new XE(r,i),o=e.targetId;n=new dT(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return aw.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?aw.min():t.readTime?kT(t.readTime):aw.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=RT(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Mx(r)?{documents:UT(e,r)}:{query:BT(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=TT(e,t.resumeToken);const r=xT(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(aw.min())>0){n.readTime=ET(e,t.snapshotVersion.toTimestamp());const r=xT(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zb()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=RT(this.serializer),t.removeTarget=e,this.e_(t)}}class kC extends TC{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Vb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(Vb(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?kT(e.updateTime):kT(t);return n.isEqual(aw.min())&&(n=kT(t)),new NE(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=kT(e.commitTime);return this.listener.I_(n,t)}return Vb(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=RT(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>FT(this.serializer,e)))};this.e_(t)}}class CC extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new qb(Hb.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.wo(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Hb.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new qb(Hb.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Co(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Hb.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new qb(Hb.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class IC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(jb(t),this.f_=!1):Fb("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class OC{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{jC(this)&&(Fb("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Wb(e);t.C_.add(4),await PC(t),t.M_.set("Unknown"),t.C_.delete(4),await AC(t)}(this))}))})),this.M_=new IC(n,r)}}async function AC(e){if(jC(e))for(const t of e.v_)await t(!0)}async function PC(e){for(const t of e.v_)await t(!1)}function NC(e,t){const n=Wb(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),FC(n)?LC(n):nI(n).Ho()&&DC(n,t))}function RC(e,t){const n=Wb(e),r=nI(n);n.D_.delete(t),r.Ho()&&MC(n,t),0===n.D_.size&&(r.Ho()?r.Zo():jC(n)&&n.M_.set("Unknown"))}function DC(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(aw.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}nI(e).u_(t)}function MC(e,t){e.x_.Oe(t),nI(e).c_(t)}function LC(e){e.x_=new gT({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),nI(e).start(),e.M_.g_()}function FC(e){return jC(e)&&!nI(e).jo()&&e.D_.size>0}function jC(e){return 0===Wb(e).C_.size}function UC(e){e.x_=void 0}async function BC(e){e.D_.forEach(((t,n)=>{DC(e,t)}))}async function zC(e,t){UC(e),FC(e)?(e.M_.w_(t),LC(e)):e.M_.set("Unknown")}async function VC(e,t,n){if(e.M_.set("Online"),t instanceof fT&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){Fb("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await WC(e,n)}else if(t instanceof hT?e.x_.$e(t):t instanceof dT?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(aw.min()))try{const t=await Gk(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(C_.EMPTY_BYTE_STRING,r.snapshotVersion)),MC(e,t);const i=new XT(r.target,t,n,r.sequenceNumber);DC(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Fb("RemoteStore","Failed to raise snapshot:",t),await WC(e,t)}}async function WC(e,t,n){if(!Aw(t))throw t;e.C_.add(1),await PC(e),e.M_.set("Offline"),n||(n=()=>Gk(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Fb("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await AC(e)}))}function HC(e,t){return t().catch((n=>WC(e,n,t)))}async function qC(e){const t=Wb(e),n=rI(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;GC(t);)try{const e=await Yk(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,KC(t,e)}catch(e){await WC(t,e)}YC(t)&&$C(t)}function GC(e){return jC(e)&&e.b_.length<10}function KC(e,t){e.b_.push(t);const n=rI(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function YC(e){return jC(e)&&!rI(e).jo()&&e.b_.length>0}function $C(e){rI(e).start()}async function QC(e){rI(e).E_()}async function XC(e){const t=rI(e);for(const n of e.b_)t.P_(n.mutations)}async function JC(e,t,n){const r=e.b_.shift(),i=$E.from(r,t,n);await HC(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await qC(e)}async function ZC(e,t){t&&rI(e).h_&&await async function(e,t){if(function(e){return eT(e)&&e!==Hb.ABORTED}(t.code)){const n=e.b_.shift();rI(e).Yo(),await HC(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await qC(e)}}(e,t),YC(e)&&$C(e)}async function eI(e,t){const n=Wb(e);n.asyncQueue.verifyOperationInProgress(),Fb("RemoteStore","RemoteStore received new credentials");const r=jC(n);n.C_.add(3),await PC(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await AC(n)}async function tI(e,t){const n=Wb(e);t?(n.C_.delete(2),await AC(n)):t||(n.C_.add(2),await PC(n),n.M_.set("Unknown"))}function nI(e){return e.O_||(e.O_=function(e,t,n){const r=Wb(e);return r.A_(),new SC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:BC.bind(null,e),Io:zC.bind(null,e),a_:VC.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),FC(e)?LC(e):e.M_.set("Unknown")):(await e.O_.stop(),UC(e))}))),e.O_}function rI(e){return e.N_||(e.N_=function(e,t,n){const r=Wb(e);return r.A_(),new kC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:QC.bind(null,e),Io:ZC.bind(null,e),T_:XC.bind(null,e),I_:JC.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await qC(e)):(await e.N_.stop(),e.b_.length>0&&(Fb("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class iI{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new iI(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qb(Hb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sI(e,t){if(jb("AsyncQueue","".concat(t,": ").concat(e)),Aw(e))return new qb(Hb.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class oI{constructor(e){this.comparator=e?(t,n)=>e(t,n)||dw.comparator(t.key,n.key):(e,t)=>dw.comparator(e.key,t.key),this.keyedMap=oE(),this.sortedSet=new b_(this.comparator)}static emptySet(e){return new oI(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oI))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new oI;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class aI{constructor(){this.B_=new b_(dw.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):zb():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class cI{constructor(e,t,n,r,i,s,o,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new cI(e,t,oI.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$x(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class lI{constructor(){this.k_=void 0,this.listeners=[]}}class uI{constructor(){this.queries=new nE((e=>Qx(e)),$x),this.onlineState="Unknown",this.q_=new Set}}async function hI(e,t){const n=Wb(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new lI),i)try{s.k_=await n.onListen(r)}catch(e){const n=sI(e,"Initialization of query '".concat(Xx(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&gI(n)}async function dI(e,t){const n=Wb(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function fI(e,t){const n=Wb(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&gI(n)}function pI(e,t,n){const r=Wb(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function gI(e){e.q_.forEach((e=>{e.next()}))}class mI{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new cI(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=cI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class vI{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class yI{constructor(e){this.serializer=e}hs(e){return AT(this.serializer,e)}Ps(e){return e.metadata.exists?LT(this.serializer,e.document,!1):ox.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return kT(e)}}class bI{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wI(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=lw.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new yI(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||fE()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Wb(e);let s=fE(),o=iE();for(const l of n){const e=t.hs(l.metadata.name);l.document&&(s=s.add(e));const n=t.Ps(l);n.setReadTime(t.Is(l.metadata.readTime)),o=o.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=await $k(i,function(e){return qx(zx(lw.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Kk(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.qr.addMatchingKeys(e,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new yI(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await tC(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function wI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class _I{constructor(e){this.key=e}}class xI{constructor(e){this.key=e}}class EI{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=fE(),this.mutatedKeys=fE(),this._a=eE(e),this.aa=new oI(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new aI,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=Jx(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ha(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this._a(u,a)>0||c&&this._a(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:s,la:n,Zi:o,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const i=e.la.L_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zb()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n);const s=t?this.Ia():[],o=0===this.oa.size&&this.current?1:0,a=o!==this.sa;return this.sa=o,0!==i.length||a?{snapshot:new cI(this.query,e.aa,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new aI,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=fE(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new xI(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new _I(n))})),t}da(e){this.ia=e.ls,this.oa=fE();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return cI.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class TI{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class SI{constructor(e){this.key=e,this.Ra=!1}}class kI{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new nE((e=>Qx(e)),$x),this.fa=new Map,this.ga=new Set,this.pa=new b_(dw.comparator),this.ya=new Map,this.wa=new Tk,this.Sa={},this.ba=new Map,this.Da=ZS.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function CI(e,t){const n=ZI(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const e=await $k(n.localStore,qx(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await II(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&NC(n.remoteStore,e)}return i}async function II(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await Xk(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return UI(e,t.targetId,o.Ta),o.snapshot}(e,t,n,r);const s=await Xk(e.localStore,t,!0),o=new EI(t,s.ls),a=o.ca(s.documents),c=uT.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=o.applyChanges(a,e.isPrimaryClient,c);UI(e,n,l.Ta);const u=new TI(t,n,o);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),l.snapshot}async function OI(e,t){const n=Wb(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!$x(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Qk(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),RC(n.remoteStore,r.targetId),FI(n,r.targetId)})).catch(Tw)):(FI(n,r.targetId),await Qk(n.localStore,r.targetId,!0))}async function AI(e,t){const n=Wb(e);try{const e=await function(e,t){const n=Wb(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const o=[];t.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,s.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(C_.EMPTY_BYTE_STRING,aw.min()).withLastLimboFreeSnapshotVersion(aw.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,s)&&o.push(n.qr.updateTargetData(e,l))}));let a=iE(),c=fE();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Kk(e,s,t.documentUpdates).next((e=>{a=e.us,c=e.cs}))),!r.isEqual(aw.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Sw.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(Vb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?Vb(r.Ra):e.removedDocuments.size>0&&(Vb(r.Ra),r.Ra=!1))})),await VI(n,e,t)}catch(e){await Tw(e)}}function PI(e,t,n){const r=Wb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Wb(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&gI(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function NI(e,t,n){const r=Wb(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let e=new b_(dw.comparator);e=e.insert(s,ox.newNoDocument(s,aw.min()));const n=fE().add(s),i=new lT(aw.min(),new Map,new b_(rw),e,n);await AI(r,i),r.pa=r.pa.remove(s),r.ya.delete(t),zI(r)}else await Qk(r.localStore,t,!1).then((()=>FI(r,t,n))).catch(Tw)}async function RI(e,t){const n=Wb(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Wb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Sw.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Vb(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=fE();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);LI(n,r,null),MI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await VI(n,e)}catch(e){await Tw(e)}}async function DI(e,t,n){const r=Wb(e);try{const e=await function(e,t){const n=Wb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Vb(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);LI(r,t,n),MI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await VI(r,e)}catch(n){await Tw(n)}}function MI(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function LI(e,t,n){const r=Wb(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function FI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||jI(e,t)}))}function jI(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(RC(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),zI(e))}function UI(e,t,n){for(const r of n)r instanceof _I?(e.wa.addReference(r.key,t),BI(e,r)):r instanceof xI?(Fb("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||jI(e,r.key)):zb()}function BI(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Fb("SyncEngine","New document in limbo: "+n),e.ga.add(r),zI(e))}function zI(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new dw(lw.fromString(t)),r=e.Da.next();e.ya.set(r,new SI(n)),e.pa=e.pa.insert(n,r),NC(e.remoteStore,new XT(qx(zx(n.path)),r,"TargetPurposeLimboResolution",Fw._e))}}async function VI(e,t,n){const r=Wb(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach(((e,a)=>{o.push(r.va(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Bk.Qi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Va.a_(i),await async function(e,t){const n=Wb(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Sw.forEach(t,(t=>Sw.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Sw.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Aw(e))throw e;Fb("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,s))}async function WI(e,t){const n=Wb(e);if(!n.currentUser.isEqual(t)){Fb("SyncEngine","User change. New user:",t.toKey());const e=await qk(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new qb(Hb.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await VI(n,e._s)}}function HI(e,t){const n=Wb(e),r=n.ya.get(t);if(r&&r.Ra)return fE().add(r.key);{let e=fE();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function qI(e,t){const n=Wb(e),r=await Xk(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&UI(n,t.targetId,i.Ta),i}async function GI(e,t){const n=Wb(e);return Zk(n.localStore,t).then((e=>VI(n,e)))}async function KI(e,t,n,r){const i=Wb(e),s=await function(e,t){const n=Wb(e),r=Wb(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Sw.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await qC(i.remoteStore):"acknowledged"===n||"rejected"===n?(LI(i,t,r||null),MI(i,t),function(e,t){Wb(Wb(e).mutationQueue).Fn(t)}(i.localStore,t)):zb(),await VI(i,s)):Fb("SyncEngine","Cannot apply mutation batch with id: "+t)}async function YI(e,t,n){const r=Wb(e),i=[],s=[];for(const o of t){let e;const t=r.fa.get(o);if(t&&0!==t.length){e=await $k(r.localStore,qx(t[0]));for(const e of t){const t=r.ma.get(e),n=await qI(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await Jk(r.localStore,o);e=await $k(r.localStore,t),await II(r,$I(t),o,!1,e.resumeToken)}i.push(e)}return r.Va.a_(s),i}function $I(e){return Bx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function QI(e){return function(e){return Wb(Wb(e).persistence).Bi()}(Wb(e).localStore)}async function XI(e,t,n,r){const i=Wb(e);if(i.Ca)return void Fb("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await Zk(i.localStore,Zx(s[0])),r=lT.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,C_.EMPTY_BYTE_STRING);await VI(i,e,r);break}case"rejected":await Qk(i.localStore,t,!0),FI(i,t,r);break;default:zb()}}async function JI(e,t,n){const r=ZI(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){Fb("SyncEngine","Adding an already active target "+e);continue}const t=await Jk(r.localStore,e),n=await $k(r.localStore,t);await II(r,$I(t),n.targetId,!1,n.resumeToken),NC(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await Qk(r.localStore,e,!1).then((()=>{RC(r.remoteStore,e),FI(r,e)})).catch(Tw)}}function ZI(e){const t=Wb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=AI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NI.bind(null,t),t.Va.a_=fI.bind(null,t.eventManager),t.Va.Fa=pI.bind(null,t.eventManager),t}function eO(e){const t=Wb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DI.bind(null,t),t}class tO{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=xC(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Hk(this.persistence,new Vk,e.initialUser,this.serializer)}createPersistence(e){return new Ak(Nk.jr,this.serializer)}createSharedClientState(e){return new hC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class nO extends tO{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await eO(this.xa.syncEngine),await qC(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Hk(this.persistence,new Vk,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new ok(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Lw(t,this.persistence);return new Mw(e.asyncQueue,n)}createPersistence(e){const t=Uk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?qS.withCacheSize(this.cacheSizeBytes):qS.DEFAULT;return new Lk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,wC(),_C(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new hC}}class rO extends nO{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof uC&&(this.sharedClientState.syncEngine={Ys:KI.bind(null,t),Zs:XI.bind(null,t),Xs:JI.bind(null,t),Bi:QI.bind(null,t),Js:GI.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=Wb(e);if(ZI(n),eO(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await YI(n,e.toArray());n.Ca=!0,await tI(n.remoteStore,!0);for(const r of t)NC(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(FI(n,i),Qk(n.localStore,i,!0)))),RC(n.remoteStore,i)})),await t,await YI(n,e),function(e){const t=Wb(e);t.ya.forEach(((e,n)=>{RC(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new b_(dw.comparator)}(n),n.Ca=!1,await tI(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=wC();if(!uC.D(t))throw new qb(Hb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Uk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uC(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class iO{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>PI(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=WI.bind(null,this.syncEngine),await tI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new uI}createDatastore(e){const t=xC(e.databaseInfo.databaseId),n=function(e){return new bC(e)}(e.databaseInfo);return function(e,t,n,r){return new CC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new OC(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>PI(this.syncEngine,e,0)),fC.D()?new fC:new dC)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new kI(e,t,n,r,i,s);return o&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Wb(e);Fb("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await PC(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function sO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class oO{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):jb("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class aO{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new Gb,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new vI(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class cO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new qb(Hb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Wb(e),r=RT(n.serializer)+"/documents",i={documents:t.map((e=>OT(n.serializer,e)))},s=await n.Co("BatchGetDocuments",r,i,t.length),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Vb(!!t.found),t.found.name,t.found.updateTime;const n=AT(e,t.found.name),r=kT(t.found.updateTime),i=t.found.createTime?kT(t.found.createTime):aw.min(),s=new ix({mapValue:{fields:t.found.fields}});return ox.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Vb(!!t.missing),Vb(!!t.readTime);const n=AT(e,t.missing),r=kT(t.readTime);return ox.newNoDocument(n,r)}(e,t):zb()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());Vb(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new GE(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=dw.fromPath(t);this.mutations.push(new KE(n,this.precondition(n)))})),await async function(e,t){const n=Wb(e),r=RT(n.serializer)+"/documents",i={writes:t.map((e=>FT(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw zb();t=aw.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new qb(Hb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(aw.min())?RE.exists(!1):RE.updateTime(t):RE.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(aw.min()))throw new qb(Hb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return RE.updateTime(t)}return RE.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class lO{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new EC(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new cO(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!jw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!eT(t)}return!1}}class uO{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Rb.UNAUTHENTICATED,this.clientId=nw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Fb("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Fb("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qb(Hb.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=sI(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function hO(e,t){e.asyncQueue.verifyOperationInProgress(),Fb("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await qk(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function dO(e,t){e.asyncQueue.verifyOperationInProgress();const n=await pO(e);Fb("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>eI(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>eI(t.remoteStore,n))),e._onlineComponents=t}function fO(e){return"FirebaseError"===e.name?e.code===Hb.FAILED_PRECONDITION||e.code===Hb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function pO(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Fb("FirestoreClient","Using user provided OfflineComponentProvider");try{await hO(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!fO(n))throw n;Ub("Error using user provided cache. Falling back to memory cache: "+n),await hO(e,new tO)}}else Fb("FirestoreClient","Using default OfflineComponentProvider"),await hO(e,new tO);return e._offlineComponents}async function gO(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Fb("FirestoreClient","Using user provided OnlineComponentProvider"),await dO(e,e._uninitializedComponentsProvider._online)):(Fb("FirestoreClient","Using default OnlineComponentProvider"),await dO(e,new iO))),e._onlineComponents}function mO(e){return pO(e).then((e=>e.persistence))}function vO(e){return pO(e).then((e=>e.localStore))}function yO(e){return gO(e).then((e=>e.remoteStore))}function bO(e){return gO(e).then((e=>e.syncEngine))}function wO(e){return gO(e).then((e=>e.datastore))}async function _O(e){const t=await gO(e),n=t.eventManager;return n.onListen=CI.bind(null,t.syncEngine),n.onUnlisten=OI.bind(null,t.syncEngine),n}function xO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Gb;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new oO({next:s=>{t.enqueueAndForget((()=>dI(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new qb(Hb.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new qb(Hb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new mI(zx(n.path),s,{includeMetadataChanges:!0,J_:!0});return hI(e,o)}(await _O(e),e.asyncQueue,t,n,r))),r.promise}function EO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Gb;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new oO({next:n=>{t.enqueueAndForget((()=>dI(e,o))),n.fromCache&&"server"===r.source?i.reject(new qb(Hb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new mI(n,s,{includeMetadataChanges:!0,J_:!0});return hI(e,o)}(await _O(e),e.asyncQueue,t,n,r))),r.promise}function TO(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?rT().encode(e):e,function(e,t){return new aO(e,t)}(function(e,t){if(e instanceof Uint8Array)return sO(e,t);if(e instanceof ArrayBuffer)return sO(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,xC(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Wb(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Wb(e),r=kT(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(wI(r));const i=new bI(r,e.localStore,t.serializer);let s=await t.Ma();for(;s;){const e=await i.ea(s);e&&n._updateProgress(e),s=await t.Ma()}const o=await i.complete();return await VI(e,o.ra,void 0),await function(e,t){const n=Wb(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.na)}catch(e){return Ub("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await bO(e),i,r)}))}function SO(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const kO=new Map;function CO(e,t,n){if(!n)throw new qb(Hb.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function IO(e,t,n,r){if(!0===t&&!0===r)throw new qb(Hb.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function OO(e){if(!dw.isDocumentKey(e))throw new qb(Hb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function AO(e){if(dw.isDocumentKey(e))throw new qb(Hb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function PO(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":zb()}function NO(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new qb(Hb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=PO(e);throw new qb(Hb.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function RO(e,t){if(t<=0)throw new qb(Hb.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class DO{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new qb(Hb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qb(Hb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SO(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new qb(Hb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new qb(Hb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new qb(Hb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class MO{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qb(Hb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qb(Hb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DO(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Yb;switch(e.type){case"firstParty":return new Jb(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new qb(Hb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=kO.get(e);t&&(Fb("ComponentProvider","Removing Datastore"),kO.delete(e),t.terminate())}(this),Promise.resolve()}}function LO(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=NO(e,MO))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ub("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Rb.MOCK_USER;else{t=Hn(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new qb(Hb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Rb(s)}e._authCredentials=new $b(new Kb(t,n))}}class FO{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new FO(this.firestore,e,this._query)}}class jO{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new UO(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jO(this.firestore,e,this._key)}}class UO extends FO{constructor(e,t,n){super(e,t,zx(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jO(this.firestore,null,new dw(e))}withConverter(e){return new UO(this.firestore,e,this._path)}}function BO(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=wr(e),CO("collection","path",t),e instanceof MO){const n=lw.fromString(t,...r);return AO(n),new UO(e,null,n)}{if(!(e instanceof jO||e instanceof UO))throw new qb(Hb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(lw.fromString(t,...r));return AO(n),new UO(e.firestore,null,n)}}function zO(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=wr(e),1===arguments.length&&(t=nw.newId()),CO("doc","path",t),e instanceof MO){const n=lw.fromString(t,...r);return OO(n),new jO(e,null,new dw(n))}{if(!(e instanceof jO||e instanceof UO))throw new qb(Hb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(lw.fromString(t,...r));return OO(n),new jO(e.firestore,e instanceof UO?e.converter:null,new dw(n))}}function VO(e,t){return e=wr(e),t=wr(t),(e instanceof jO||e instanceof UO)&&(t instanceof jO||t instanceof UO)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function WO(e,t){return e=wr(e),t=wr(t),e instanceof FO&&t instanceof FO&&e.firestore===t.firestore&&$x(e._query,t._query)&&e.converter===t.converter}class HO{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new EC(this,"async_queue_retry"),this.iu=()=>{const e=_C();e&&Fb("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=_C();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=_C();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new Gb;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Aw(e))throw e;Fb("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw jb("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=iI.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&zb()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function qO(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class GO{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class KO extends MO{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new HO,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$O(this),this._firestoreClient.terminate()}}function YO(e){return e._firestoreClient||$O(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $O(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new M_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,SO(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new uO(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function QO(e,t,n){const r=new Gb;return e.asyncQueue.enqueue((async()=>{try{await hO(e,n),await dO(e,t),r.resolve()}catch(e){const n=e;if(!fO(n))throw n;Ub("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function XO(e){return function(e){const t=new Gb;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Wb(e);jC(n.remoteStore)||Fb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Wb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=sI(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await bO(e),t))),t.promise}(YO(e=NO(e,KO)))}function JO(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await mO(e),n=await yO(e);return t.setNetworkEnabled(!0),function(e){const t=Wb(e);return t.C_.delete(0),AC(t)}(n)}))}(YO(e=NO(e,KO)))}function ZO(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await mO(e),n=await yO(e);return t.setNetworkEnabled(!1),async function(e){const t=Wb(e);t.C_.add(0),await PC(t),t.M_.set("Offline")}(n)}))}(YO(e=NO(e,KO)))}function eA(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Wb(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await vO(e),t)))}(YO(e=NO(e,KO)),t).then((t=>t?new FO(e,null,t.query):null))}function tA(e){if(e._initialized||e._terminated)throw new qb(Hb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nA(C_.fromBase64String(e))}catch(e){throw new qb(Hb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new nA(C_.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rA{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new qb(Hb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hw(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class iA{constructor(e){this._methodName=e}}class sA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qb(Hb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qb(Hb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rw(this._lat,e._lat)||rw(this._long,e._long)}}const oA=/^__.*__$/;class aA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new VE(e,this.data,this.fieldMask,t,this.fieldTransforms):new zE(e,this.data,t,this.fieldTransforms)}}class cA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new VE(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zb()}}class uA{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new uA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return AA(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(lA(this.Iu)&&oA.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class hA{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||xC(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uA({Iu:e,methodName:t,gu:n,path:hw.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dA(e){const t=e._freezeSettings(),n=xC(e._databaseId);return new hA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fA(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);kA("Data must be an object, but it was:",o,r);const a=TA(r,o);let c,l;if(s.merge)c=new S_(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=CA(t,r,n);if(!o.contains(i))throw new qb(Hb.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));PA(e,i)||e.push(i)}c=new S_(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new aA(new ix(a),c,l)}class pA extends iA{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pA}}function gA(e,t,n){return new uA({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class mA extends iA{_toFieldTransform(e){return new PE(e.path,new EE)}isEqual(e){return e instanceof mA}}class vA extends iA{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=gA(this,e,!0),n=this.yu.map((e=>EA(e,t))),r=new TE(n);return new PE(e.path,r)}isEqual(e){return this===e}}class yA extends iA{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=gA(this,e,!0),n=this.yu.map((e=>EA(e,t))),r=new kE(n);return new PE(e.path,r)}isEqual(e){return this===e}}class bA extends iA{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new IE(e.serializer,yE(e.serializer,this.wu));return new PE(e.path,t)}isEqual(e){return this===e}}function wA(e,t,n,r){const i=e.pu(1,t,n);kA("Data must be an object, but it was:",i,r);const s=[],o=ix.empty();v_(r,((e,r)=>{const a=OA(t,e,n);r=wr(r);const c=i.Ru(a);if(r instanceof pA)s.push(a);else{const e=EA(r,c);null!=e&&(s.push(a),o.set(a,e))}}));const a=new S_(s);return new cA(o,a,i.fieldTransforms)}function _A(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[CA(t,r,n)],c=[i];if(s.length%2!=0)throw new qb(Hb.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(CA(t,s[d])),c.push(s[d+1]);const l=[],u=ix.empty();for(let d=a.length-1;d>=0;--d)if(!PA(l,a[d])){const e=a[d];let t=c[d];t=wr(t);const n=o.Ru(e);if(t instanceof pA)l.push(e);else{const r=EA(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new S_(l);return new cA(u,h,o.fieldTransforms)}function xA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return EA(n,e.pu(r?4:3,t))}function EA(e,t){if(SA(e=wr(e)))return kA("Unsupported field value:",t,e),TA(e,t);if(e instanceof iA)return function(e,t){if(!lA(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=EA(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=wr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return yE(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ow.fromDate(e);return{timestampValue:ET(t.serializer,n)}}if(e instanceof ow){const n=new ow(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ET(t.serializer,n)}}if(e instanceof sA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof nA)return{bytesValue:TT(t.serializer,e._byteString)};if(e instanceof jO){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:CT(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(PO(e)))}(e,t)}function TA(e,t){const n={};return y_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):v_(e,((e,r)=>{const i=EA(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function SA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ow||e instanceof sA||e instanceof nA||e instanceof jO||e instanceof iA)}function kA(e,t,n){if(!SA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=PO(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function CA(e,t,n){if((t=wr(t))instanceof rA)return t._internalPath;if("string"==typeof t)return OA(e,t);throw AA("Field path arguments must be of type string or ",e,!1,void 0,n)}const IA=new RegExp("[~\\*/\\[\\]]");function OA(e,t,n){if(t.search(IA)>=0)throw AA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new rA(...t.split("."))._internalPath}catch(Sg){throw AA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function AA(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=" in field ".concat(r)),o&&(c+=" in document ".concat(i)),c+=")"),new qb(Hb.INVALID_ARGUMENT,a+e+c)}function PA(e,t){return e.some((e=>e.isEqual(t)))}class NA{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jO(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new RA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(DA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class RA extends NA{data(){return super.data()}}function DA(e,t){return"string"==typeof t?OA(e,t):t instanceof rA?t._internalPath:t._delegate._internalPath}function MA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new qb(Hb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LA{}class FA extends LA{}function jA(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof LA&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof BA)).length,n=e.filter((e=>e instanceof UA)).length;if(t>1||t>0&&n>0)throw new qb(Hb.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class UA extends FA{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new UA(e,t,n)}_apply(e){const t=this._parse(e);return YA(e._query,t),new FO(e.firestore,e.converter,Kx(e._query,t))}_parse(e){const t=dA(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new qb(Hb.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){KA(o,s);const t=[];for(const n of o)t.push(GA(r,e,n));a={arrayValue:{values:t}}}else a=GA(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||KA(o,s),a=xA(n,t,o,"in"===s||"not-in"===s);return fx.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class BA extends LA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new BA(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:px.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)YA(n,i),n=Kx(n,i)}(e._query,t),new FO(e.firestore,e.converter,Kx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class zA extends FA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new zA(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new qb(Hb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new qb(Hb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ux(t,n)}(e._query,this._field,this._direction);return new FO(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ux(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class VA extends FA{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new VA(e,t,n)}_apply(e){return new FO(e.firestore,e.converter,Yx(e._query,this._limit,this._limitType))}}class WA extends FA{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new WA(e,t,n)}_apply(e){const t=qA(e,this.type,this._docOrFields,this._inclusive);return new FO(e.firestore,e.converter,function(e,t){return new Ux(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class HA extends FA{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new HA(e,t,n)}_apply(e){const t=qA(e,this.type,this._docOrFields,this._inclusive);return new FO(e.firestore,e.converter,function(e,t){return new Ux(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function qA(e,t,n,r){if(n[0]=wr(n[0]),n[0]instanceof NA)return function(e,t,n,r,i){if(!r)throw new qb(Hb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of Hx(e))if(o.field.isKeyField())s.push(G_(t,r.key));else{const e=r.data.field(o.field);if(N_(e))throw new qb(Hb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new qb(Hb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new ax(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=dA(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new qb(Hb.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new qb(Hb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Wx(e)&&-1!==s.indexOf("/"))throw new qb(Hb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(lw.fromString(s));if(!dw.isDocumentKey(n))throw new qb(Hb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new dw(n);a.push(G_(t,i))}else{const e=xA(n,r,s);a.push(e)}}return new ax(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function GA(e,t,n){if("string"==typeof(n=wr(n))){if(""===n)throw new qb(Hb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wx(t)&&-1!==n.indexOf("/"))throw new qb(Hb.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(lw.fromString(n));if(!dw.isDocumentKey(r))throw new qb(Hb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return G_(e,new dw(r))}if(n instanceof jO)return G_(e,n._key);throw new qb(Hb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(PO(n),"."))}function KA(e,t){if(!Array.isArray(e)||0===e.length)throw new qb(Hb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function YA(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new qb(Hb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new qb(Hb.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class $A{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(U_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return A_(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(P_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zb()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return v_(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new sA(A_(e.latitude),A_(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=R_(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(D_(e));default:return null}}convertTimestamp(e){const t=O_(e);return new ow(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=lw.fromString(e);Vb(QT(n));const r=new L_(n.get(1),n.get(3)),i=new dw(n.popFirst(5));return r.isEqual(t)||jb("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function QA(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class XA extends $A{constructor(e){super(),this.firestore=e}convertBytes(e){return new nA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jO(this.firestore,null,t)}}class JA{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZA extends NA{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new eP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(DA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class eP extends ZA{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class tP{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new JA(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new eP(this._firestore,this._userDataWriter,n.key,n,new JA(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new qb(Hb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new eP(e._firestore,e._userDataWriter,n.doc.key,n.doc,new JA(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new eP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new JA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:nP(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function nP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zb()}}function rP(e,t){return e instanceof ZA&&t instanceof ZA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof tP&&t instanceof tP&&e._firestore===t._firestore&&WO(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class iP extends $A{constructor(e){super(),this.firestore=e}convertBytes(e){return new nA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jO(this.firestore,null,t)}}function sP(e){e=NO(e,jO);const t=NO(e.firestore,KO),n=YO(t),r=new iP(t);return function(e,t){const n=new Gb;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Wb(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new qb(Hb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=sI(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await vO(e),t,n))),n.promise}(n,e._key).then((n=>new ZA(t,r,e._key,n,new JA(null!==n&&n.hasLocalMutations,!0),e.converter)))}function oP(e){e=NO(e,FO);const t=NO(e.firestore,KO),n=YO(t),r=new iP(t);return function(e,t){const n=new Gb;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Xk(e,t,!0),i=new EI(t,r.ls),s=i.ca(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=sI(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await vO(e),t,n))),n.promise}(n,e._query).then((n=>new tP(t,r,e,n)))}function aP(e,t,n){e=NO(e,jO);const r=NO(e.firestore,KO),i=QA(e.converter,t,n);return hP(r,[fA(dA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,RE.none())])}function cP(e,t,n){e=NO(e,jO);const r=NO(e.firestore,KO),i=dA(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];return s="string"==typeof(t=wr(t))||t instanceof rA?_A(i,"updateDoc",e._key,t,n,a):wA(i,"updateDoc",e._key,t),hP(r,[s.toMutation(e._key,RE.exists(!0))])}function lP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=wr(e);let a={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||qO(n[c])||(a=n[c],c++);const l={includeMetadataChanges:a.includeMetadataChanges};if(qO(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[c+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof jO)h=NO(e.firestore,KO),d=zx(e._key.path),u={next:t=>{n[c]&&n[c](dP(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=NO(e,FO);h=NO(t.firestore,KO),d=t._query;const r=new iP(h);u={next:e=>{n[c]&&n[c](new tP(h,r,t,e))},error:n[c+1],complete:n[c+2]},MA(e._query)}return function(e,t,n,r){const i=new oO(r),s=new mI(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>hI(await _O(e),s))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>dI(await _O(e),s)))}}(YO(h),d,l,u)}function uP(e,t){return function(e,t){const n=new oO(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Wb(e).q_.add(t),t.next()}(await _O(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Wb(e).q_.delete(t)}(await _O(e),n)))}}(YO(e=NO(e,KO)),qO(t)?t:{next:t})}function hP(e,t){return function(e,t){const n=new Gb;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=eO(e);try{const e=await function(e,t){const n=Wb(e),r=ow.now(),i=t.reduce(((e,t)=>e.add(t.key)),fE());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=iE(),c=fE();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=UE(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new VE(e.key,t,sx(t.value.mapValue),RE.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:aE(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new b_(rw)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await VI(r,e.changes),await qC(r.remoteStore)}catch(e){const t=sI(e,"Failed to persist write");n.reject(t)}}(await bO(e),t,n))),n.promise}(YO(e),t)}function dP(e,t,n){const r=n.docs.get(t._key),i=new iP(e);return new ZA(e,i,t._key,r,new JA(n.hasPendingWrites,n.fromCache),t.converter)}const fP={maxAttempts:5};class pP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=dA(e)}set(e,t,n){this._verifyNotCommitted();const r=gP(e,this._firestore),i=QA(r.converter,t,n),s=fA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,RE.none())),this}update(e,t,n){this._verifyNotCommitted();const r=gP(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=wr(t))||t instanceof rA?_A(this._dataReader,"WriteBatch.update",r._key,t,n,o):wA(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,RE.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=gP(e,this._firestore);return this._mutations=this._mutations.concat(new GE(t._key,RE.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qb(Hb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gP(e,t){if((e=wr(e)).firestore!==t)throw new qb(Hb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class mP extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=dA(e)}get(e){const t=gP(e,this._firestore),n=new XA(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return zb();const r=e[0];if(r.isFoundDocument())return new NA(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new NA(this._firestore,n,t._key,null,t.converter);throw zb()}))}set(e,t,n){const r=gP(e,this._firestore),i=QA(r.converter,t,n),s=fA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=gP(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=wr(t))||t instanceof rA?_A(this._dataReader,"Transaction.update",r._key,t,n,o):wA(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=gP(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=gP(e,this._firestore),n=new iP(this._firestore);return super.get(e).then((e=>new ZA(this._firestore,n,t._key,e._document,new JA(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Db=e}(di),oi(new _r("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new KO(new Qb(e.getProvider("auth-internal")),new ew(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new qb(Hb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new L_(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),vi(Nb,"4.3.2",e),vi(Nb,"4.3.2","esm2017")}();function vP(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new qb("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function yP(){if("undefined"===typeof Uint8Array)throw new qb("unimplemented","Uint8Arrays are not available in this environment.")}function bP(){if("undefined"==typeof atob)throw new qb("unimplemented","Blobs are unavailable in Firestore in this environment.")}class wP{constructor(e){this._delegate=e}static fromBase64String(e){return bP(),new wP(nA.fromBase64String(e))}static fromUint8Array(e){return yP(),new wP(nA.fromUint8Array(e))}toBase64(){return bP(),this._delegate.toBase64()}toUint8Array(){return yP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _P(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class xP{enableIndexedDbPersistence(e,t){return function(e,t){tA(e=NO(e,KO));const n=YO(e);if(n._uninitializedComponentsProvider)throw new qb(Hb.FAILED_PRECONDITION,"SDK cache is already specified.");Ub("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new iO;return QO(n,i,new nO(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){tA(e=NO(e,KO));const t=YO(e);if(t._uninitializedComponentsProvider)throw new qb(Hb.FAILED_PRECONDITION,"SDK cache is already specified.");Ub("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new iO;return QO(t,r,new rO(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new qb(Hb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Gb;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Cw.D())return Promise.resolve();const t=e+"main";await Cw.delete(t)}(Uk(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class EP{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof L_||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Ub("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};LO(this._delegate,e,t,n)}enableNetwork(){return JO(this._delegate)}disableNetwork(){return ZO(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,IO("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return XO(this._delegate)}onSnapshotsInSync(e){return uP(this._delegate,e)}get app(){if(!this._appCompat)throw new qb("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new FP(this,BO(this._delegate,e))}catch(t){throw OP(t,"collection()","Firestore.collection()")}}doc(e){try{return new IP(this,zO(this._delegate,e))}catch(t){throw OP(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new DP(this,function(e,t){if(e=NO(e,MO),CO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new qb(Hb.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new FO(e,null,function(e){return new Ux(lw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw OP(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=NO(e,KO);const r=Object.assign(Object.assign({},fP),n);return function(e){if(e.maxAttempts<1)throw new qb(Hb.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Gb;return e.asyncQueue.enqueueAndForget((async()=>{const i=await wO(e);new lO(e.asyncQueue,i,n,t,r).run()})),r.promise}(YO(e),(n=>t(new mP(e,n))),r)}(this._delegate,(t=>e(new SP(this,t))))}batch(){return YO(this._delegate),new kP(new pP(this._delegate,(e=>hP(this._delegate,e))))}loadBundle(e){return function(e,t){const n=YO(e=NO(e,KO)),r=new GO;return TO(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return eA(this._delegate,e).then((e=>e?new DP(this,e):null))}}class TP extends $A{constructor(e){super(),this.firestore=e}convertBytes(e){return new wP(new nA(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return IP.forKey(t,this.firestore,null)}}class SP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new TP(e)}get(e){const t=jP(e);return this._delegate.get(t).then((e=>new NP(this._firestore,new ZA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=jP(e);return n?(vP("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=jP(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=jP(e);return this._delegate.delete(t),this}}class kP{constructor(e){this._delegate=e}set(e,t,n){const r=jP(e);return n?(vP("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=jP(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=jP(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class CP{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new eP(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new RP(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=CP.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new CP(e,new TP(e),t),r.set(t,i)),i}}CP.INSTANCES=new WeakMap;class IP{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new TP(e)}static forPath(e,t,n){if(e.length%2!==0)throw new qb("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new IP(t,new jO(t._delegate,n,new dw(e)))}static forKey(e,t,n){return new IP(t,new jO(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new FP(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new FP(this.firestore,BO(this._delegate,e))}catch(t){throw OP(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=wr(e))instanceof jO&&VO(this._delegate,e)}set(e,t){t=vP("DocumentReference.set",t);try{return t?aP(this._delegate,e,t):aP(this._delegate,e)}catch(n){throw OP(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?cP(this._delegate,e):cP(this._delegate,e,t,...r)}catch(s){throw OP(s,"updateDoc()","DocumentReference.update()")}}delete(){return hP(NO((e=this._delegate).firestore,KO),[new GE(e._key,RE.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=AP(t),i=PP(t,(e=>new NP(this.firestore,new ZA(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return lP(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?sP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=NO(e,jO);const t=NO(e.firestore,KO);return xO(YO(t),e._key,{source:"server"}).then((n=>dP(t,e,n)))}(this._delegate):function(e){e=NO(e,jO);const t=NO(e.firestore,KO);return xO(YO(t),e._key).then((n=>dP(t,e,n)))}(this._delegate),t.then((e=>new NP(this.firestore,new ZA(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new IP(this.firestore,e?this._delegate.withConverter(CP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function OP(e,t,n){return e.message=e.message.replace(t,n),e}function AP(e){for(const t of e)if("object"===typeof t&&!_P(t))return t;return{}}function PP(e,t){var n,r;let i;return i=_P(e[0])?e[0]:_P(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class NP{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new IP(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return rP(this._delegate,e._delegate)}}class RP extends NP{data(e){const t=this._delegate.data(e);return void 0!==t||zb(),t}}class DP{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new TP(e)}where(e,t,n){try{return new DP(this.firestore,jA(this._delegate,function(e,t,n){const r=t,i=DA("where",e);return UA._create(i,r,n)}(e,t,n)))}catch(r){throw OP(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new DP(this.firestore,jA(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=DA("orderBy",e);return zA._create(n,t)}(e,t)))}catch(n){throw OP(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new DP(this.firestore,jA(this._delegate,(RO("limit",t=e),VA._create("limit",t,"F"))))}catch(t){throw OP(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new DP(this.firestore,jA(this._delegate,(RO("limitToLast",t=e),VA._create("limitToLast",t,"L"))))}catch(t){throw OP(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new DP(this.firestore,jA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return WA._create("startAt",t,!0)}(...arguments)))}catch(e){throw OP(e,"startAt()","Query.startAt()")}}startAfter(){try{return new DP(this.firestore,jA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return WA._create("startAfter",t,!1)}(...arguments)))}catch(e){throw OP(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new DP(this.firestore,jA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return HA._create("endBefore",t,!1)}(...arguments)))}catch(e){throw OP(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new DP(this.firestore,jA(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return HA._create("endAt",t,!0)}(...arguments)))}catch(e){throw OP(e,"endAt()","Query.endAt()")}}isEqual(e){return WO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?oP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=NO(e,FO);const t=NO(e.firestore,KO),n=YO(t),r=new iP(t);return EO(n,e._query,{source:"server"}).then((n=>new tP(t,r,e,n)))}(this._delegate):function(e){e=NO(e,FO);const t=NO(e.firestore,KO),n=YO(t),r=new iP(t);return MA(e._query),EO(n,e._query).then((n=>new tP(t,r,e,n)))}(this._delegate),t.then((e=>new LP(this.firestore,new tP(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=AP(t),i=PP(t,(e=>new LP(this.firestore,new tP(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return lP(this._delegate,r,i)}withConverter(e){return new DP(this.firestore,e?this._delegate.withConverter(CP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class MP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new RP(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class LP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new DP(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new RP(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new MP(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new RP(this._firestore,n))}))}isEqual(e){return rP(this._delegate,e._delegate)}}class FP extends DP{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new IP(this.firestore,e):null}doc(e){try{return new IP(this.firestore,void 0===e?zO(this._delegate):zO(this._delegate,e))}catch(t){throw OP(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=NO(e.firestore,KO),r=zO(e),i=QA(e.converter,t);return hP(n,[fA(dA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,RE.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new IP(this.firestore,e)))}isEqual(e){return VO(this._delegate,e._delegate)}withConverter(e){return new FP(this.firestore,e?this._delegate.withConverter(CP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jP(e){return NO(e,jO)}class UP{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new rA(...t)}static documentId(){return new UP(hw.keyField().canonicalString())}isEqual(e){return(e=wr(e))instanceof rA&&this._delegate._internalPath.isEqual(e._internalPath)}}class BP{constructor(e){this._delegate=e}static serverTimestamp(){const e=new mA("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new BP(e)}static delete(){const e=new pA("deleteField");return e._methodName="FieldValue.delete",new BP(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vA("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new BP(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yA("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new BP(e)}static increment(e){const t=new bA("increment",e);return t._methodName="FieldValue.increment",new BP(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const zP={Firestore:EP,GeoPoint:sA,Timestamp:ow,Blob:wP,Transaction:SP,WriteBatch:kP,DocumentReference:IP,DocumentSnapshot:NP,Query:DP,QueryDocumentSnapshot:RP,QuerySnapshot:LP,CollectionReference:FP,FieldPath:UP,FieldValue:BP,setLogLevel:function(e){var t;t=e,Mb.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new _r("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},zP)))}(e,((e,t)=>new EP(e,t,new xP))),e.registerVersion("@firebase/firestore-compat","0.3.21")}(Li);const VP=Li.initializeApp({apiKey:"AIzaSyC3ztDdygb8OcoFlKZuT7FFmta7-pH3f4A",authDomain:"arrayan-ccaeb.firebaseapp.com",projectId:"arrayan-ccaeb",storageBucket:"arrayan-ccaeb.appspot.com",messagingSenderId:"586198127618",appId:"1:586198127618:web:f287139c6563424073431b",measurementId:"G-MC4J5PDCCX"}),WP=VP.auth(),HP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi(),t=arguments.length>1?arguments[1]:void 0;const n=ai(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=zn("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=wr(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&su("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&su('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Eu(Eu.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:Hn(r.mockUserToken,e.app.options.projectId);s=new Eu(t)}!function(e,t,n,r){e.repoInfo_=new Ou("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,s)}(n,...e)}return n}(),qP=Li.firestore(),GP=Li.firestore.FieldValue;function KP(e,t){return function(){return e.apply(t,arguments)}}const{toString:YP}=Object.prototype,{getPrototypeOf:$P}=Object,QP=(XP=Object.create(null),e=>{const t=YP.call(e);return XP[t]||(XP[t]=t.slice(8,-1).toLowerCase())});var XP;const JP=e=>(e=e.toLowerCase(),t=>QP(t)===e),ZP=e=>t=>typeof t===e,{isArray:eN}=Array,tN=ZP("undefined");const nN=JP("ArrayBuffer");const rN=ZP("string"),iN=ZP("function"),sN=ZP("number"),oN=e=>null!==e&&"object"===typeof e,aN=e=>{if("object"!==QP(e))return!1;const t=$P(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},cN=JP("Date"),lN=JP("File"),uN=JP("Blob"),hN=JP("FileList"),dN=JP("URLSearchParams");function fN(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),eN(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function pN(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const gN="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,mN=e=>!tN(e)&&e!==gN;const vN=(yN="undefined"!==typeof Uint8Array&&$P(Uint8Array),e=>yN&&e instanceof yN);var yN;const bN=JP("HTMLFormElement"),wN=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),_N=JP("RegExp"),xN=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};fN(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)},EN="abcdefghijklmnopqrstuvwxyz",TN="0123456789",SN={DIGIT:TN,ALPHA:EN,ALPHA_DIGIT:EN+EN.toUpperCase()+TN};const kN=JP("AsyncFunction"),CN={isArray:eN,isArrayBuffer:nN,isBuffer:function(e){return null!==e&&!tN(e)&&null!==e.constructor&&!tN(e.constructor)&&iN(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||iN(e.append)&&("formdata"===(t=QP(e))||"object"===t&&iN(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&nN(e.buffer),t},isString:rN,isNumber:sN,isBoolean:e=>!0===e||!1===e,isObject:oN,isPlainObject:aN,isUndefined:tN,isDate:cN,isFile:lN,isBlob:uN,isRegExp:_N,isFunction:iN,isStream:e=>oN(e)&&iN(e.pipe),isURLSearchParams:dN,isTypedArray:vN,isFileList:hN,forEach:fN,merge:function e(){const{caseless:t}=mN(this)&&this||{},n={},r=(r,i)=>{const s=t&&pN(n,i)||i;aN(n[s])&&aN(r)?n[s]=e(n[s],r):aN(r)?n[s]=e({},r):eN(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&fN(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return fN(t,((t,r)=>{n&&iN(t)?e[r]=KP(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&$P(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:QP,kindOfTest:JP,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(eN(e))return e;let t=e.length;if(!sN(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:bN,hasOwnProperty:wN,hasOwnProp:wN,reduceDescriptors:xN,freezeMethods:e=>{xN(e,((t,n)=>{if(iN(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];iN(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return eN(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:pN,global:gN,isContextDefined:mN,ALPHABET:SN,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:SN.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&iN(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(oN(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=eN(e)?[]:{};return fN(e,((e,t)=>{const s=n(e,r+1);!tN(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:kN,isThenable:e=>e&&(oN(e)||iN(e))&&iN(e.then)&&iN(e.catch)};function IN(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}CN.inherits(IN,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:CN.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ON=IN.prototype,AN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{AN[e]={value:e}})),Object.defineProperties(IN,AN),Object.defineProperty(ON,"isAxiosError",{value:!0}),IN.from=(e,t,n,r,i,s)=>{const o=Object.create(ON);return CN.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),IN.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const PN=IN;function NN(e){return CN.isPlainObject(e)||CN.isArray(e)}function RN(e){return CN.endsWith(e,"[]")?e.slice(0,-2):e}function DN(e,t,n){return e?e.concat(t).map((function(e,t){return e=RN(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const MN=CN.toFlatObject(CN,{},null,(function(e){return/^is[A-Z]/.test(e)}));const LN=function(e,t,n){if(!CN.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=CN.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!CN.isUndefined(t[e])}))).metaTokens,i=n.visitor||l,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&CN.isSpecCompliantForm(t);if(!CN.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(CN.isDate(e))return e.toISOString();if(!a&&CN.isBlob(e))throw new PN("Blob is not supported. Use a Buffer instead.");return CN.isArrayBuffer(e)||CN.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(CN.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(CN.isArray(e)&&function(e){return CN.isArray(e)&&!e.some(NN)}(e)||(CN.isFileList(e)||CN.endsWith(n,"[]"))&&(a=CN.toArray(e)))return n=RN(n),a.forEach((function(e,r){!CN.isUndefined(e)&&null!==e&&t.append(!0===o?DN([n],r,s):null===o?n:n+"[]",c(e))})),!1;return!!NN(e)||(t.append(DN(i,n,s),c(e)),!1)}const u=[],h=Object.assign(MN,{defaultVisitor:l,convertValue:c,isVisitable:NN});if(!CN.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!CN.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),CN.forEach(n,(function(n,s){!0===(!(CN.isUndefined(n)||null===n)&&i.call(t,n,CN.isString(s)?s.trim():s,r,h))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function FN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function jN(e,t){this._pairs=[],e&&LN(e,this,t)}const UN=jN.prototype;UN.append=function(e,t){this._pairs.push([e,t])},UN.toString=function(e){const t=e?function(t){return e.call(this,t,FN)}:FN;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const BN=jN;function zN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VN(e,t,n){if(!t)return e;const r=n&&n.encode||zN,i=n&&n.serialize;let s;if(s=i?i(t,n):CN.isURLSearchParams(t)?t.toString():new BN(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const WN=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){CN.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},HN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qN={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:BN,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},GN="undefined"!==typeof window&&"undefined"!==typeof document,KN=(YN="undefined"!==typeof navigator&&navigator.product,GN&&["ReactNative","NativeScript","NS"].indexOf(YN)<0);var YN;const $N="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,QN=(0,Nr.Z)((0,Nr.Z)({},t),qN);const XN=function(e){function t(e,n,r,i){let s=e[i++];const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&CN.isArray(r)?r.length:s,a)return CN.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&CN.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&CN.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(CN.isFormData(e)&&CN.isFunction(e.entries)){const n={};return CN.forEachEntry(e,((e,r)=>{t(function(e){return CN.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const JN={transitional:HN,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=CN.isObject(e);i&&CN.isHTMLForm(e)&&(e=new FormData(e));if(CN.isFormData(e))return r&&r?JSON.stringify(XN(e)):e;if(CN.isArrayBuffer(e)||CN.isBuffer(e)||CN.isStream(e)||CN.isFile(e)||CN.isBlob(e))return e;if(CN.isArrayBufferView(e))return e.buffer;if(CN.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return LN(e,new QN.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return QN.isNode&&CN.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=CN.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return LN(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(CN.isString(e))try{return(t||JSON.parse)(e),CN.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||JN.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&CN.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw PN.from(i,PN.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:QN.classes.FormData,Blob:QN.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};CN.forEach(["delete","get","head","post","put","patch"],(e=>{JN.headers[e]={}}));const ZN=JN,eR=CN.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tR=Symbol("internals");function nR(e){return e&&String(e).trim().toLowerCase()}function rR(e){return!1===e||null==e?e:CN.isArray(e)?e.map(rR):String(e)}function iR(e,t,n,r,i){return CN.isFunction(r)?r.call(this,t,n):(i&&(t=n),CN.isString(t)?CN.isString(r)?-1!==t.indexOf(r):CN.isRegExp(r)?r.test(t):void 0:void 0)}class sR{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=nR(t);if(!i)throw new Error("header name must be a non-empty string");const s=CN.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=rR(e))}const s=(e,t)=>CN.forEach(e,((e,n)=>i(e,n,t)));return CN.isPlainObject(e)||e instanceof this.constructor?s(e,t):CN.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&eR[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=nR(e)){const n=CN.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(CN.isFunction(t))return t.call(this,e,n);if(CN.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=nR(e)){const n=CN.findKey(this,e);return!(!n||void 0===this[n]||t&&!iR(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=nR(e)){const i=CN.findKey(n,e);!i||t&&!iR(0,n[i],i,t)||(delete n[i],r=!0)}}return CN.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!iR(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return CN.forEach(this,((r,i)=>{const s=CN.findKey(n,i);if(s)return t[s]=rR(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=rR(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return CN.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&CN.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[tR]=this[tR]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=nR(e);t[r]||(!function(e,t){const n=CN.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return CN.isArray(e)?e.forEach(r):r(e),this}}sR.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),CN.reduceDescriptors(sR.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),CN.freezeMethods(sR);const oR=sR;function aR(e,t){const n=this||ZN,r=t||n,i=oR.from(r.headers);let s=r.data;return CN.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function cR(e){return!(!e||!e.__CANCEL__)}function lR(e,t,n){PN.call(this,null==e?"canceled":e,PN.ERR_CANCELED,t,n),this.name="CanceledError"}CN.inherits(lR,PN,{__CANCEL__:!0});const uR=lR;const hR=QN.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];CN.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),CN.isString(r)&&o.push("path="+r),CN.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function dR(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const fR=QN.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=CN.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const pR=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),l=r[o];i||(i=c),n[s]=a,r[s]=c;let u=o,h=0;for(;u!==s;)h+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),c-i<t)return;const d=l&&c-l;return d?Math.round(1e3*h/d):void 0}};function gR(e,t){let n=0;const r=pR(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,c=r(a);n=s;const l={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&s<=o?(o-s)/c:void 0,event:i};l[t?"download":"upload"]=!0,e(l)}}const mR="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=oR.from(e.headers).normalize();let s,o,{responseType:a,withXSRFToken:c}=e;function l(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(CN.isFormData(r))if(QN.hasStandardBrowserEnv||QN.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(o=i.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const h=dR(e.baseURL,e.url);function d(){if(!u)return;const r=oR.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new PN("Request failed with status code "+n.status,[PN.ERR_BAD_REQUEST,PN.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),l()}),(function(e){n(e),l()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),VN(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new PN("Request aborted",PN.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new PN("Network Error",PN.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||HN;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new PN(t,r.clarifyTimeoutError?PN.ETIMEDOUT:PN.ECONNABORTED,e,u)),u=null},QN.hasStandardBrowserEnv&&(c&&CN.isFunction(c)&&(c=c(e)),c||!1!==c&&fR(h))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&hR.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&CN.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),CN.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",gR(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",gR(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{u&&(n(!t||t.type?new uR(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);f&&-1===QN.protocols.indexOf(f)?n(new PN("Unsupported protocol "+f+":",PN.ERR_BAD_REQUEST,e)):u.send(r||null)}))},vR={http:null,xhr:mR};CN.forEach(vR,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const yR=e=>"- ".concat(e),bR=e=>CN.isFunction(e)||null===e||!1===e,wR=e=>{e=CN.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!bR(n)&&(r=vR[(t=String(n)).toLowerCase()],void 0===r))throw new PN("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(yR).join("\n"):" "+yR(e[0]):"as no adapter specified";throw new PN("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function _R(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new uR(null,e)}function xR(e){_R(e),e.headers=oR.from(e.headers),e.data=aR.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return wR(e.adapter||ZN.adapter)(e).then((function(t){return _R(e),t.data=aR.call(e,e.transformResponse,t),t.headers=oR.from(t.headers),t}),(function(t){return cR(t)||(_R(e),t&&t.response&&(t.response.data=aR.call(e,e.transformResponse,t.response),t.response.headers=oR.from(t.response.headers))),Promise.reject(t)}))}const ER=e=>e instanceof oR?e.toJSON():e;function TR(e,t){t=t||{};const n={};function r(e,t,n){return CN.isPlainObject(e)&&CN.isPlainObject(t)?CN.merge.call({caseless:n},e,t):CN.isPlainObject(t)?CN.merge({},t):CN.isArray(t)?t.slice():t}function i(e,t,n){return CN.isUndefined(t)?CN.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!CN.isUndefined(t))return r(void 0,t)}function o(e,t){return CN.isUndefined(t)?CN.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(ER(e),ER(t),!0)};return CN.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=c[r]||i,o=s(e[r],t[r],r);CN.isUndefined(o)&&s!==a||(n[r]=o)})),n}const SR="1.6.2",kR={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{kR[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const CR={};kR.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new PN(r(i," has been removed"+(t?" in "+t:"")),PN.ERR_DEPRECATED);return t&&!CR[i]&&(CR[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};const IR={assertOptions:function(e,t,n){if("object"!==typeof e)throw new PN("options must be an object",PN.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new PN("option "+s+" must be "+n,PN.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new PN("Unknown option "+s,PN.ERR_BAD_OPTION)}},validators:kR},OR=IR.validators;class AR{constructor(e){this.defaults=e,this.interceptors={request:new WN,response:new WN}}request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=TR(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&IR.assertOptions(n,{silentJSONParsing:OR.transitional(OR.boolean),forcedJSONParsing:OR.transitional(OR.boolean),clarifyTimeoutError:OR.transitional(OR.boolean)},!1),null!=r&&(CN.isFunction(r)?t.paramsSerializer={serialize:r}:IR.assertOptions(r,{encode:OR.function,serialize:OR.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&CN.merge(i.common,i[t.method]);i&&CN.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=oR.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[xR.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);h<u;)l=l.then(e[h++],e[h++]);return l}u=o.length;let d=t;for(h=0;h<u;){const e=o[h++],t=o[h++];try{d=e(d)}catch(iu){t.call(this,iu);break}}try{l=xR.call(this,d)}catch(iu){return Promise.reject(iu)}for(h=0,u=c.length;h<u;)l=l.then(c[h++],c[h++]);return l}getUri(e){return VN(dR((e=TR(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}CN.forEach(["delete","get","head","options"],(function(e){AR.prototype[e]=function(t,n){return this.request(TR(n||{},{method:e,url:t,data:(n||{}).data}))}})),CN.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(TR(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}AR.prototype[e]=t(),AR.prototype[e+"Form"]=t(!0)}));const PR=AR;class NR{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new uR(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new NR((function(t){e=t})),cancel:e}}}const RR=NR;const DR={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(DR).forEach((e=>{let[t,n]=e;DR[n]=t}));const MR=DR;const LR=function e(t){const n=new PR(t),r=KP(PR.prototype.request,n);return CN.extend(r,PR.prototype,n,{allOwnKeys:!0}),CN.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(TR(t,n))},r}(ZN);LR.Axios=PR,LR.CanceledError=uR,LR.CancelToken=RR,LR.isCancel=cR,LR.VERSION=SR,LR.toFormData=LN,LR.AxiosError=PN,LR.Cancel=LR.CanceledError,LR.all=function(e){return Promise.all(e)},LR.spread=function(e){return function(t){return e.apply(null,t)}},LR.isAxiosError=function(e){return CN.isObject(e)&&!0===e.isAxiosError},LR.mergeConfig=TR,LR.AxiosHeaders=oR,LR.formToJSON=e=>XN(CN.isHTMLForm(e)?new FormData(e):e),LR.getAdapter=wR,LR.HttpStatusCode=MR,LR.default=LR;const FR=LR,jR=async e=>{const t={query:e};return(await FR.post("https://cloud.resilientdb.com/graphql",t,{headers:{"Access-Control-Allow-Headers":"*","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Content-Type":"application/json"}})).data},UR="\nmutation{\n    generateKeys{\n      publicKey,\n      privateKey\n    }\n  }\n",BR=(e,t)=>'mutation {\n  postTransaction(data: {\n  operation: "CREATE",\n  amount: 100,\n  signerPublicKey: "'.concat(null===e||void 0===e?void 0:e.signerPublicKey,'",\n  signerPrivateKey: "').concat(null===e||void 0===e?void 0:e.signerPrivateKey,'",\n  recipientPublicKey: "').concat(null===e||void 0===e?void 0:e.recipientPublicKey,'",\n  asset: """{\n    "data": ').concat(t,',    \n  }\n  """\n  }){\n  id\n  }\n}'),zR=e=>'query {\n  getTransaction(id: "'.concat(e,'") {\n    signerPublicKey\n    asset\n  }\n}');var VR=n(184);const WR=i.createContext();function HR(){return(0,i.useContext)(WR)}function qR(e){let{children:t}=e;const[n,r]=(0,i.useState)(),[s,o]=(0,i.useState)(!0),[a,c]=(0,i.useState)(null);async function l(e){const t=ng(HP,"users/"+e),n=await sg(t);if(n.exists()){const e=n.val();c(e)}else c(null)}(0,i.useEffect)((()=>WP.onAuthStateChanged((e=>{e?l(e.uid):c(null),r(e),o(!1)}))),[]),(0,i.useEffect)((()=>WP.onAuthStateChanged((e=>{r(e),l(null===e||void 0===e?void 0:e.uid),o(!1)}))),[]);const u={currentUser:n,userKeys:a,login:async function(e,t){try{const n=(await WP.signInWithEmailAndPassword(e,t)).user.uid;return await l(n),!0}catch(iu){return console.error("Login failed:",iu),!1}},signup:async function(e,t){const n=(await WP.createUserWithEmailAndPassword(e,t)).user.uid;try{const e=await jR(UR),{publicKey:t,privateKey:r}=e.data.generateKeys;await ig(ng(HP,"users/"+n),{publicKey:t,privateKey:r}),await l(n)}catch(iu){console.error("Failed to sign up and fetch keys:",iu)}},logout:function(){return WP.signOut()},resetPassword:function(e){return WP.sendPasswordResetEmail(e)},updateEmail:function(e){return n.updateEmail(e)},updatePassword:function(e){return n.updatePassword(e)}};return(0,VR.jsx)(WR.Provider,{value:u,children:!s&&t})}function GR(){return GR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GR.apply(this,arguments)}var KR;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(KR||(KR={}));const YR="popstate";function $R(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function QR(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function XR(e,t){return{usr:e.state,key:e.key,idx:t}}function JR(e,t,n,r){return void 0===n&&(n=null),GR({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?eD(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function ZR(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function eD(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tD(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=KR.Pop,c=null,l=u();function u(){return(o.state||{idx:null}).idx}function h(){a=KR.Pop;let e=u(),t=null==e?null:e-l;l=e,c&&c({action:a,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:ZR(e);return $R(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==l&&(l=0,o.replaceState(GR({},o.state,{idx:l}),""));let f={get action(){return a},get location(){return e(i,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(YR,h),c=e,()=>{i.removeEventListener(YR,h),c=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=KR.Push;let r=JR(f.location,e,t);n&&n(r,e),l=u()+1;let h=XR(r,l),d=f.createHref(r);try{o.pushState(h,"",d)}catch(iu){if(iu instanceof DOMException&&"DataCloneError"===iu.name)throw iu;i.location.assign(d)}s&&c&&c({action:a,location:f.location,delta:1})},replace:function(e,t){a=KR.Replace;let r=JR(f.location,e,t);n&&n(r,e),l=u();let i=XR(r,l),h=f.createHref(r);o.replaceState(i,"",h),s&&c&&c({action:a,location:f.location,delta:0})},go:e=>o.go(e)};return f}var nD;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(nD||(nD={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function rD(e,t,n){void 0===n&&(n="/");let r=vD(("string"===typeof t?eD(t):t).pathname||"/",n);if(null==r)return null;let i=iD(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o)s=pD(i[o],mD(r));return s}function iD(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&($R(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=_D([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&($R(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),iD(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:fD(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of sD(e.path))i(e,t,r);else i(e,t)})),t}function sD(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=sD(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const oD=/^:\w+$/,aD=3,cD=2,lD=1,uD=10,hD=-2,dD=e=>"*"===e;function fD(e,t){let n=e.split("/"),r=n.length;return n.some(dD)&&(r+=hD),t&&(r+=cD),n.filter((e=>!dD(e))).reduce(((e,t)=>e+(oD.test(t)?aD:""===t?lD:uD)),r)}function pD(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=gD({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},c);if(!l)return null;Object.assign(r,l.params);let u=e.route;s.push({params:r,pathname:_D([i,l.pathname]),pathnameBase:xD(_D([i,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(i=_D([i,l.pathnameBase]))}return s}function gD(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);QR("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),c=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(iu){return QR(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+iu+")."),e}}(c||"",r),e}),{});return{params:c,pathname:s,pathnameBase:o,pattern:e}}function mD(e){try{return decodeURI(e)}catch(iu){return QR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+iu+")."),e}}function vD(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function yD(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function bD(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function wD(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=eD(e):(i=GR({},e),$R(!i.pathname||!i.pathname.includes("?"),yD("?","pathname","search",i)),$R(!i.pathname||!i.pathname.includes("#"),yD("#","pathname","hash",i)),$R(!i.search||!i.search.includes("#"),yD("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(r||null==a)s=n;else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?eD(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:ED(r),hash:TD(i)}}(i,s),l=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!l&&!u||(c.pathname+="/"),c}const _D=e=>e.join("/").replace(/\/\/+/g,"/"),xD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ED=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",TD=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function SD(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const kD=["post","put","patch","delete"],CD=(new Set(kD),["get",...kD]);new Set(CD),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function ID(){return ID=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ID.apply(this,arguments)}const OD=i.createContext(null);const AD=i.createContext(null);const PD=i.createContext(null);const ND=i.createContext(null);const RD=i.createContext({outlet:null,matches:[],isDataRoute:!1});const DD=i.createContext(null);function MD(){return null!=i.useContext(ND)}function LD(){return MD()||$R(!1),i.useContext(ND).location}function FD(e){i.useContext(PD).static||i.useLayoutEffect(e)}function jD(){let{isDataRoute:e}=i.useContext(RD);return e?function(){let{router:e}=YD(GD.UseNavigateStable),t=QD(KD.UseNavigateStable),n=i.useRef(!1);FD((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,ID({fromRouteId:t},i)))}),[e,t]);return r}():function(){MD()||$R(!1);let e=i.useContext(OD),{basename:t,navigator:n}=i.useContext(PD),{matches:r}=i.useContext(RD),{pathname:s}=LD(),o=JSON.stringify(bD(r).map((e=>e.pathnameBase))),a=i.useRef(!1);FD((()=>{a.current=!0}));let c=i.useCallback((function(r,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof r)return void n.go(r);let c=wD(r,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(c.pathname="/"===c.pathname?t:_D([t,c.pathname])),(i.replace?n.replace:n.push)(c,i.state,i)}),[t,n,o,s,e]);return c}()}function UD(e,t){let{relative:n}=void 0===t?{}:t,{matches:r}=i.useContext(RD),{pathname:s}=LD(),o=JSON.stringify(bD(r).map((e=>e.pathnameBase)));return i.useMemo((()=>wD(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function BD(e,t,n){MD()||$R(!1);let{navigator:r}=i.useContext(PD),{matches:s}=i.useContext(RD),o=s[s.length-1],a=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let l,u=LD();if(t){var h;let e="string"===typeof t?eD(t):t;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||$R(!1),l=e}else l=u;let d=l.pathname||"/",f=rD(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});let p=qD(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:_D([c,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:_D([c,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n);return t&&p?i.createElement(ND.Provider,{value:{location:ID({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:KR.Pop}},p):p}function zD(){let e=function(){var e;let t=i.useContext(DD),n=$D(KD.UseRouteError),r=QD(KD.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=SD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const VD=i.createElement(zD,null);class WD extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?i.createElement(RD.Provider,{value:this.props.routeContext},i.createElement(DD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HD(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(OD);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(RD.Provider,{value:t},r)}function qD(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let o=e,a=null==(r=n)?void 0:r.errors;if(null!=a){let e=o.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||$R(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,r,s)=>{let c=r.route.id?null==a?void 0:a[r.route.id]:null,l=null;n&&(l=r.route.errorElement||VD);let u=t.concat(o.slice(0,s+1)),h=()=>{let t;return t=c?l:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(HD,{match:r,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(WD,{location:n.location,revalidation:n.revalidation,component:l,error:c,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()}),null)}var GD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(GD||{}),KD=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(KD||{});function YD(e){let t=i.useContext(OD);return t||$R(!1),t}function $D(e){let t=i.useContext(AD);return t||$R(!1),t}function QD(e){let t=function(e){let t=i.useContext(RD);return t||$R(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||$R(!1),n.route.id}s.startTransition;function XD(e){$R(!1)}function JD(e){let{basename:t="/",children:n=null,location:r,navigationType:s=KR.Pop,navigator:o,static:a=!1}=e;MD()&&$R(!1);let c=t.replace(/^\/*/,"/"),l=i.useMemo((()=>({basename:c,navigator:o,static:a})),[c,o,a]);"string"===typeof r&&(r=eD(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,g=i.useMemo((()=>{let e=vD(u,c);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:s}}),[c,u,h,d,f,p,s]);return null==g?null:i.createElement(PD.Provider,{value:l},i.createElement(ND.Provider,{children:n,value:g}))}function ZD(e){let{children:t,location:n}=e;return BD(eM(t),n)}new Promise((()=>{}));i.Component;function eM(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,eM(e.props.children,s));e.type!==XD&&$R(!1),e.props.index&&e.props.children&&$R(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=eM(e.props.children,s)),n.push(o)})),n}function tM(){return tM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tM.apply(this,arguments)}function nM(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const rM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const iM=s.startTransition;function sM(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),tD((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return JR("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:ZR(t)}),null,a)));let c=o.current,[l,u]=i.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},d=i.useCallback((e=>{h&&iM?iM((()=>u(e))):u(e)}),[u,h]);return i.useLayoutEffect((()=>c.listen(d)),[c,d]),i.createElement(JD,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:c})}const oM="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,aM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cM=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:a,state:c,target:l,to:u,preventScrollReset:h,unstable_viewTransition:d}=e,f=nM(e,rM),{basename:p}=i.useContext(PD),g=!1;if("string"===typeof u&&aM.test(u)&&(n=u,oM))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=vD(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(y){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;MD()||$R(!1);let{basename:r,navigator:s}=i.useContext(PD),{hash:o,pathname:a,search:c}=UD(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:_D([r,a])),s.createHref({pathname:l,search:c,hash:o})}(u,{relative:s}),v=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:c}=void 0===t?{}:t,l=jD(),u=LD(),h=UD(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:ZR(u)===ZR(h);l(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:c})}}),[u,l,h,r,s,n,e,o,a,c])}(u,{replace:a,state:c,target:l,preventScrollReset:h,relative:s,unstable_viewTransition:d});return i.createElement("a",tM({},f,{href:n||m,onClick:g||o?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:l}))}));var lM,uM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lM||(lM={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(uM||(uM={}));function hM(){const e=(0,i.useRef)(),t=(0,i.useRef)(),r=(0,i.useRef)(),{signup:s,currentUser:o}=HR(),[a,c]=(0,i.useState)(""),[l,u]=(0,i.useState)(!1),h=jD();async function d(n){if(n.preventDefault(),t.current.value!==r.current.value)return c("Passwords do not match");try{c(""),u(!0),await s(e.current.value,t.current.value),h("/inventory")}catch(a){console.log(a),c("Failed to create an account")}u(!1)}return(0,VR.jsx)(VR.Fragment,{children:(0,VR.jsx)(VR.Fragment,{children:(0,VR.jsx)("div",{className:"wrapper",children:(0,VR.jsx)("div",{className:"page-header",children:(0,VR.jsx)("div",{className:"content",children:(0,VR.jsx)(H,{children:(0,VR.jsxs)(Z,{children:[(0,VR.jsxs)(ue,{className:"offset-lg-0 offset-md-3",lg:"5",md:"6",children:[(0,VR.jsxs)(me,{className:"card-register",children:[(0,VR.jsxs)(xe,{children:[(0,VR.jsx)(Ie,{alt:"...",src:n(4905)}),(0,VR.jsx)(De,{tag:"h3",children:"Register"})]}),(0,VR.jsxs)(Be,{children:[a&&(0,VR.jsx)(yt,{variant:"danger",style:{backgroundColor:"red"},children:a}),(0,VR.jsxs)(At,{className:"form",onSubmit:d,children:[(0,VR.jsx)(Vt,{innerRef:e,placeholder:"Email",type:"text"}),(0,VR.jsx)(Vt,{style:{marginTop:"1rem"},innerRef:t,placeholder:"Password",type:"password"}),(0,VR.jsx)(Vt,{style:{marginTop:"1rem"},innerRef:r,placeholder:"Confirm Password",type:"password"}),(0,VR.jsx)(Yt,{check:!0,className:"text-left",children:(0,VR.jsxs)(on,{check:!0,children:[(0,VR.jsx)(Vt,{type:"checkbox"}),(0,VR.jsx)("span",{className:"form-check-sign"}),"I agree to the"," ",(0,VR.jsx)("a",{href:"#pablo",onClick:e=>e.preventDefault(),children:"terms and conditions"}),"."]})})]})]}),(0,VR.jsx)(dn,{children:(0,VR.jsx)(kn,{disabled:l,className:"btn-round",color:"info",size:"lg",onClick:d,children:"Sign Up"})})]}),(0,VR.jsxs)("div",{className:"text-center",children:["Already have an account? ",(0,VR.jsx)(cM,{to:"/login",children:"Log In"})]})]}),(0,VR.jsx)(ue,{children:(0,VR.jsx)("img",{width:"60%",style:{float:"right"},alt:"...",className:"img-fluid",src:n(2145)})})]})})})})})})})}var dM=["expand","className","cssModule","light","dark","fixed","sticky","color","container","tag","children"];function fM(){return fM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fM.apply(this,arguments)}function pM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var mM={children:c().node,className:c().string,color:c().string,container:c().oneOfType([c().bool,c().string]),cssModule:c().object,dark:c().bool,expand:c().oneOfType([c().bool,c().string]),fixed:c().string,light:c().bool,role:c().string,sticky:c().string,tag:x};function vM(e){var t,n=e.expand,r=void 0!==n&&n,s=e.className,o=e.cssModule,a=e.light,c=e.dark,l=e.fixed,h=e.sticky,d=e.color,f=e.container,g=void 0===f?"fluid":f,m=e.tag,v=void 0===m?"nav":m,y=e.children,b=gM(e,dM),w=p(u()(s,"navbar",function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":"navbar-expand-".concat(e))}(r),(pM(t={"navbar-light":a,"navbar-dark":c},"bg-".concat(d),d),pM(t,"fixed-".concat(l),l),pM(t,"sticky-".concat(h),h),t)),o),_=g&&!0===g?"container":"container-".concat(g);return i.createElement(v,fM({},b,{className:w}),g?i.createElement("div",{className:_},y):y)}vM.propTypes=mM;const yM=vM;var bM=["className","cssModule","tag"];function wM(){return wM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wM.apply(this,arguments)}function _M(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var xM={className:c().string,cssModule:c().object,tag:x};function EM(e){var t=e.className,n=e.cssModule,r=e.tag,s=void 0===r?"a":r,o=_M(e,bM),a=p(u()(t,"navbar-brand"),n);return i.createElement(s,wM({},o,{className:a}))}EM.propTypes=xM;const TM=EM;function SM(e){return SM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SM(e)}var kM,CM=["tag","horizontal","isOpen","className","navbar","cssModule","children","innerRef"];function IM(){return IM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IM.apply(this,arguments)}function OM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PM(e,t){return PM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PM(e,t)}function NM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=DM(e);if(t){var i=DM(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===SM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return RM(e)}(this,n)}}function RM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DM(e){return DM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DM(e)}function MM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MM(Object(n),!0).forEach((function(t){FM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jM=LM(LM({},Ze.propTypes),{},{horizontal:c().bool,isOpen:c().bool,children:c().oneOfType([c().arrayOf(c().node),c().node]),tag:x,className:c().node,navbar:c().bool,cssModule:c().object,innerRef:c().shape({current:c().object})}),UM=LM(LM({},Ze.defaultProps),{},{horizontal:!1,isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:T}),BM=(FM(kM={},C,"collapsing"),FM(kM,I,"collapse show"),FM(kM,O,"collapsing"),FM(kM,A,"collapse"),kM);var zM=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PM(e,t)}(o,e);var t,n,r,s=NM(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=s.call(this,e)).state={dimension:null},t.nodeRef=e.innerRef||i.createRef(),["onEntering","onEntered","onExit","onExiting","onExited"].forEach((function(e){t[e]=t[e].bind(RM(t))})),t}return t=o,(n=[{key:"onEntering",value:function(e,t){var n=this.getNode();this.setState({dimension:this.getDimension(n)}),this.props.onEntering(n,t)}},{key:"onEntered",value:function(e,t){var n=this.getNode();this.setState({dimension:null}),this.props.onEntered(n,t)}},{key:"onExit",value:function(){var e=this.getNode();this.setState({dimension:this.getDimension(e)}),this.props.onExit(e)}},{key:"onExiting",value:function(){var e=this.getNode();this.getDimension(e),this.setState({dimension:0}),this.props.onExiting(e)}},{key:"onExited",value:function(){var e=this.getNode();this.setState({dimension:null}),this.props.onExited(e)}},{key:"getNode",value:function(){return this.nodeRef.current}},{key:"getDimension",value:function(e){return this.props.horizontal?e.scrollWidth:e.scrollHeight}},{key:"render",value:function(){var e=this,t=this.props,n=t.tag,r=t.horizontal,s=t.isOpen,o=t.className,a=t.navbar,c=t.cssModule,l=t.children,h=(t.innerRef,OM(t,CM)),d=this.state.dimension,f=m(h,k),v=g(h,k);return i.createElement(Ze,IM({},f,{in:s,nodeRef:this.nodeRef,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(t){var s=function(e){return BM[e]||"collapse"}(t),h=p(u()(o,r&&"collapse-horizontal",s,a&&"navbar-collapse"),c),f=null===d?null:FM({},r?"width":"height",d);return i.createElement(n,IM({},v,{style:LM(LM({},v.style),f),className:h,ref:e.nodeRef}),l)}))}}])&&AM(t.prototype,n),r&&AM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.Component);zM.propTypes=jM,zM.defaultProps=UM;const VM=zM;var WM=["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"];function HM(){return HM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HM.apply(this,arguments)}function qM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var GM={card:c().bool,className:c().string,cssModule:c().object,fill:c().bool,horizontal:c().oneOf(["center","end"]),justified:c().bool,navbar:c().bool,pills:c().bool,tabs:c().bool,tag:x,vertical:c().oneOfType([c().bool,c().string])};function KM(e){var t=e.className,n=e.cssModule,r=e.tabs,s=e.pills,o=e.vertical,a=void 0!==o&&o,c=e.horizontal,l=e.justified,h=e.fill,d=e.navbar,f=e.card,g=e.tag,m=void 0===g?"ul":g,v=qM(e,WM),y=p(u()(t,d?"navbar-nav":"nav",!!c&&"justify-content-".concat(c),function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-".concat(e,"-column"))}(a),{"nav-tabs":r,"card-header-tabs":f&&r,"nav-pills":s,"card-header-pills":f&&s,"nav-justified":l,"nav-fill":h}),n);return i.createElement(m,HM({},v,{className:y}))}KM.propTypes=GM;const YM=KM;var $M=["className","cssModule","active","tag"];function QM(){return QM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QM.apply(this,arguments)}function XM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var JM={active:c().bool,className:c().string,cssModule:c().object,tag:x};function ZM(e){var t=e.className,n=e.cssModule,r=e.active,s=e.tag,o=void 0===s?"li":s,a=XM(e,$M),c=p(u()(t,"nav-item",!!r&&"active"),n);return i.createElement(o,QM({},a,{className:c}))}ZM.propTypes=JM;const eL=ZM;function tL(e){return tL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tL(e)}var nL=["className","cssModule","active","tag","innerRef"];function rL(){return rL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rL.apply(this,arguments)}function iL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oL(e,t){return oL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oL(e,t)}function aL(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lL(e);if(t){var i=lL(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===tL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cL(e)}(this,n)}}function cL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lL(e){return lL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lL(e)}var uL={active:c().bool,className:c().string,cssModule:c().object,disabled:c().bool,href:c().any,innerRef:c().oneOfType([c().object,c().func,c().string]),onClick:c().func,tag:x},hL=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oL(e,t)}(o,e);var t,n,r,s=aL(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=s.call(this,e)).onClick=t.onClick.bind(cL(t)),t}return t=o,(n=[{key:"onClick",value:function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,r=e.active,s=e.tag,o=void 0===s?"a":s,a=e.innerRef,c=iL(e,nL),l=p(u()(t,"nav-link",{disabled:c.disabled,active:r}),n);return i.createElement(o,rL({},c,{ref:a,onClick:this.onClick,className:l}))}}])&&sL(t.prototype,n),r&&sL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.Component);hL.propTypes=uL;const dL=hL;var fL=i.createContext(),pL=i.createContext();function gL(e){var t=e.children,n=i.useState(null),r=n[0],s=n[1],o=i.useRef(!1);i.useEffect((function(){return function(){o.current=!0}}),[]);var a=i.useCallback((function(e){o.current||s(e)}),[]);return i.createElement(fL.Provider,{value:r},i.createElement(pL.Provider,{value:a},t))}var mL=i.createContext({}),vL=i.createContext({});function yL(e){return yL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yL(e)}var bL=["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","tag","menuRole"];function wL(){return wL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wL.apply(this,arguments)}function _L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TL(e,t){return TL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},TL(e,t)}function SL(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=CL(e);if(t){var i=CL(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===yL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kL(e)}(this,n)}}function kL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CL(e){return CL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CL(e)}var IL={a11y:c().bool,disabled:c().bool,direction:c().oneOf(["up","down","start","end","left","right"]),group:c().bool,isOpen:c().bool,nav:c().bool,active:c().bool,size:c().string,tag:x,toggle:c().func,children:c().node,className:c().string,cssModule:c().object,dropup:c().bool,inNavbar:c().bool,setActiveFromChild:c().bool,menuRole:c().oneOf(["listbox","menu"])},OL=[P.space,P.enter,P.up,P.down,P.end,P.home],AL=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TL(e,t)}(o,e);var t,n,r,s=SL(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=s.call(this,e)).addEvents=t.addEvents.bind(kL(t)),t.handleDocumentClick=t.handleDocumentClick.bind(kL(t)),t.handleKeyDown=t.handleKeyDown.bind(kL(t)),t.removeEvents=t.removeEvents.bind(kL(t)),t.toggle=t.toggle.bind(kL(t)),t.handleMenuRef=t.handleMenuRef.bind(kL(t)),t.handleToggleRef=t.handleToggleRef.bind(kL(t)),t.containerRef=i.createRef(),t.menuRef=i.createRef(),t.toggleRef=i.createRef(),t}return t=o,n=[{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(e){this.props.isOpen!==e.isOpen&&this.handleProps()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"handleMenuRef",value:function(e){this.menuRef.current=e}},{key:"handleToggleRef",value:function(e){this.toggleRef.current=e}},{key:"handleDocumentClick",value:function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===P.tab)){var t=this.getContainer(),n=this.getMenu(),r=this.getToggle().contains(e.target),i=n&&n.contains(e.target)&&n!==e.target,s=!1;t&&(s=t.classList.contains("input-group")&&t.classList.contains("dropdown")&&"INPUT"===e.target.tagName),(!(r&&!s||i)||"keyup"===e.type&&e.which!==P.tab)&&this.toggle(e)}}},{key:"handleKeyDown",value:function(e){var t=this,n="menuitem"===e.target.getAttribute("role")||"option"===e.target.getAttribute("role"),r=this.getMenuCtrl()===e.target,i=P.tab===e.which;if(!(/input|textarea/i.test(e.target.tagName)||i&&!this.props.a11y||i&&!n&&!r)&&((-1!==OL.indexOf(e.which)||e.which>=48&&e.which<=90)&&e.preventDefault(),!this.props.disabled)){if(r)if([P.space,P.enter,P.up,P.down].indexOf(e.which)>-1)this.props.isOpen||this.toggle(e),setTimeout((function(){var e;return null===(e=t.getMenuItems()[0])||void 0===e?void 0:e.focus()}));else if(this.props.isOpen&&i){var s;e.preventDefault(),null===(s=this.getMenuItems()[0])||void 0===s||s.focus()}else this.props.isOpen&&e.which===P.esc&&this.toggle(e);if(this.props.isOpen&&n)if([P.tab,P.esc].indexOf(e.which)>-1)this.toggle(e),this.getMenuCtrl().focus();else if([P.space,P.enter].indexOf(e.which)>-1)e.target.click(),this.getMenuCtrl().focus();else if([P.down,P.up].indexOf(e.which)>-1||[P.n,P.p].indexOf(e.which)>-1&&e.ctrlKey){var o=this.getMenuItems(),a=o.indexOf(e.target);P.up===e.which||P.p===e.which&&e.ctrlKey?a=0!==a?a-1:o.length-1:(P.down===e.which||P.n===e.which&&e.ctrlKey)&&(a=a===o.length-1?0:a+1),o[a].focus()}else if(P.end===e.which){var c=this.getMenuItems();c[c.length-1].focus()}else if(P.home===e.which)this.getMenuItems()[0].focus();else if(e.which>=48&&e.which<=90)for(var l=this.getMenuItems(),u=String.fromCharCode(e.which).toLowerCase(),h=0;h<l.length;h+=1)if((l[h].textContent&&l[h].textContent[0].toLowerCase())===u){l[h].focus();break}}}},{key:"handleProps",value:function(){this.props.isOpen?this.addEvents():this.removeEvents()}},{key:"getContextValue",value:function(){return{toggle:this.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar,disabled:this.props.disabled,onMenuRef:this.handleMenuRef,onToggleRef:this.handleToggleRef,menuRole:this.props.menuRole}}},{key:"getContainer",value:function(){return this.containerRef.current}},{key:"getMenu",value:function(){return this.menuRef.current}},{key:"getToggle",value:function(){return this.toggleRef.current}},{key:"getMenuCtrl",value:function(){return this._$menuCtrl||(this._$menuCtrl=this.getToggle()),this._$menuCtrl}},{key:"getItemType",value:function(){return"listbox"===this.props.menuRole?"option":"menuitem"}},{key:"getMenuItems",value:function(){var e=this.getMenu()||this.getContainer();return[].slice.call(e.querySelectorAll('[role="'.concat(this.getItemType(),'"]')))}},{key:"addEvents",value:function(){var e=this;["click","touchstart","keyup"].forEach((function(t){return document.addEventListener(t,e.handleDocumentClick,!0)}))}},{key:"removeEvents",value:function(){var e=this;["click","touchstart","keyup"].forEach((function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)}))}},{key:"toggle",value:function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)}},{key:"render",value:function(){var e,t=this,n=g(this.props,["toggle","disabled","inNavbar","a11y"]),r=n.className,s=n.cssModule,o=n.direction,a=n.isOpen,c=n.group,l=n.size,h=n.nav,d=n.setActiveFromChild,f=n.active,m=n.tag,v=(n.menuRole,xL(n,bL)),y=m||(h?"li":"div"),b=!1;d&&i.Children.map(this.props.children[1].props.children,(function(e){e&&e.props.active&&(b=!0)}));var w=p(u()(r,!(!h||!f)&&"active",!(!d||!b)&&"active",(_L(e={"btn-group":c},"btn-group-".concat(l),!!l),_L(e,"dropdown",!c),_L(e,"dropup","up"===o),_L(e,"dropstart","start"===o||"left"===o),_L(e,"dropend","end"===o||"right"===o),_L(e,"show",a),_L(e,"nav-item",h),e)),s);return this.context.insideInputGroup?i.createElement(mL.Provider,{value:this.getContextValue()},i.createElement(gL,null,i.Children.map(this.props.children,(function(e){return i.cloneElement(e,{onKeyDown:t.handleKeyDown})})))):i.createElement(mL.Provider,{value:this.getContextValue()},i.createElement(gL,null,i.createElement(y,wL({},v,_L({},"string"===typeof y?"ref":"innerRef",this.containerRef),{onKeyDown:this.handleKeyDown,className:w}))))}}],n&&EL(t.prototype,n),r&&EL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.Component);AL.propTypes=IL,AL.defaultProps={a11y:!0,isOpen:!1,direction:"down",nav:!1,active:!1,inNavbar:!1,setActiveFromChild:!1},AL.contextType=vL;const PL=AL;function NL(e){return NL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NL(e)}function RL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ML(){return ML=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ML.apply(this,arguments)}function LL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FL(e,t){return FL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},FL(e,t)}function jL(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=BL(e);if(t){var i=BL(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===NL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return UL(e)}(this,n)}}function UL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BL(e){return BL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},BL(e)}var zL=["defaultOpen"],VL=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FL(e,t)}(o,e);var t,n,r,s=jL(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=s.call(this,e)).state={isOpen:e.defaultOpen||!1},t.toggle=t.toggle.bind(UL(t)),t}return t=o,(n=[{key:"toggle",value:function(e){var t=this;this.setState((function(e){return{isOpen:!e.isOpen}}),(function(){t.props.onToggle&&t.props.onToggle(e,t.state.isOpen)}))}},{key:"render",value:function(){return i.createElement(PL,ML({isOpen:this.state.isOpen,toggle:this.toggle},g(this.props,zL)))}}])&&LL(t.prototype,n),r&&LL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.Component);VL.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RL(Object(n),!0).forEach((function(t){DL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultOpen:c().bool,onToggle:c().func},PL.propTypes);var WL=n(2391),HL=n.n(WL),qL=function(e){return Array.isArray(e)?e[0]:e},GL=function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},KL=function(e,t){if("function"===typeof e)return GL(e,t);null!=e&&(e.current=t)},YL=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},$L="undefined"!==typeof window&&window.document&&window.document.createElement?i.useLayoutEffect:i.useEffect;function QL(e){var t=e.children,n=e.innerRef,r=i.useContext(pL),s=i.useCallback((function(e){KL(n,e),GL(r,e)}),[n,r]);return i.useEffect((function(){return function(){return KL(n,null)}}),[]),i.useEffect((function(){HL()(Boolean(r),"`Reference` should not be used outside of a `Manager` component.")}),[r]),qL(t)({ref:s})}function XL(e){return XL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XL(e)}var JL=["className","color","cssModule","caret","split","nav","tag","innerRef"];function ZL(){return ZL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZL.apply(this,arguments)}function eF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nF(e,t){return nF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nF(e,t)}function rF(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sF(e);if(t){var i=sF(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===XL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return iF(e)}(this,n)}}function iF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sF(e){return sF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sF(e)}var oF={caret:c().bool,color:c().string,children:c().node,className:c().string,cssModule:c().object,disabled:c().bool,onClick:c().func,"aria-haspopup":c().bool,split:c().bool,tag:x,nav:c().bool,innerRef:c().oneOfType([c().object,c().string,c().func])},aF=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nF(e,t)}(o,e);var t,n,r,s=rF(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=s.call(this,e)).onClick=t.onClick.bind(iF(t)),t}return t=o,n=[{key:"onClick",value:function(e){this.props.disabled||this.context.disabled?e.preventDefault():(this.props.nav&&!this.props.tag&&e.preventDefault(),this.props.onClick&&this.props.onClick(e),this.context.toggle(e))}},{key:"getRole",value:function(){return this.context.menuRole||this.props["aria-haspopup"]}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.className,s=n.color,o=n.cssModule,a=n.caret,c=n.split,l=n.nav,h=n.tag,d=n.innerRef,f=eF(n,JL),g=f["aria-label"]||"Toggle Dropdown",m=p(u()(r,{"dropdown-toggle":a||c,"dropdown-toggle-split":c,"nav-link":l}),o),v="undefined"!==typeof f.children?f.children:i.createElement("span",{className:"visually-hidden"},g);return l&&!h?(e="a",f.href="#"):h?e=h:(e=kn,f.color=s,f.cssModule=o),this.context.inNavbar?i.createElement(e,ZL({},f,{className:m,onClick:this.onClick,ref:this.context.onToggleRef,"aria-expanded":this.context.isOpen,"aria-haspopup":this.getRole(),children:v})):i.createElement(QL,{innerRef:d},(function(n){var r,s,o,a=n.ref;return i.createElement(e,ZL({},f,(o=function(e){a(e);var n=t.context.onToggleRef;n&&n(e)},(s="string"===typeof e?"ref":"innerRef")in(r={})?Object.defineProperty(r,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[s]=o,r),{className:m,onClick:t.onClick,"aria-expanded":t.context.isOpen,"aria-haspopup":t.getRole(),children:v}))}))}}],n&&tF(t.prototype,n),r&&tF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.Component);aF.propTypes=oF,aF.defaultProps={color:"secondary","aria-haspopup":!0},aF.contextType=mL;const cF=aF;function lF(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function uF(e){return e instanceof lF(e).Element||e instanceof Element}function hF(e){return e instanceof lF(e).HTMLElement||e instanceof HTMLElement}function dF(e){return"undefined"!==typeof ShadowRoot&&(e instanceof lF(e).ShadowRoot||e instanceof ShadowRoot)}var fF=Math.max,pF=Math.min,gF=Math.round;function mF(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function vF(){return!/^((?!chrome|android).)*safari/i.test(mF())}function yF(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&hF(e)&&(i=e.offsetWidth>0&&gF(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&gF(r.height)/e.offsetHeight||1);var o=(uF(e)?lF(e):window).visualViewport,a=!vF()&&n,c=(r.left+(a&&o?o.offsetLeft:0))/i,l=(r.top+(a&&o?o.offsetTop:0))/s,u=r.width/i,h=r.height/s;return{width:u,height:h,top:l,right:c+u,bottom:l+h,left:c,x:c,y:l}}function bF(e){var t=lF(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function wF(e){return e?(e.nodeName||"").toLowerCase():null}function _F(e){return((uF(e)?e.ownerDocument:e.document)||window.document).documentElement}function xF(e){return yF(_F(e)).left+bF(e).scrollLeft}function EF(e){return lF(e).getComputedStyle(e)}function TF(e){var t=EF(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function SF(e,t,n){void 0===n&&(n=!1);var r=hF(t),i=hF(t)&&function(e){var t=e.getBoundingClientRect(),n=gF(t.width)/e.offsetWidth||1,r=gF(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=_F(t),o=yF(e,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==wF(t)||TF(s))&&(a=function(e){return e!==lF(e)&&hF(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:bF(e);var t}(t)),hF(t)?((c=yF(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=xF(s))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function kF(e){var t=yF(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function CF(e){return"html"===wF(e)?e:e.assignedSlot||e.parentNode||(dF(e)?e.host:null)||_F(e)}function IF(e){return["html","body","#document"].indexOf(wF(e))>=0?e.ownerDocument.body:hF(e)&&TF(e)?e:IF(CF(e))}function OF(e,t){var n;void 0===t&&(t=[]);var r=IF(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),s=lF(r),o=i?[s].concat(s.visualViewport||[],TF(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(OF(CF(o)))}function AF(e){return["table","td","th"].indexOf(wF(e))>=0}function PF(e){return hF(e)&&"fixed"!==EF(e).position?e.offsetParent:null}function NF(e){for(var t=lF(e),n=PF(e);n&&AF(n)&&"static"===EF(n).position;)n=PF(n);return n&&("html"===wF(n)||"body"===wF(n)&&"static"===EF(n).position)?t:n||function(e){var t=/firefox/i.test(mF());if(/Trident/i.test(mF())&&hF(e)&&"fixed"===EF(e).position)return null;var n=CF(e);for(dF(n)&&(n=n.host);hF(n)&&["html","body"].indexOf(wF(n))<0;){var r=EF(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var RF="top",DF="bottom",MF="right",LF="left",FF="auto",jF=[RF,DF,MF,LF],UF="start",BF="end",zF="clippingParents",VF="viewport",WF="popper",HF="reference",qF=jF.reduce((function(e,t){return e.concat([t+"-"+UF,t+"-"+BF])}),[]),GF=[].concat(jF,[FF]).reduce((function(e,t){return e.concat([t,t+"-"+UF,t+"-"+BF])}),[]),KF=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function YF(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function $F(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var QF={placement:"bottom",modifiers:[],strategy:"absolute"};function XF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function JF(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,s=void 0===i?QF:i;return function(e,t,n){void 0===n&&(n=s);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},QF,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],a=!1,c={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},s,i.options,a),i.scrollParents={reference:uF(e)?OF(e):e.contextElement?OF(e.contextElement):[],popper:OF(t)};var u=function(e){var t=YF(e);return KF.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"===typeof s){var a=s({state:i,name:t,instance:c,options:r}),l=function(){};o.push(a||l)}})),c.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(XF(t,n)){i.rects={reference:SF(t,NF(n),"fixed"===i.options.strategy),popper:kF(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var s=i.orderedModifiers[r],o=s.fn,l=s.options,u=void 0===l?{}:l,h=s.name;"function"===typeof o&&(i=o({state:i,options:u,name:h,instance:c})||i)}else i.reset=!1,r=-1}}},update:$F((function(){return new Promise((function(e){c.forceUpdate(),e(i)}))})),destroy:function(){l(),a=!0}};if(!XF(e,t))return c;function l(){o.forEach((function(e){return e()})),o=[]}return c.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var ZF={passive:!0};const ej={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=void 0===i||i,o=r.resize,a=void 0===o||o,c=lF(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&l.forEach((function(e){e.addEventListener("scroll",n.update,ZF)})),a&&c.addEventListener("resize",n.update,ZF),function(){s&&l.forEach((function(e){e.removeEventListener("scroll",n.update,ZF)})),a&&c.removeEventListener("resize",n.update,ZF)}},data:{}};function tj(e){return e.split("-")[0]}function nj(e){return e.split("-")[1]}function rj(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ij(e){var t,n=e.reference,r=e.element,i=e.placement,s=i?tj(i):null,o=i?nj(i):null,a=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(s){case RF:t={x:a,y:n.y-r.height};break;case DF:t={x:a,y:n.y+n.height};break;case MF:t={x:n.x+n.width,y:c};break;case LF:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=s?rj(s):null;if(null!=l){var u="y"===l?"height":"width";switch(o){case UF:t[l]=t[l]-(n[u]/2-r[u]/2);break;case BF:t[l]=t[l]+(n[u]/2-r[u]/2)}}return t}var sj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oj(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,h=e.isFixed,d=o.x,f=void 0===d?0:d,p=o.y,g=void 0===p?0:p,m="function"===typeof u?u({x:f,y:g}):{x:f,y:g};f=m.x,g=m.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=LF,w=RF,_=window;if(l){var x=NF(n),E="clientHeight",T="clientWidth";if(x===lF(n)&&"static"!==EF(x=_F(n)).position&&"absolute"===a&&(E="scrollHeight",T="scrollWidth"),i===RF||(i===LF||i===MF)&&s===BF)w=DF,g-=(h&&x===_&&_.visualViewport?_.visualViewport.height:x[E])-r.height,g*=c?1:-1;if(i===LF||(i===RF||i===DF)&&s===BF)b=MF,f-=(h&&x===_&&_.visualViewport?_.visualViewport.width:x[T])-r.width,f*=c?1:-1}var S,k=Object.assign({position:a},l&&sj),C=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:gF(n*i)/i||0,y:gF(r*i)/i||0}}({x:f,y:g},lF(n)):{x:f,y:g};return f=C.x,g=C.y,c?Object.assign({},k,((S={})[w]=y?"0":"",S[b]=v?"0":"",S.transform=(_.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",S)):Object.assign({},k,((t={})[w]=y?g+"px":"",t[b]=v?f+"px":"",t.transform="",t))}const aj={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=void 0===i?[0,0]:i,o=GF.reduce((function(e,n){return e[n]=function(e,t,n){var r=tj(e),i=[LF,RF].indexOf(r)>=0?-1:1,s="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[LF,MF].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}(n,t.rects,s),e}),{}),a=o[t.placement],c=a.x,l=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=o}};var cj={left:"right",right:"left",bottom:"top",top:"bottom"};function lj(e){return e.replace(/left|right|bottom|top/g,(function(e){return cj[e]}))}var uj={start:"end",end:"start"};function hj(e){return e.replace(/start|end/g,(function(e){return uj[e]}))}function dj(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&dF(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function fj(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function pj(e,t,n){return t===VF?fj(function(e,t){var n=lF(e),r=_F(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;var l=vF();(l||!l&&"fixed"===t)&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a+xF(e),y:c}}(e,n)):uF(t)?function(e,t){var n=yF(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):fj(function(e){var t,n=_F(e),r=bF(e),i=null==(t=e.ownerDocument)?void 0:t.body,s=fF(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=fF(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+xF(e),c=-r.scrollTop;return"rtl"===EF(i||n).direction&&(a+=fF(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:c}}(_F(e)))}function gj(e,t,n,r){var i="clippingParents"===t?function(e){var t=OF(CF(e)),n=["absolute","fixed"].indexOf(EF(e).position)>=0&&hF(e)?NF(e):e;return uF(n)?t.filter((function(e){return uF(e)&&dj(e,n)&&"body"!==wF(e)})):[]}(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce((function(t,n){var i=pj(e,n,r);return t.top=fF(i.top,t.top),t.right=pF(i.right,t.right),t.bottom=pF(i.bottom,t.bottom),t.left=fF(i.left,t.left),t}),pj(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function mj(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function vj(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function yj(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,s=n.strategy,o=void 0===s?e.strategy:s,a=n.boundary,c=void 0===a?zF:a,l=n.rootBoundary,u=void 0===l?VF:l,h=n.elementContext,d=void 0===h?WF:h,f=n.altBoundary,p=void 0!==f&&f,g=n.padding,m=void 0===g?0:g,v=mj("number"!==typeof m?m:vj(m,jF)),y=d===WF?HF:WF,b=e.rects.popper,w=e.elements[p?y:d],_=gj(uF(w)?w:w.contextElement||_F(e.elements.popper),c,u,o),x=yF(e.elements.reference),E=ij({reference:x,element:b,strategy:"absolute",placement:i}),T=fj(Object.assign({},b,E)),S=d===WF?T:x,k={top:_.top-S.top+v.top,bottom:S.bottom-_.bottom+v.bottom,left:_.left-S.left+v.left,right:S.right-_.right+v.right},C=e.modifiersData.offset;if(d===WF&&C){var I=C[i];Object.keys(k).forEach((function(e){var t=[MF,DF].indexOf(e)>=0?1:-1,n=[RF,DF].indexOf(e)>=0?"y":"x";k[e]+=I[n]*t}))}return k}const bj={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=void 0===i||i,o=n.altAxis,a=void 0===o||o,c=n.fallbackPlacements,l=n.padding,u=n.boundary,h=n.rootBoundary,d=n.altBoundary,f=n.flipVariations,p=void 0===f||f,g=n.allowedAutoPlacements,m=t.options.placement,v=tj(m),y=c||(v===m||!p?[lj(m)]:function(e){if(tj(e)===FF)return[];var t=lj(e);return[hj(e),t,hj(t)]}(m)),b=[m].concat(y).reduce((function(e,n){return e.concat(tj(n)===FF?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?GF:c,u=nj(r),h=u?a?qF:qF.filter((function(e){return nj(e)===u})):jF,d=h.filter((function(e){return l.indexOf(e)>=0}));0===d.length&&(d=h);var f=d.reduce((function(t,n){return t[n]=yj(e,{placement:n,boundary:i,rootBoundary:s,padding:o})[tj(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:h,padding:l,flipVariations:p,allowedAutoPlacements:g}):n)}),[]),w=t.rects.reference,_=t.rects.popper,x=new Map,E=!0,T=b[0],S=0;S<b.length;S++){var k=b[S],C=tj(k),I=nj(k)===UF,O=[RF,DF].indexOf(C)>=0,A=O?"width":"height",P=yj(t,{placement:k,boundary:u,rootBoundary:h,altBoundary:d,padding:l}),N=O?I?MF:LF:I?DF:RF;w[A]>_[A]&&(N=lj(N));var R=lj(N),D=[];if(s&&D.push(P[C]<=0),a&&D.push(P[N]<=0,P[R]<=0),D.every((function(e){return e}))){T=k,E=!1;break}x.set(k,D)}if(E)for(var M=function(e){var t=b.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return T=t,"break"},L=p?3:1;L>0;L--){if("break"===M(L))break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function wj(e,t,n){return fF(e,pF(t,n))}const _j={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=void 0===i||i,o=n.altAxis,a=void 0!==o&&o,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,h=n.padding,d=n.tether,f=void 0===d||d,p=n.tetherOffset,g=void 0===p?0:p,m=yj(t,{boundary:c,rootBoundary:l,padding:h,altBoundary:u}),v=tj(t.placement),y=nj(t.placement),b=!y,w=rj(v),_="x"===w?"y":"x",x=t.modifiersData.popperOffsets,E=t.rects.reference,T=t.rects.popper,S="function"===typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,k="number"===typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(x){if(s){var O,A="y"===w?RF:LF,P="y"===w?DF:MF,N="y"===w?"height":"width",R=x[w],D=R+m[A],M=R-m[P],L=f?-T[N]/2:0,F=y===UF?E[N]:T[N],j=y===UF?-T[N]:-E[N],U=t.elements.arrow,B=f&&U?kF(U):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=z[A],W=z[P],H=wj(0,E[N],B[N]),q=b?E[N]/2-L-H-V-k.mainAxis:F-H-V-k.mainAxis,G=b?-E[N]/2+L+H+W+k.mainAxis:j+H+W+k.mainAxis,K=t.elements.arrow&&NF(t.elements.arrow),Y=K?"y"===w?K.clientTop||0:K.clientLeft||0:0,$=null!=(O=null==C?void 0:C[w])?O:0,Q=R+G-$,X=wj(f?pF(D,R+q-$-Y):D,R,f?fF(M,Q):M);x[w]=X,I[w]=X-R}if(a){var J,Z="x"===w?RF:LF,ee="x"===w?DF:MF,te=x[_],ne="y"===_?"height":"width",re=te+m[Z],ie=te-m[ee],se=-1!==[RF,LF].indexOf(v),oe=null!=(J=null==C?void 0:C[_])?J:0,ae=se?re:te-E[ne]-T[ne]-oe+k.altAxis,ce=se?te+E[ne]+T[ne]-oe-k.altAxis:ie,le=f&&se?function(e,t,n){var r=wj(e,t,n);return r>n?n:r}(ae,te,ce):wj(f?ae:re,te,f?ce:ie);x[_]=le,I[_]=le-te}t.modifiersData[r]=I}},requiresIfExists:["offset"]};const xj={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=tj(n.placement),c=rj(a),l=[LF,MF].indexOf(a)>=0?"height":"width";if(s&&o){var u=function(e,t){return mj("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:vj(e,jF))}(i.padding,n),h=kF(s),d="y"===c?RF:LF,f="y"===c?DF:MF,p=n.rects.reference[l]+n.rects.reference[c]-o[c]-n.rects.popper[l],g=o[c]-n.rects.reference[c],m=NF(s),v=m?"y"===c?m.clientHeight||0:m.clientWidth||0:0,y=p/2-g/2,b=u[d],w=v-h[l]-u[f],_=v/2-h[l]/2+y,x=wj(b,_,w),E=c;n.modifiersData[r]=((t={})[E]=x,t.centerOffset=x-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&dj(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ej(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Tj(e){return[RF,MF,DF,LF].some((function(t){return e[t]>=0}))}var Sj=JF({defaultModifiers:[ej,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ij({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,s=n.adaptive,o=void 0===s||s,a=n.roundOffsets,c=void 0===a||a,l={placement:tj(t.placement),variation:nj(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,oj(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,oj(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];hF(i)&&wF(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});hF(r)&&wF(r)&&(Object.assign(r.style,s),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},aj,bj,_j,xj,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=yj(t,{elementContext:"reference"}),a=yj(t,{altBoundary:!0}),c=Ej(o,r),l=Ej(a,i,s),u=Tj(c),h=Tj(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]}),kj=n(77),Cj=n.n(kj),Ij=[],Oj=function(){},Aj=function(){return Promise.resolve(null)},Pj=[];function Nj(e){var t=e.placement,n=void 0===t?"bottom":t,r=e.strategy,s=void 0===r?"absolute":r,o=e.modifiers,a=void 0===o?Pj:o,c=e.referenceElement,l=e.onFirstUpdate,u=e.innerRef,h=e.children,d=i.useContext(fL),f=i.useState(null),p=f[0],g=f[1],m=i.useState(null),v=m[0],y=m[1];i.useEffect((function(){KL(u,p)}),[u,p]);var b=i.useMemo((function(){return{placement:n,strategy:s,onFirstUpdate:l,modifiers:[].concat(a,[{name:"arrow",enabled:null!=v,options:{element:v}}])}}),[n,s,l,a,v]),w=function(e,t,n){void 0===n&&(n={});var r=i.useRef(null),s={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Ij},o=i.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=o[0],c=o[1],l=i.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);We.flushSync((function(){c({styles:YL(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:YL(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),u=i.useMemo((function(){var e={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[l,{name:"applyStyles",enabled:!1}])};return Cj()(r.current,e)?r.current||e:(r.current=e,e)}),[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,l]),h=i.useRef();return $L((function(){h.current&&h.current.setOptions(u)}),[u]),$L((function(){if(null!=e&&null!=t){var r=(n.createPopper||Sj)(e,t,u);return h.current=r,function(){r.destroy(),h.current=null}}}),[e,t,n.createPopper]),{state:h.current?h.current.state:null,styles:a.styles,attributes:a.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}}(c||d,p,b),_=w.state,x=w.styles,E=w.forceUpdate,T=w.update,S=i.useMemo((function(){return{ref:g,style:x.popper,placement:_?_.placement:n,hasPopperEscaped:_&&_.modifiersData.hide?_.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:_&&_.modifiersData.hide?_.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:x.arrow,ref:y},forceUpdate:E||Oj,update:T||Aj}}),[g,y,n,_,x,T,E]);return qL(h)(S)}function Rj(e){return Rj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rj(e)}var Dj=["className","cssModule","dark","end","right","tag","flip","modifiers","persist","strategy","container","updateOnSelect"];function Mj(){return Mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mj.apply(this,arguments)}function Lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lj(Object(n),!0).forEach((function(t){jj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uj(e){return function(e){if(Array.isArray(e))return Bj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Bj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wj(e,t){return Wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wj(e,t)}function Hj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qj(e);if(t){var i=qj(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Rj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function qj(e){return qj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qj(e)}var Gj={tag:x,children:c().node.isRequired,dark:c().bool,end:c().bool,flip:c().bool,modifiers:c().array,className:c().string,cssModule:c().object,style:c().object,persist:c().bool,strategy:c().string,container:_,updateOnSelect:c().bool,right:b(c().bool,'Please use "end" instead.')},Kj={up:"top",left:"left",right:"right",start:"left",end:"right",down:"bottom"},Yj=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wj(e,t)}(o,e);var t,n,r,s=Hj(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),s.apply(this,arguments)}return t=o,n=[{key:"getRole",value:function(){return"listbox"===this.context.menuRole?"listbox":"menu"}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.cssModule,s=t.dark,o=t.end,a=t.right,c=t.tag,l=void 0===c?"div":c,h=t.flip,d=void 0===h||h,f=t.modifiers,g=void 0===f?[]:f,m=t.persist,v=t.strategy,y=t.container,b=t.updateOnSelect,w=zj(t,Dj),_=p(u()(n,"dropdown-menu",{"dropdown-menu-dark":s,"dropdown-menu-end":o||a,show:this.context.isOpen}),r),x=l;if(m||this.context.isOpen&&!this.context.inNavbar){var E=Kj[this.context.direction]||"bottom",T=o||a?"end":"start",S="".concat(E,"-").concat(T),k=[].concat(Uj(g),[{name:"flip",enabled:!!d}]),C={};m&&(C.display="block",C.visibility=this.context.isOpen?"visible":"hidden");var I=i.createElement(Nj,{placement:S,modifiers:k,strategy:v},(function(t){var n=t.ref,r=t.style,s=t.placement,o=t.update,a=Fj(Fj(Fj({},e.props.style),C),r);return i.createElement(x,Mj({tabIndex:"-1",role:e.getRole(),ref:function(t){n(t);var r=e.context.onMenuRef;r&&r(t)}},w,{style:a,"aria-hidden":!e.context.isOpen,className:_,"data-popper-placement":s,onClick:function(){return b&&o()}}))}));return y?We.createPortal(I,F(y)):I}var O=this.context.onMenuRef;return i.createElement(x,Mj({tabIndex:"-1",role:this.getRole()},w,{ref:O,"aria-hidden":!this.context.isOpen,className:_,"data-popper-placement":w.placement,"data-bs-popper":"static"}))}}],n&&Vj(t.prototype,n),r&&Vj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.Component);Yj.propTypes=Gj,Yj.contextType=mL;const $j=Yj;function Qj(e){return Qj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qj(e)}var Xj=["className","cssModule","divider","tag","header","active","text"];function Jj(){return Jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jj.apply(this,arguments)}function Zj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tU(e,t){return tU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tU(e,t)}function nU(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=iU(e);if(t){var i=iU(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Qj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rU(e)}(this,n)}}function rU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iU(e){return iU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iU(e)}var sU={children:c().node,active:c().bool,disabled:c().bool,divider:c().bool,tag:x,header:c().bool,onClick:c().func,className:c().string,cssModule:c().object,toggle:c().bool,text:c().bool},oU=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tU(e,t)}(o,e);var t,n,r,s=nU(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=s.call(this,e)).onClick=t.onClick.bind(rU(t)),t.getTabIndex=t.getTabIndex.bind(rU(t)),t}return t=o,(n=[{key:"onClick",value:function(e){var t,n=this.props,r=n.disabled,i=n.header,s=n.divider,o=n.text;r||i||s||o?e.preventDefault():(this.props.onClick&&this.props.onClick(e),(null===(t=this.props.toggle)||void 0===t||t)&&this.context.toggle(e))}},{key:"getRole",value:function(){return"listbox"===this.context.menuRole?"option":"menuitem"}},{key:"getTabIndex",value:function(){var e=this.props,t=e.disabled,n=e.header,r=e.divider,i=e.text;return t||n||r||i?"-1":"0"}},{key:"render",value:function(){var e=this.getTabIndex(),t=e>-1?this.getRole():void 0,n=g(this.props,["toggle"]),r=n.className,s=n.cssModule,o=n.divider,a=n.tag,c=void 0===a?"button":a,l=n.header,h=n.active,d=n.text,f=Zj(n,Xj),m=p(u()(r,{disabled:f.disabled,"dropdown-item":!o&&!l&&!d,active:h,"dropdown-header":l,"dropdown-divider":o,"dropdown-item-text":d}),s);return"button"===c&&(l?c="h6":o?c="div":f.href?c="a":d&&(c="span")),i.createElement(c,Jj({type:"button"===c&&(f.onClick||this.props.toggle)?"button":void 0},f,{tabIndex:e,role:t,className:m,onClick:this.onClick}))}}])&&eU(t.prototype,n),r&&eU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.Component);oU.propTypes=sU,oU.contextType=mL;const aU=oU;function cU(){const[e,t]=i.useState(!1),[n,r]=i.useState(""),[s,o]=i.useState("navbar-transparent"),{logout:a}=HR(),{currentUser:c}=(0,i.useContext)(WR);i.useEffect((()=>(window.addEventListener("scroll",l),function(){window.removeEventListener("scroll",l)})),[]);const l=()=>{document.documentElement.scrollTop>99||document.body.scrollTop>99?o("bg-info"):(document.documentElement.scrollTop<100||document.body.scrollTop<100)&&o("navbar-transparent")},u=()=>{document.documentElement.classList.toggle("nav-open"),t(!e)};return(0,VR.jsx)(yM,{className:"fixed-top "+s,"color-on-scroll":"100",expand:"lg",children:(0,VR.jsxs)(H,{children:[(0,VR.jsxs)("div",{className:"navbar-translate",children:[(0,VR.jsx)(TM,{to:"/",tag:cM,id:"navbar-brand",children:(0,VR.jsx)("span",{style:{fontWeight:"bold",fontSize:"1.5rem"},children:"Array\xe1n"})}),(0,VR.jsxs)("button",{"aria-expanded":e,className:"navbar-toggler navbar-toggler",onClick:u,children:[(0,VR.jsx)("span",{className:"navbar-toggler-bar bar1"}),(0,VR.jsx)("span",{className:"navbar-toggler-bar bar2"}),(0,VR.jsx)("span",{className:"navbar-toggler-bar bar3"})]})]}),(0,VR.jsxs)(VM,{className:"justify-content-end "+n,navbar:!0,isOpen:e,onExiting:()=>{r("collapsing-out")},onExited:()=>{r("")},children:[(0,VR.jsx)("div",{className:"navbar-collapse-header",children:(0,VR.jsxs)(Z,{children:[(0,VR.jsx)(ue,{className:"collapse-brand",xs:"6",children:(0,VR.jsx)("a",{href:"#pablo",onClick:e=>e.preventDefault(),children:"Array\xe1n"})}),(0,VR.jsx)(ue,{className:"collapse-close text-right",xs:"6",children:(0,VR.jsx)("button",{"aria-expanded":e,className:"navbar-toggler",onClick:u,children:(0,VR.jsx)("i",{className:"tim-icons icon-simple-remove"})})})]})}),(0,VR.jsxs)(YM,{navbar:!0,children:[(0,VR.jsx)(eL,{className:"p-0",children:(0,VR.jsxs)(dL,{"data-placement":"bottom",tag:cM,to:"/track",children:[(0,VR.jsx)("i",{className:"tim-icons icon-zoom-split"}),(0,VR.jsx)("p",{className:"font-weight-bold",children:"Search"})]})}),(0,VR.jsx)(eL,{className:"p-0",children:(0,VR.jsxs)(dL,{"data-placement":"bottom",tag:cM,to:"/inventory",children:[(0,VR.jsx)("i",{className:"tim-icons icon-single-02"}),(0,VR.jsx)("p",{className:"font-weight-bold",children:"My Inventory"})]})}),null==c?(0,VR.jsxs)(VL,{nav:!0,children:[(0,VR.jsxs)(cF,{caret:!0,color:"default","data-toggle":"dropdown",href:"#pablo",nav:!0,onClick:e=>e.preventDefault(),children:[(0,VR.jsx)("i",{className:"fa fa-cogs d-lg-none d-xl-none"}),"Getting started"]}),(0,VR.jsxs)($j,{className:"dropdown-with-icons",style:{backgroundColor:"#171941"},children:[(0,VR.jsxs)(aU,{tag:cM,to:"/login",children:[(0,VR.jsx)("i",{className:"tim-icons icon-badge"}),"Login"]}),(0,VR.jsxs)(aU,{tag:cM,to:"/register",children:[(0,VR.jsx)("i",{className:"tim-icons icon-bullet-list-67"}),"Register"]})]})]}):(0,VR.jsx)(eL,{children:(0,VR.jsxs)(kn,{className:"nav-link d-none d-lg-block",color:"default",onClick:async()=>await a(),"data-placement":"bottom",children:[(0,VR.jsx)("i",{className:"tim-icons icon-button-power"})," Logout"]})})]})]})]})})}const lU=()=>(0,VR.jsxs)(qR,{children:[(0,VR.jsx)(cU,{}),(0,VR.jsx)(hM,{})]});function uU(){return(0,VR.jsx)("footer",{className:"footer",children:(0,VR.jsx)(H,{children:(0,VR.jsxs)(Z,{children:[(0,VR.jsxs)(ue,{children:[(0,VR.jsx)("h3",{className:"title",children:"Visit Our Repository:"}),(0,VR.jsx)("div",{className:"btn-wrapper profile",children:(0,VR.jsx)(kn,{className:"btn-icon btn-neutral btn-round btn-simple",color:"default",href:"https://github.com/Amoolya-Reddy/arrayan",id:"tooltip622135962",target:"_blank",children:(0,VR.jsx)("i",{className:"fab fa-github"})})})]}),(0,VR.jsx)(ue,{className:"text-center",children:(0,VR.jsx)("p",{style:{marginTop:"20%"},children:"Built on ResilientDB"})}),(0,VR.jsx)(ue,{className:"text-center",children:(0,VR.jsx)("p",{style:{marginTop:"20%"},children:"\xa9 2023 Array\xe1n. All Rights Reserved."})})]})})})}const hU=async(e,t,n)=>{try{const r=qP.batch();Object.entries(t).forEach((e=>{let[t,n]=e;if(!Array.isArray(n))return void console.warn("Expected transactionIds to be an array, but got ".concat(typeof n));const i=qP.collection("products").doc(t);r.set(i,{productName:t,txnIds:GP.arrayUnion(...n)},{merge:!0})}));const i=Object.values(t).flat(),s=qP.collection("userTransactions").doc(e);r.set(s,{signerPublicKey:e,txnIds:GP.arrayUnion(...i)},{merge:!0}),Object.entries(n).forEach((e=>{let[t,{txnCount:n,products:i}]=e;const s=qP.collection("transactionMetadata").doc(t);r.set(s,{year:parseInt(t.split("-")[0],10),month:parseInt(t.split("-")[1],10),txnCount:GP.increment(n),productCount:GP.increment(i.size)},{merge:!0})})),await r.commit(),console.log("All transactions saved successfully to Firestore.")}catch(iu){console.error("Error saving transactions to Firestore:",iu)}},dU=async e=>{const t=qP.collection("userTransactions").doc(e);try{const e=await t.get();return e.exists?e.data().txnIds||[]:(console.error("No such document!"),[])}catch(iu){}};var fU=n(5987),pU=n(4572);function gU(e){return e+.5|0}const mU=(e,t,n)=>Math.max(Math.min(e,n),t);function vU(e){return mU(gU(2.55*e),0,255)}function yU(e){return mU(gU(255*e),0,255)}function bU(e){return mU(gU(e/2.55)/100,0,1)}function wU(e){return mU(gU(100*e),0,100)}const _U={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xU=[..."0123456789ABCDEF"],EU=e=>xU[15&e],TU=e=>xU[(240&e)>>4]+xU[15&e],SU=e=>(240&e)>>4===(15&e);function kU(e){var t=(e=>SU(e.r)&&SU(e.g)&&SU(e.b)&&SU(e.a))(e)?EU:TU;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const CU=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function IU(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function OU(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function AU(e,t,n){const r=IU(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function PU(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=(i+s)/2;let a,c,l;return i!==s&&(l=i-s,c=o>.5?l/(2-i-s):l/(i+s),a=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,l,i),a=60*a+.5),[0|a,c||0,o]}function NU(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(yU)}function RU(e,t,n){return NU(IU,e,t,n)}function DU(e){return(e%360+360)%360}function MU(e){const t=CU.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?vU(+t[5]):yU(+t[5]));const i=DU(+t[2]),s=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return NU(AU,e,t,n)}(i,s,o):"hsv"===t[1]?function(e,t,n){return NU(OU,e,t,n)}(i,s,o):RU(i,s,o),{r:n[0],g:n[1],b:n[2],a:r}}const LU={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},FU={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let jU;function UU(e){jU||(jU=function(){const e={},t=Object.keys(FU),n=Object.keys(LU);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,LU[s]);s=parseInt(FU[o],16),e[a]=[s>>16&255,s>>8&255,255&s]}return e}(),jU.transparent=[0,0,0,0]);const t=jU[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const BU=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const zU=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,VU=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function WU(e,t,n){if(e){let r=PU(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=RU(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function HU(e,t){return e?Object.assign(t||{},e):e}function qU(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=yU(e[3]))):(t=HU(e,{r:0,g:0,b:0,a:1})).a=yU(t.a),t}function GU(e){return"r"===e.charAt(0)?function(e){const t=BU.exec(e);let n,r,i,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?vU(e):mU(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?vU(n):mU(n,0,255)),r=255&(t[4]?vU(r):mU(r,0,255)),i=255&(t[6]?vU(i):mU(i,0,255)),{r:n,g:r,b:i,a:s}}}(e):MU(e)}class KU{constructor(e){if(e instanceof KU)return e;const t=typeof e;let n;"object"===t?n=qU(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*_U[e[1]],g:255&17*_U[e[2]],b:255&17*_U[e[3]],a:5===n?17*_U[e[4]]:255}:7!==n&&9!==n||(t={r:_U[e[1]]<<4|_U[e[2]],g:_U[e[3]]<<4|_U[e[4]],b:_U[e[5]]<<4|_U[e[6]],a:9===n?_U[e[7]]<<4|_U[e[8]]:255})),t}(e)||UU(e)||GU(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=HU(this._rgb);return e&&(e.a=bU(e.a)),e}set rgb(e){this._rgb=qU(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(bU(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?kU(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=PU(e),n=t[0],r=wU(t[1]),i=wU(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(bU(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const s=t===i?.5:t,o=2*s-1,a=n.a-r.a,c=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;i=1-c,n.r=255&c*n.r+i*r.r+.5,n.g=255&c*n.g+i*r.g+.5,n.b=255&c*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=VU(bU(e.r)),i=VU(bU(e.g)),s=VU(bU(e.b));return{r:yU(zU(r+n*(VU(bU(t.r))-r))),g:yU(zU(i+n*(VU(bU(t.g))-i))),b:yU(zU(s+n*(VU(bU(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new KU(this.rgb)}alpha(e){return this._rgb.a=yU(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=gU(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return WU(this._rgb,2,e),this}darken(e){return WU(this._rgb,2,-e),this}saturate(e){return WU(this._rgb,1,e),this}desaturate(e){return WU(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=PU(e);n[0]=DU(n[0]+t),n=RU(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function YU(){}const $U=(()=>{let e=0;return()=>e++})();function QU(e){return null===e||"undefined"===typeof e}function XU(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function JU(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function ZU(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function eB(e,t){return ZU(e)?e:t}function tB(e,t){return"undefined"===typeof e?t:e}const nB=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function rB(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function iB(e,t,n,r){let i,s,o;if(XU(e))if(s=e.length,r)for(i=s-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<s;i++)t.call(n,e[i],i);else if(JU(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function sB(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function oB(e){if(XU(e))return e.map(oB);if(JU(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=oB(e[n[i]]);return t}return e}function aB(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function cB(e,t,n,r){if(!aB(e))return;const i=t[e],s=n[e];JU(i)&&JU(s)?lB(i,s,r):t[e]=oB(s)}function lB(e,t,n){const r=XU(t)?t:[t],i=r.length;if(!JU(e))return e;const s=(n=n||{}).merger||cB;let o;for(let a=0;a<i;++a){if(o=r[a],!JU(o))continue;const t=Object.keys(o);for(let r=0,i=t.length;r<i;++r)s(t[r],e,o,n)}return e}function uB(e,t){return lB(e,t,{merger:hB})}function hB(e,t,n){if(!aB(e))return;const r=t[e],i=n[e];JU(r)&&JU(i)?uB(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=oB(i))}const dB={"":e=>e,x:e=>e.x,y:e=>e.y};function fB(e,t){const n=dB[t]||(dB[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function pB(e){return e.charAt(0).toUpperCase()+e.slice(1)}const gB=e=>"undefined"!==typeof e,mB=e=>"function"===typeof e,vB=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const yB=Math.PI,bB=2*yB,wB=bB+yB,_B=Number.POSITIVE_INFINITY,xB=yB/180,EB=yB/2,TB=yB/4,SB=2*yB/3,kB=Math.log10,CB=Math.sign;function IB(e,t,n){return Math.abs(e-t)<n}function OB(e){const t=Math.round(e);e=IB(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(kB(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function AB(e){return!isNaN(parseFloat(e))&&isFinite(e)}function PB(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function NB(e){return e*(yB/180)}function RB(e){return e*(180/yB)}function DB(e){if(!ZU(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function MB(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*yB&&(s+=bB),{angle:s,distance:i}}function LB(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function FB(e,t){return(e-t+wB)%bB-yB}function jB(e){return(e%bB+bB)%bB}function UB(e,t,n,r){const i=jB(e),s=jB(t),o=jB(n),a=jB(s-i),c=jB(o-i),l=jB(i-s),u=jB(i-o);return i===s||i===o||r&&s===o||a>c&&l<u}function BB(e,t,n){return Math.max(t,Math.min(n,e))}function zB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function VB(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const WB=(e,t,n,r)=>VB(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),HB=(e,t,n)=>VB(e,n,(r=>e[r][t]>=n));const qB=["push","pop","shift","splice","unshift"];function GB(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(qB.forEach((t=>{delete e[t]})),delete e._chartjs)}function KB(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const YB="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function $B(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];n=s,r||(r=!0,YB.call(window,(()=>{r=!1,e.apply(t,n)})))}}const QB=e=>"start"===e?"left":"end"===e?"right":"center",XB=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function JB(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,_parsed:a}=e,c=o.axis,{min:l,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(i=BB(Math.min(WB(a,c,l).lo,n?r:WB(t,c,o.getPixelForValue(l)).lo),0,r-1)),s=d?BB(Math.max(WB(a,o.axis,u,!0).hi+1,n?0:WB(t,c,o.getPixelForValue(u),!0).hi+1),i,r)-i:r-i}return{start:i,count:s}}function ZB(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const ez=e=>0===e||1===e,tz=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*bB/n),nz=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*bB/n)+1,rz={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*EB),easeOutSine:e=>Math.sin(e*EB),easeInOutSine:e=>-.5*(Math.cos(yB*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>ez(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ez(e)?e:tz(e,.075,.3),easeOutElastic:e=>ez(e)?e:nz(e,.075,.3),easeInOutElastic(e){const t=.1125;return ez(e)?e:e<.5?.5*tz(2*e,t,.45):.5+.5*nz(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-rz.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*rz.easeInBounce(2*e):.5*rz.easeOutBounce(2*e-1)+.5};function iz(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function sz(e){return iz(e)?e:new KU(e)}function oz(e){return iz(e)?e:new KU(e).saturate(.5).darken(.1).hexString()}const az=["x","y","borderWidth","radius","tension"],cz=["color","borderColor","backgroundColor"];const lz=new Map;function uz(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=lz.get(n);return r||(r=new Intl.NumberFormat(e,t),lz.set(n,r)),r}(t,n).format(e)}const hz={values:e=>XU(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=kB(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),uz(e,r,c)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(kB(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?hz.numeric.call(this,e,t,n):""}};var dz={formatters:hz};const fz=Object.create(null),pz=Object.create(null);function gz(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function mz(e,t,n){return"string"===typeof t?lB(gz(e,t),n):lB(gz(e,""),t)}class vz{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>oz(t.backgroundColor),this.hoverBorderColor=(e,t)=>oz(t.borderColor),this.hoverColor=(e,t)=>oz(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return mz(this,e,t)}get(e){return gz(this,e)}describe(e,t){return mz(pz,e,t)}override(e,t){return mz(fz,e,t)}route(e,t,n,r){const i=gz(this,e),s=gz(this,n),o="_"+t;Object.defineProperties(i,{[o]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=s[r];return JU(e)?Object.assign({},t,e):tB(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var yz=new vz({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:cz},numbers:{type:"number",properties:az}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dz.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function bz(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function wz(e,t,n,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let o=0;const a=n.length;let c,l,u,h,d;for(c=0;c<a;c++)if(h=n[c],void 0===h||null===h||XU(h)){if(XU(h))for(l=0,u=h.length;l<u;l++)d=h[l],void 0===d||null===d||XU(d)||(o=bz(e,i,s,o,d))}else o=bz(e,i,s,o,h);e.restore();const f=s.length/2;if(f>n.length){for(c=0;c<f;c++)delete i[s[c]];s.splice(0,f)}return o}function _z(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function xz(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Ez(e,t,n,r){Tz(e,t,n,r,null)}function Tz(e,t,n,r,i){let s,o,a,c,l,u,h,d;const f=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*xB;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,r),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,g,0,0,bB):e.arc(n,r,g,0,bB),e.closePath();break;case"triangle":u=i?i/2:g,e.moveTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=SB,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=SB,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),e.closePath();break;case"rectRounded":l=.516*g,c=g-l,o=Math.cos(m+TB)*c,h=Math.cos(m+TB)*(i?i/2-l:c),a=Math.sin(m+TB)*c,d=Math.sin(m+TB)*(i?i/2-l:c),e.arc(n-h,r-a,l,m-yB,m-EB),e.arc(n+d,r-o,l,m-EB,m),e.arc(n+h,r+a,l,m,m+EB),e.arc(n-d,r+o,l,m+EB,m+yB),e.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*g,u=i?i/2:c,e.rect(n-u,r-c,2*u,2*c);break}m+=TB;case"rectRot":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-a),e.lineTo(n+d,r-o),e.lineTo(n+h,r+a),e.lineTo(n-d,r+o),e.closePath();break;case"crossRot":m+=TB;case"cross":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o);break;case"star":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o),m+=TB,h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o);break;case"line":o=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Sz(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function kz(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Cz(e){e.restore()}function Iz(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Oz(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Az(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,c=n-s.actualBoundingBoxAscent,l=n+s.actualBoundingBoxDescent,u=i.strikethrough?(c+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function Pz(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Nz(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=XU(t)?t:[t],a=s.strokeWidth>0&&""!==s.strokeColor;let c,l;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),QU(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),c=0;c<o.length;++c)l=o[c],s.backdrop&&Pz(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),QU(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(l,n,r,s.maxWidth)),e.fillText(l,n,r,s.maxWidth),Az(e,n,r,l,s),r+=Number(i.lineHeight);e.restore()}function Rz(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*yB,yB,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,yB,EB,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,EB,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-EB,!0),e.lineTo(n+o.topLeft,r)}const Dz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Mz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Lz(e,t){const n=(""+e).match(Dz);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const Fz=e=>+e||0;function jz(e,t){const n={},r=JU(t),i=r?Object.keys(t):t,s=JU(e)?r?n=>tB(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of i)n[o]=Fz(s(o));return n}function Uz(e){return jz(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Bz(e){return jz(e,["topLeft","topRight","bottomLeft","bottomRight"])}function zz(e){const t=Uz(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Vz(e,t){e=e||{},t=t||yz.font;let n=tB(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=tB(e.style,t.style);r&&!(""+r).match(Mz)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:tB(e.family,t.family),lineHeight:Lz(tB(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:tB(e.weight,t.weight),string:""};return i.string=function(e){return!e||QU(e.size)||QU(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function Wz(e,t,n,r){let i,s,o,a=!0;for(i=0,s=e.length;i<s;++i)if(o=e[i],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),a=!1),void 0!==n&&XU(o)&&(o=o[n%o.length],a=!1),void 0!==o))return r&&!a&&(r.cacheable=!1),o}function Hz(e,t){return Object.assign(Object.create(e),t)}function qz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=nV("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>qz([r,...e],t,i,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>Qz(n,r,(()=>function(e,t,n,r){let i;for(const s of t)if(i=nV(Yz(s,e),n),"undefined"!==typeof i)return $z(e,i)?eV(n,r,e,i):i}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>rV(e).includes(t),ownKeys:e=>rV(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function Gz(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Kz(e,r),setContext:t=>Gz(e,t,n,r),override:i=>Gz(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Qz(e,t,(()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];mB(a)&&o.isScriptable(t)&&(a=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let c=t(s,o||r);a.delete(e),$z(e,c)&&(c=eV(i._scopes,i,e,c));return c}(t,a,e,n));XU(a)&&a.length&&(a=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&r(e))return t[s.index%t.length];if(JU(t[0])){const n=t,r=i._scopes.filter((e=>e!==n));t=[];for(const c of n){const n=eV(r,i,e,c);t.push(Gz(n,s,o&&o[e],a))}}return t}(t,a,e,o.isIndexable));$z(t,a)&&(a=Gz(a,i,s&&s[t],o));return a}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function Kz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:mB(n)?n:()=>n,isIndexable:mB(r)?r:()=>r}}const Yz=(e,t)=>e?e+pB(t):t,$z=(e,t)=>JU(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Qz(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const r=n();return e[t]=r,r}function Xz(e,t,n){return mB(e)?e(t,n):e}const Jz=(e,t)=>!0===e?t:"string"===typeof e?fB(t,e):void 0;function Zz(e,t,n,r,i){for(const s of t){const t=Jz(n,s);if(t){e.add(t);const s=Xz(t._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function eV(e,t,n,r){const i=t._rootScopes,s=Xz(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let c=tV(a,o,n,s||n,r);return null!==c&&(("undefined"===typeof s||s===n||(c=tV(a,o,s,c,r),null!==c))&&qz(Array.from(a),[""],i,s,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(XU(i)&&JU(n))return n;return i||{}}(t,n,r))))}function tV(e,t,n,r,i){for(;n;)n=Zz(e,t,n,r,i);return n}function nV(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function rV(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function iV(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,o=new Array(r);let a,c,l,u;for(a=0,c=r;a<c;++a)l=a+n,u=t[l],o[a]={r:i.parse(fB(u,s),l)};return o}const sV=Number.EPSILON||1e-14,oV=(e,t)=>t<e.length&&!e[t].skip&&e[t],aV=e=>"x"===e?"y":"x";function cV(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=LB(s,i),c=LB(o,s);let l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;const h=r*l,d=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function lV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=aV(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,c,l=oV(e,0);for(o=0;o<r;++o)if(a=c,c=l,l=oV(e,o+1),c){if(l){const e=l[t]-c[t];i[o]=0!==e?(l[n]-c[n])/e:0}s[o]=a?l?CB(i[o-1])!==CB(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}!function(e,t,n){const r=e.length;let i,s,o,a,c,l=oV(e,0);for(let u=0;u<r-1;++u)c=l,l=oV(e,u+1),c&&l&&(IB(t[u],0,sV)?n[u]=n[u+1]=0:(i=n[u]/t[u],s=n[u+1]/t[u],a=Math.pow(i,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[u]=i*o*t[u],n[u+1]=s*o*t[u])))}(e,i,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=aV(n),i=e.length;let s,o,a,c=oV(e,0);for(let l=0;l<i;++l){if(o=a,a=c,c=oV(e,l+1),!a)continue;const i=a[n],u=a[r];o&&(s=(i-o[n])/3,a["cp1".concat(n)]=i-s,a["cp1".concat(r)]=u-s*t[l]),c&&(s=(c[n]-i)/3,a["cp2".concat(n)]=i+s,a["cp2".concat(r)]=u+s*t[l])}}(e,s,t)}function uV(e,t,n){return Math.max(Math.min(e,n),t)}function hV(e,t,n,r,i){let s,o,a,c;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)lV(e,i);else{let n=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],c=cV(n,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,n=a}t.capBezierPoints&&function(e,t){let n,r,i,s,o,a=Sz(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&Sz(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=uV(i.cp1x,t.left,t.right),i.cp1y=uV(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=uV(i.cp2x,t.left,t.right),i.cp2y=uV(i.cp2y,t.top,t.bottom)))}(e,n)}function dV(){return"undefined"!==typeof window&&"undefined"!==typeof document}function fV(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function pV(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const gV=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const mV=["top","right","bottom","left"];function vV(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=mV[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const yV=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function bV(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=gV(n),s="border-box"===i.boxSizing,o=vV(i,"padding"),a=vV(i,"border","width"),{x:c,y:l,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o,a,c=!1;if(yV(i,s,e.target))o=i,a=s;else{const e=t.getBoundingClientRect();o=r.clientX-e.left,a=r.clientY-e.top,c=!0}return{x:o,y:a,box:c}}(e,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=t;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((c-h)/f*n.width/r),y:Math.round((l-d)/p*n.height/r)}}const wV=e=>Math.round(10*e)/10;function _V(e,t,n,r){const i=gV(e),s=vV(i,"margin"),o=pV(i.maxWidth,e,"clientWidth")||_B,a=pV(i.maxHeight,e,"clientHeight")||_B,c=function(e,t,n){let r,i;if(void 0===t||void 0===n){const s=fV(e);if(s){const e=s.getBoundingClientRect(),o=gV(s),a=vV(o,"border","width"),c=vV(o,"padding");t=e.width-c.width-a.width,n=e.height-c.height-a.height,r=pV(o.maxWidth,s,"clientWidth"),i=pV(o.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||_B,maxHeight:i||_B}}(e,t,n);let{width:l,height:u}=c;if("content-box"===i.boxSizing){const e=vV(i,"border","width"),t=vV(i,"padding");l-=t.width+e.width,u-=t.height+e.height}l=Math.max(0,l-s.width),u=Math.max(0,r?l/r:u-s.height),l=wV(Math.min(l,o,c.maxWidth)),u=wV(Math.min(u,a,c.maxHeight)),l&&!u&&(u=wV(l/2));return(void 0!==t||void 0!==n)&&r&&c.height&&u>c.height&&(u=c.height,l=wV(Math.floor(u*r))),{width:l,height:u}}function xV(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s)&&(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0)}const EV=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return e}();function TV(e,t){const n=function(e,t){return gV(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function SV(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function kV(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function CV(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=SV(e,i,n),a=SV(i,s,n),c=SV(s,t,n),l=SV(o,a,n),u=SV(a,c,n);return SV(l,u,n)}function IV(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function OV(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function AV(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function PV(e){return"angle"===e?{between:UB,compare:FB,normalize:jB}:{between:zB,compare:(e,t)=>e-t,normalize:e=>e}}function NV(e){let{start:t,end:n,count:r,loop:i,style:s}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:s}}function RV(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:c,normalize:l}=PV(r),{start:u,end:h,loop:d,style:f}=function(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=PV(r),c=t.length;let l,u,{start:h,end:d,loop:f}=e;if(f){for(h+=c,d+=c,l=0,u=c;l<u&&o(a(t[h%c][r]),i,s);++l)h--,d--;h%=c,d%=c}return d<h&&(d+=c),{start:h,end:d,loop:f,style:e.style}}(e,t,n),p=[];let g,m,v,y=!1,b=null;const w=()=>y||c(i,v,g)&&0!==a(i,v),_=()=>!y||0===a(s,g)||c(s,v,g);for(let x=u,E=u;x<=h;++x)m=t[x%o],m.skip||(g=l(m[r]),g!==v&&(y=c(g,i,s),null===b&&w()&&(b=0===a(g,i)?x:E),null!==b&&_()&&(p.push(NV({start:b,end:x,loop:d,count:o,style:f})),b=null),E=x,v=g));return null!==b&&p.push(NV({start:b,end:h,loop:d,count:o,style:f})),p}function DV(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=RV(r[i],e.points,t);s.length&&n.push(...s)}return n}function MV(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),s=LV(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,c=n.length,l=[];let u=s,h=t[0].start,d=h;function f(e,t,r,i){const s=a?-1:1;if(e!==t){for(e+=c;n[e%c].skip;)e-=s;for(;n[t%c].skip;)t+=s;e%c!==t%c&&(l.push({start:e%c,end:t%c,loop:r,style:i}),u=i,h=t%c)}}for(const p of t){h=a?h:p.start;let e,t=n[h%c];for(d=h+1;d<=p.end;d++){const s=n[d%c];e=LV(r.setContext(Hz(i,{type:"segment",p0:t,p1:s,p0DataIndex:(d-1)%c,p1DataIndex:d%c,datasetIndex:o}))),FV(e,u)&&f(h,d-1,p.loop,u),t=s,u=e}h<d-1&&f(h,d-1,p.loop,u)}return l}(e,t,n,r):t}function LV(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function FV(e,t){if(!t)return!1;const n=[],r=function(e,t){return iz(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}class jV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],s=t.duration;i.forEach((r=>r({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=YB.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,o=i.length-1,a=!1;for(;o>=0;--o)s=i[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var UV=new jV;const BV="transparent",zV={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=sz(e||BV),i=r.valid&&sz(t||BV);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class VV{constructor(e,t,n,r){const i=t[n];r=Wz([e.to,r,i,e.from]);const s=Wz([e.from,i,r]);this._active=!0,this._fn=e.fn||zV[e.type||typeof s],this._easing=rz[e.easing]||rz.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Wz([e.to,t,r,e.from]),this._from=Wz([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,o=this._to;let a;if(this._active=i!==o&&(s||t<n),!this._active)return this._target[r]=o,void this._notify(!0);t<0?this._target[r]=i:(a=t/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(i,o,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class WV{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!JU(e))return;const t=Object.keys(yz.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const i=e[r];if(!JU(i))return;const s={};for(const e of t)s[e]=i[e];(XU(i.properties)&&i.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const c=s[a];if("$"===c.charAt(0))continue;if("options"===c){r.push(...this._animateOptions(e,t));continue}const l=t[c];let u=i[c];const h=n.get(c);if(u){if(h&&u.active()){u.update(h,l,o);continue}u.cancel()}h&&h.duration?(i[c]=u=new VV(h,e,c,l),r.push(u)):e[c]=l}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(UV.add(this._chart,n),!0):void 0}}function HV(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:r?s:i,end:r?i:s}}function qV(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function GV(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,s="single"===r.mode;let o,a,c,l;if(null!==t){for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===n){if(r.all)continue;break}l=e.values[c],ZU(l)&&(s||0===t||CB(t)===CB(l))&&(t+=l)}return t}}function KV(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function YV(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function $V(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function QV(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,c=s.axis,l=o.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(s,o,r),h=t.length;let d;for(let f=0;f<h;++f){const e=t[f],{[c]:n,[l]:s}=e;d=(e._stacks||(e._stacks={}))[l]=YV(i,u,n),d[a]=s,d._top=$V(d,o,!0,r.type),d._bottom=$V(d,o,!1,r.type);(d._visualValues||(d._visualValues={}))[a]=s}}function XV(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function JV(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const ZV=e=>"reset"===e||"none"===e,eW=(e,t)=>t?e:Object.assign({},e);class tW{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=KV(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&JV(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=tB(n.xAxisID,XV(e,"x")),s=t.yAxisID=tB(n.yAxisID,XV(e,"y")),o=t.rAxisID=tB(n.rAxisID,XV(e,"r")),a=t.indexAxis,c=t.iAxisID=r(a,i,s,o),l=t.vAxisID=r(a,s,i,o);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(l)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&GB(this._data,this),e._stacked&&JV(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(JU(t))this._data=function(e){const t=Object.keys(e),n=new Array(t.length);let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r],n[r]={x:s,y:e[s]};return n}(t);else if(n!==t){if(n){GB(n,this);const e=this._cachedMeta;JV(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(r=t)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),qB.forEach((e=>{const t="_onData"+pB(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];const o=n.apply(this,i);return r._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...i)})),o}})})))),this._syncList=[],this._data=t}var r,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=KV(t.vScale,t),t.stack!==n.stack&&(r=!0,JV(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&QV(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,o=i.axis;let a,c,l,u=0===e&&t===r.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,l=r;else{l=XU(r[e])?this.parseArrayData(n,r,e,t):JU(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===c[o]||h&&c[o]<h[o];for(a=0;a<t;++a)n._parsed[a+e]=c=l[a],u&&(i()&&(u=!1),h=c);n._sorted=u}s&&QV(this,l)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:s}=e,o=i.axis,a=s.axis,c=i.getLabels(),l=i===s,u=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,u[h]={[o]:l||i.parse(c[f],f),[a]:s.parse(t[f],f)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:s}=e,o=new Array(r);let a,c,l,u;for(a=0,c=r;a<c;++a)l=a+n,u=t[l],o[a]={x:i.parse(u[0],l),y:s.parse(u[1],l)};return o}parseObjectData(e,t,n,r){const{xScale:i,yScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,c=new Array(r);let l,u,h,d;for(l=0,u=r;l<u;++l)h=l+n,d=t[h],c[l]={x:i.parse(fB(d,o),h),y:s.parse(fB(d,a),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,s=t[e.axis];return GV({keys:qV(r,!0),values:t._stacks[e.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let s=null===i?NaN:i;const o=r&&n._stacks[t.axis];r&&o&&(r.values=o,s=GV(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,s=r.length,o=this._getOtherScale(e),a=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:qV(n,!0),values:null})(t,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:l,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=r[h];const t=d[o.axis];return!ZU(d[e.axis])||l>t||u<t}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(c,e,d,a),!i));++h);if(i)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(c,e,d,a);break}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r][e.axis],ZU(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return JU(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(tB(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=HV(e,n),i=HV(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||r.length-o,c=this.options.drawActiveElementsOnTop;let l;for(n.dataset&&n.dataset.draw(e,i,o,a),l=o;l<o+a;++l){const t=r[l];t.hidden||(t.active&&c?s.push(t):t.draw(e,i))}for(l=0;l<s.length;++l)s[l].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return Hz(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return Hz(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,s=e+"-"+t,o=i[s],a=this.enableOptionSharing&&gB(n);if(o)return eW(o,a);const c=this.chart.config,l=c.datasetElementScopeKeys(this._type,e),u=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),l),d=Object.keys(yz.elements[e]),f=c.resolveNamedOptions(h,d,(()=>this.getContext(n,r,t)),u);return f.$shared&&(f.$shared=a,i[s]=Object.freeze(eW(f,a))),f}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,s="animation-".concat(t),o=i[s];if(o)return o;let a;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),i);a=r.createResolver(s,this.getContext(e,n,t))}const c=new WV(r,a&&a.animations);return a&&a._cacheable&&(i[s]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ZV(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:s}}updateElement(e,t,n,r){ZV(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!ZV(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,a,c]of this._syncList)this[o](a,c);this._syncList=[];const r=n.length,i=t.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,s=e+t;let o;const a=e=>{for(e.length+=t,o=e.length-1;o>=s;o--)e[o]=e[o-t]};for(a(i),o=e;o<s;++o)i[o]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&JV(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function nW(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,i=n.length;t<i;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=KB(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,i,s,o,a=t._length;const c=()=>{32767!==s&&-32768!==s&&(gB(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(r=0,i=n.length;r<i;++r)s=t.getPixelForValue(n[r]),c();for(o=void 0,r=0,i=t.ticks.length;r<i;++r)s=t.getPixelForTick(r),c();return a}function rW(e,t,n,r){return XU(e)?function(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),a=Math.max(i,s);let c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),t[n.axis]=l,t._custom={barStart:c,barEnd:l,start:i,end:s,min:o,max:a}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function iW(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,c=[];let l,u,h,d;for(l=n,u=n+r;l<u;++l)d=t[l],h={},h[i.axis]=a||i.parse(o[l],l),c.push(rW(d,h,s,l));return c}function sW(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function oW(e,t,n,r){let i=t.borderSkipped;const s={};if(!i)return void(e.borderSkipped=s);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:c,top:l,bottom:u}=function(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=l:(n._bottom||0)===r?i=u:(s[aW(u,o,a,c)]=!0,i=l)),s[aW(i,o,a,c)]=!0,e.borderSkipped=s}function aW(e,t,n,r){var i,s,o;return r?(o=n,e=cW(e=(i=e)===(s=t)?o:i===o?s:i,n,t)):e=cW(e,t,n),e}function cW(e,t,n){return"start"===e?t:"end"===e?n:e}function lW(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}(0,pU.Z)(tW,"defaults",{}),(0,pU.Z)(tW,"datasetElementType",null),(0,pU.Z)(tW,"dataElementType",null);class uW extends tW{parsePrimitiveData(e,t,n,r){return iW(e,t,n,r)}parseArrayData(e,t,n,r){return iW(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:i,vScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,c="x"===i.axis?o:a,l="x"===s.axis?o:a,u=[];let h,d,f,p;for(h=n,d=n+r;h<d;++h)p=t[h],f={},f[i.axis]=i.parse(fB(p,c),h),u.push(rW(fB(p,l),f,s,h));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),s=i._custom,o=sW(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),c=o.isHorizontal(),l=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,r);for(let d=t;d<t+n;d++){const t=this.getParsed(d),n=i||QU(t[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,l),p=(t._stacks||{})[o.axis],g={horizontal:c,base:n.base,enableBorderRadius:!p||sW(t._custom)||s===p._top||s===p._bottom,x:c?n.head:f.center,y:c?f.center:n.head,height:c?f.size:Math.abs(n.size),width:c?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,e[d].active?"active":r));const m=g.options||e[d].options;oW(g,m,p,s),lW(g,m,l.ratio),this.updateElement(e[d],d,g,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),i=n.options.stacked,s=[],o=e=>{const n=e.controller.getParsed(t),r=n&&n[e.vScale.axis];if(QU(r)||isNaN(r))return!0};for(const a of r)if((void 0===t||!o(a))&&((!1===i||-1===s.indexOf(a.stack)||void 0===i&&void 0===a.stack)&&s.push(a.stack),a.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,s;for(i=0,s=t.data.length;i<s;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const o=e.barThickness;return{min:o||nW(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:i,minBarLength:s}}=this,o=i||0,a=this.getParsed(e),c=a._custom,l=sW(c);let u,h,d=a[t.axis],f=0,p=n?this.applyStack(t,a,n):d;p!==d&&(f=p-d,p=d),l&&(d=c.barStart,p=c.barEnd-c.barStart,0!==d&&CB(d)!==CB(c.barEnd)&&(f=0),f+=d);const g=QU(i)||l?f:i;let m=t.getPixelForValue(g);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<s){h=function(e,t,n){return 0!==e?CB(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(h,t,o)*s,d===o&&(m-=h/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),c=Math.min(e,i),f=Math.max(e,i);m=Math.max(Math.min(m,f),c),u=m+h,n&&!l&&(a._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(m))}if(m===t.getPixelForValue(o)){const e=CB(h)*t.getLineWidthForValue(o)/2;m+=e,h-=e}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,s=tB(r.maxBarThickness,1/0);let o,a;if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,c="flex"===r.barThickness?function(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const c=n.categoryPercentage;null===o&&(o=s-(null===a?t.end-t.start:a-s)),null===a&&(a=s+s-o);const l=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/r,ratio:n.barPercentage,start:l}}(e,t,r,n):function(e,t,n,r){const i=n.barThickness;let s,o;return QU(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}(e,t,r,n),l=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);o=c.start+c.chunk*l+c.chunk/2,a=Math.min(s,c.chunk*c.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),a=Math.min(s,t.min*t.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null!==this.getParsed(i)[t.axis]&&n[i].draw(this._ctx)}}(0,pU.Z)(uW,"id","bar"),(0,pU.Z)(uW,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,pU.Z)(uW,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class hW extends tW{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const i=super.parsePrimitiveData(e,t,n,r);for(let s=0;s<i.length;s++)i[s]._custom=this.resolveDataElementOptions(s+n).radius;return i}parseArrayData(e,t,n,r){const i=super.parseArrayData(e,t,n,r);for(let s=0;s<i.length;s++){const e=t[n+s];i[s]._custom=tB(e[2],this.resolveDataElementOptions(s+n).radius)}return i}parseObjectData(e,t,n,r){const i=super.parseObjectData(e,t,n,r);for(let s=0;s<i.length;s++){const e=t[n+s];i[s]._custom=tB(e&&e.r&&+e.r,this.resolveDataElementOptions(s+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,s=this.getParsed(e),o=r.getLabelForValue(s.x),a=i.getLabelForValue(s.y),c=s._custom;return{label:n[e]||"",value:"("+o+", "+a+(c?", "+c:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:c}=this._getSharedOptions(t,r),l=s.axis,u=o.axis;for(let h=t;h<t+n;h++){const t=e[h],n=!i&&this.getParsed(h),d={},f=d[l]=i?s.getPixelForDecimal(.5):s.getPixelForValue(n[l]),p=d[u]=i?o.getBasePixel():o.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),c&&(d.options=a||this.resolveDataElementOptions(h,t.active?"active":r),i&&(d.options.radius=0)),this.updateElement(t,h,d,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==t&&(r.radius=0),r.radius+=tB(n&&n._custom,i),r}}(0,pU.Z)(hW,"id","bubble"),(0,pU.Z)(hW,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,pU.Z)(hW,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class dW extends tW{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,s,o=e=>+n[e];if(JU(n[e])){const{key:e="value"}=this._parsing;o=t=>+fB(n[t],e)}for(i=e,s=e+t;i<s;++i)r._parsed[i]=o(i)}}_getRotation(){return NB(this.options.rotation-90)}_getCircumference(){return NB(this.options.circumference)}_getRotationExtents(){let e=bB,t=-bB;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),s=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min((c=this.options.cutout,l=o,"string"===typeof c&&c.endsWith("%")?parseFloat(c)/100:+c/l),1);var c,l;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(e,t,n){let r=1,i=1,s=0,o=0;if(t<bB){const a=e,c=a+t,l=Math.cos(a),u=Math.sin(a),h=Math.cos(c),d=Math.sin(c),f=(e,t,r)=>UB(e,a,c,!0)?1:Math.max(t,t*n,r,r*n),p=(e,t,r)=>UB(e,a,c,!0)?-1:Math.min(t,t*n,r,r*n),g=f(0,l,h),m=f(EB,u,d),v=p(yB,l,h),y=p(yB+EB,u,d);r=(g-v)/2,i=(m-y)/2,s=-(g+v)/2,o=-(m+y)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}(d,h,a),v=(n.width-s)/f,y=(n.height-s)/p,b=Math.max(Math.min(v,y)/2,0),w=nB(this.options.radius,b),_=(w-Math.max(w*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,r.total=this.calculateTotal(),this.outerRadius=w-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/bB)}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,o=s.chartArea,a=s.options.animation,c=(o.left+o.right)/2,l=(o.top+o.bottom)/2,u=i&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,r);let g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,i);for(g=t;g<t+n;++g){const t=this._circumference(g,i),n=e[g],s={x:c+this.offsetX,y:l+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:d,innerRadius:h};p&&(s.options=f||this.resolveDataElementOptions(g,n.active?"active":r)),m+=t,this.updateElement(n,g,s,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?bB*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=uz(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,s,o,a;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),e=s.data,o=s.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)a=o.resolveDataElementOptions(r),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(tB(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}(0,pU.Z)(dW,"id","doughnut"),(0,pU.Z)(dW,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,pU.Z)(dW,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),(0,pU.Z)(dW,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const s=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class fW extends tW{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:o,count:a}=JB(t,r,s);this._drawStart=o,this._drawCount=a,ZB(t)&&(o=0,a=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:c},e),this.updateElements(r,o,a,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:o,_stacked:a,_dataset:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(t,r),h=s.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,g=AB(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||"none"===r,v=t+n,y=e.length;let b=t>0&&this.getParsed(t-1);for(let w=0;w<y;++w){const n=e[w],f=m?n:{};if(w<t||w>=v){f.skip=!0;continue}const y=this.getParsed(w),_=QU(y[d]),x=f[h]=s.getPixelForValue(y[h],w),E=f[d]=i||_?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,y,a):y[d],w);f.skip=isNaN(x)||isNaN(E)||_,f.stop=w>0&&Math.abs(y[h]-b[h])>g,p&&(f.parsed=y,f.raw=c.data[w]),u&&(f.options=l||this.resolveDataElementOptions(w,n.active?"active":r)),m||this.updateElement(n,w,f,r),b=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}(0,pU.Z)(fW,"id","line"),(0,pU.Z)(fW,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,pU.Z)(fW,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class pW extends tW{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=uz(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,t,n,r){return iV.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),s=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,c=a.xCenter,l=a.yCenter,u=a.getIndexAngle(0)-.5*yB;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<t;++h)d+=this._computeAngle(h,r,f);for(h=t;h<t+n;h++){const t=e[h];let n=d,p=d+this._computeAngle(h,r,f),g=s.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,i&&(o.animateScale&&(g=0),o.animateRotate&&(n=p=u));const m={x:c,y:l,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,t.active?"active":r)};this.updateElement(t,h,m,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?NB(this.resolveDataElementOptions(e,t).angle||n):0}}(0,pU.Z)(pW,"id","polarArea"),(0,pU.Z)(pW,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,pU.Z)(pW,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const s=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class gW extends dW{}(0,pU.Z)(gW,"id","pie"),(0,pU.Z)(gW,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class mW extends tW{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return iV.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const s={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,s,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,s="reset"===r;for(let o=t;o<t+n;o++){const t=e[o],n=this.resolveDataElementOptions(o,t.active?"active":r),a=i.getPointPositionForValue(o,this.getParsed(o).r),c=s?i.xCenter:a.x,l=s?i.yCenter:a.y,u={x:c,y:l,angle:a.angle,skip:isNaN(c)||isNaN(l),options:n};this.updateElement(t,o,u,r)}}}(0,pU.Z)(mW,"id","radar"),(0,pU.Z)(mW,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,pU.Z)(mW,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class vW extends tW{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,s=this.getParsed(e),o=r.getLabelForValue(s.x),a=i.getLabelForValue(s.y);return{label:n[e]||"",value:"("+o+", "+a+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:i,count:s}=JB(t,n,r);if(this._drawStart=i,this._drawCount=s,ZB(t)&&(i=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:s}=t;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:o},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,i,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:o,_stacked:a,_dataset:c}=this._cachedMeta,l=this.resolveDataElementOptions(t,r),u=this.getSharedOptions(l),h=this.includeOptions(r,u),d=s.axis,f=o.axis,{spanGaps:p,segment:g}=this.options,m=AB(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||"none"===r;let y=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),l=v?t:{},p=QU(n[f]),w=l[d]=s.getPixelForValue(n[d],b),_=l[f]=i||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],b);l.skip=isNaN(w)||isNaN(_)||p,l.stop=b>0&&Math.abs(n[d]-y[d])>m,g&&(l.parsed=n,l.raw=c.data[b]),h&&(l.options=u||this.resolveDataElementOptions(b,t.active?"active":r)),v||this.updateElement(t,b,l,r),y=n}this.updateSharedOptions(u,r,l)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,s)/2}}(0,pU.Z)(vW,"id","scatter"),(0,pU.Z)(vW,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,pU.Z)(vW,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var yW=Object.freeze({__proto__:null,BarController:uW,BubbleController:hW,DoughnutController:dW,LineController:fW,PieController:gW,PolarAreaController:pW,RadarController:mW,ScatterController:vW});function bW(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class wW{static override(e){Object.assign(wW.prototype,e)}constructor(e){(0,pU.Z)(this,"options",void 0),this.options=e||{}}init(){}formats(){return bW()}parse(){return bW()}format(){return bW()}add(){return bW()}diff(){return bW()}startOf(){return bW()}endOf(){return bW()}}var _W=wW;function xW(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&o&&s.length){const e=a._reversePixels?HB:WB;if(!r)return e(s,t,n);if(i._sharedOptions){const r=s[0],i="function"===typeof r.getRange&&r.getRange(t);if(i){const r=e(s,t,n-i),o=e(s,t,n+i);return{lo:r.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function EW(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,c=s.length;a<c;++a){const{index:e,data:n}=s[a],{lo:c,hi:l}=xW(s[a],t,o,i);for(let t=c;t<=l;++t){const i=n[t];i.skip||r(i,e,t)}}}function TW(e,t,n,r,i){const s=[];if(!i&&!e.isPointInArea(t))return s;return EW(e,n,t,(function(n,o,a){(i||Sz(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s}function SW(e,t,n,r,i,s){let o=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,s=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let c=Number.POSITIVE_INFINITY;return EW(e,n,t,(function(n,l,u){const h=n.inRange(t.x,t.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!(!!s||e.isPointInArea(d))&&!h)return;const f=a(t,d);f<c?(o=[{element:n,datasetIndex:l,index:u}],c=f):f===c&&o.push({element:n,datasetIndex:l,index:u})})),o}function kW(e,t,n,r,i,s){return s||e.isPointInArea(t)?"r"!==n||r?SW(e,t,n,r,i,s):function(e,t,n,r){let i=[];return EW(e,n,t,(function(e,n,s){const{startAngle:o,endAngle:a}=e.getProps(["startAngle","endAngle"],r),{angle:c}=MB(e,{x:t.x,y:t.y});UB(c,o,a)&&i.push({element:e,datasetIndex:n,index:s})})),i}(e,t,n,i):[]}function CW(e,t,n,r,i){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return EW(e,n,t,((e,r,c)=>{e[o](t[n],i)&&(s.push({element:e,datasetIndex:r,index:c}),a=a||e.inRange(t.x,t.y,i))})),r&&!a?[]:s}var IW={evaluateInteractionItems:EW,modes:{index(e,t,n,r){const i=bV(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?TW(e,i,s,r,o):kW(e,i,s,!1,r,o),c=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=a[0].index,n=e.data[t];n&&!n.skip&&c.push({element:n,datasetIndex:e.index,index:t})})),c):[]},dataset(e,t,n,r){const i=bV(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?TW(e,i,s,r,o):kW(e,i,s,!1,r,o);if(a.length>0){const t=a[0].datasetIndex,n=e.getDatasetMeta(t).data;a=[];for(let e=0;e<n.length;++e)a.push({element:n[e],datasetIndex:t,index:e})}return a},point:(e,t,n,r)=>TW(e,bV(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=bV(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return kW(e,i,s,n.intersect,r,o)},x:(e,t,n,r)=>CW(e,bV(t,e),"x",n.intersect,r),y:(e,t,n,r)=>CW(e,bV(t,e),"y",n.intersect,r)}};const OW=["left","top","right","bottom"];function AW(e,t){return e.filter((e=>e.pos===t))}function PW(e,t){return e.filter((e=>-1===OW.indexOf(e.pos)&&e.box.axis===t))}function NW(e,t){return e.sort(((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function RW(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!OW.includes(r))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:o}=a.box,c=n[a.stack],l=c&&a.stackWeight/c.weight;a.horizontal?(a.width=l?l*r:o&&t.availableWidth,a.height=i):(a.width=r,a.height=l?l*i:o&&t.availableHeight)}return n}function DW(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function MW(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function LW(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!JU(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[i]+=n.size}s.getPadding&&MW(o,s.getPadding());const a=Math.max(0,t.outerWidth-DW(o,e,"left","right")),c=Math.max(0,t.outerHeight-DW(o,e,"top","bottom")),l=a!==e.w,u=c!==e.h;return e.w=a,e.h=c,n.horizontal?{same:l,other:u}:{same:u,other:l}}function FW(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function jW(e,t,n,r){const i=[];let s,o,a,c,l,u;for(s=0,o=e.length,l=0;s<o;++s){a=e[s],c=a.box,c.update(a.width||t.w,a.height||t.h,FW(a.horizontal,t));const{same:o,other:h}=LW(t,n,a,r);l|=o&&i.length,u=u||h,c.fullSize||i.push(a)}return l&&jW(i,t,n,r)||u}function UW(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function BW(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const e=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},l=a.stackWeight/c.weight||1;if(a.horizontal){const r=t.w*l,s=c.size||e.height;gB(c.start)&&(o=c.start),e.fullSize?UW(e,i.left,o,n.outerWidth-i.right-i.left,s):UW(e,t.left+c.placed,o,r,s),c.start=o,c.placed+=r,o=e.bottom}else{const r=t.h*l,o=c.size||e.width;gB(c.start)&&(s=c.start),e.fullSize?UW(e,s,i.top,o,n.outerHeight-i.bottom-i.top):UW(e,s,t.top+c.placed,o,r),c.start=s,c.placed+=r,s=e.right}}t.x=s,t.y=o}var zW={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=zz(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=function(e){const t=function(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:s,options:{stack:o,stackWeight:a=1}}=i),t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}(e),n=NW(t.filter((e=>e.box.fullSize)),!0),r=NW(AW(t,"left"),!0),i=NW(AW(t,"right")),s=NW(AW(t,"top"),!0),o=NW(AW(t,"bottom")),a=PW(t,"x"),c=PW(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:AW(t,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(o).concat(a)}}(e.boxes),c=a.vertical,l=a.horizontal;iB(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=c.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);MW(d,zz(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),p=RW(c.concat(l),h);jW(a.fullSize,f,h,p),jW(c,f,h,p),jW(l,f,h,p)&&jW(c,f,h,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),BW(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,BW(a.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},iB(a.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class VW{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class WW extends VW{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const HW="$chartjs",qW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},GW=e=>null===e||""===e;const KW=!!EV&&{passive:!0};function YW(e,t,n){e.canvas.removeEventListener(t,n,KW)}function $W(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function QW(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||$W(n.addedNodes,r),t=t&&!$W(n.removedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function XW(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||$W(n.removedNodes,r),t=t&&!$W(n.addedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const JW=new Map;let ZW=0;function eH(){const e=window.devicePixelRatio;e!==ZW&&(ZW=e,JW.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function tH(e,t,n){const r=e.canvas,i=r&&fV(r);if(!i)return;const s=$B(((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),o=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||s(n,r)}));return o.observe(i),function(e,t){JW.size||window.addEventListener("resize",eH),JW.set(e,t)}(e,s),o}function nH(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){JW.delete(e),JW.size||window.removeEventListener("resize",eH)}(e)}function rH(e,t,n){const r=e.canvas,i=$B((t=>{null!==e.ctx&&n(function(e,t){const n=qW[e.type]||e.type,{x:r,y:i}=bV(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))}),e);return function(e,t,n){e.addEventListener(t,n,KW)}(r,t,i),i}class iH extends VW{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[HW]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",GW(i)){const t=TV(e,"width");void 0!==t&&(e.width=t)}if(GW(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=TV(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[HW])return!1;const n=t[HW].initial;["height","width"].forEach((e=>{const r=n[e];QU(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[HW],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:QW,detach:XW,resize:tH}[t]||rH;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:nH,detach:nH,resize:nH}[t]||YW)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return _V(e,t,n,r)}isAttached(e){const t=fV(e);return!(!t||!t.isConnected)}}class sH{constructor(){(0,pU.Z)(this,"x",void 0),(0,pU.Z)(this,"y",void 0),(0,pU.Z)(this,"active",!1),(0,pU.Z)(this,"options",void 0),(0,pU.Z)(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return AB(this.x)&&AB(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function oH(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],o=s.length,a=s[0],c=s[o-1],l=[];if(o>i)return function(e,t,n,r){let i,s=0,o=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===o&&(t.push(e[i]),s++,o=n[s*r])}(t,l,s,o/i),l;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const s=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let o=0,a=s.length-1;o<a;o++){const e=s[o];if(e>i)return e}return Math.max(i,1)}(s,t,i);if(o>0){let e,n;const r=o>1?Math.round((c-a)/(o-1)):null;for(aH(t,l,u,QU(r)?0:a-r,a),e=0,n=o-1;e<n;e++)aH(t,l,u,s[e],s[e+1]);return aH(t,l,u,c,QU(r)?t.length:c+r),l}return aH(t,l,u),l}function aH(e,t,n,r,i){const s=tB(r,0),o=Math.min(tB(i,e.length),e.length);let a,c,l,u=0;for(n=Math.ceil(n),i&&(a=i-r,n=a/Math.floor(a/n)),l=s;l<0;)u++,l=Math.round(s+u*n);for(c=Math.max(s,0);c<o;c++)c===l&&(t.push(e[c]),u++,l=Math.round(s+u*n))}(0,pU.Z)(sH,"defaults",{}),(0,pU.Z)(sH,"defaultRoutes",void 0);const cH=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,lH=(e,t)=>Math.min(t||e,e);function uH(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function hH(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let c,l=e.getPixelForTick(i);if(!(n&&(c=1===r?Math.max(l-s,o-l):0===t?(e.getPixelForTick(1)-l)/2:(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<s-a||l>o+a)))return l}function dH(e){return e.drawTicks?e.tickLength:0}function fH(e,t){if(!e.display)return 0;const n=Vz(e.font,t),r=zz(e.padding);return(XU(e.text)?e.text.length:1)*n.lineHeight+r.height}function pH(e,t,n){let r=QB(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class gH extends sH{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=eB(e,Number.POSITIVE_INFINITY),t=eB(t,Number.NEGATIVE_INFINITY),n=eB(n,Number.POSITIVE_INFINITY),r=eB(r,Number.NEGATIVE_INFINITY),{min:eB(e,n),max:eB(t,r),minDefined:ZU(e),maxDefined:ZU(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let a=0,c=o.length;a<c;++a)t=o[a].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),s||(r=Math.max(r,t.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:eB(n,eB(r,n)),max:eB(r,eB(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rB(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,s=nB(t,(i-r)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(r,-Math.abs(s)),max:o(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?uH(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=oH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rB(this.options.afterUpdate,[this])}beforeSetDimensions(){rB(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rB(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),rB(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rB(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=rB(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){rB(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rB(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=lH(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let s,o,a,c=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const l=this._getLabelSizes(),u=l.widest.width,h=l.highest.height,d=BB(this.chart.width-u,0,this.maxWidth);s=e.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(e.offset?.5:1)),o=this.maxHeight-dH(e.grid)-t.padding-fH(e.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),c=RB(Math.min(Math.asin(BB((l.highest.height+6)/s,-1,1)),Math.asin(BB(o/a,-1,1))-Math.asin(BB(h/a,-1,1)))),c=Math.max(r,Math.min(i,c))),this.labelRotation=c}afterCalculateLabelRotation(){rB(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rB(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=fH(r,t.options.font);if(o?(e.width=this.maxWidth,e.height=dH(i)+s):(e.height=this.maxHeight,e.width=dH(i)+s),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:s}=this._getLabelSizes(),a=2*n.padding,c=NB(this.labelRotation),l=Math.cos(c),u=Math.sin(c);if(o){const t=n.mirror?0:u*i.width+l*s.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=n.mirror?0:l*i.width+u*s.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,r,u,l)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:s},position:o}=this.options,a=0!==this.labelRotation,c="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,l=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?c?(u=r*e.width,h=n*t.height):(u=n*e.height,h=r*t.width):"start"===i?h=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,h=t.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-l+s)*this.width/(this.width-l),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rB(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)QU(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=uH(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,s=[],o=[],a=Math.floor(t/lH(t,n));let c,l,u,h,d,f,p,g,m,v,y,b=0,w=0;for(c=0;c<t;c+=a){if(h=e[c].label,d=this._resolveTickFontOptions(c),r.font=f=d.string,p=i[f]=i[f]||{data:{},gc:[]},g=d.lineHeight,m=v=0,QU(h)||XU(h)){if(XU(h))for(l=0,u=h.length;l<u;++l)y=h[l],QU(y)||XU(y)||(m=bz(r,p.data,p.gc,m,y),v+=g)}else m=bz(r,p.data,p.gc,m,h),v=g;s.push(m),o.push(v),b=Math.max(m,b),w=Math.max(v,w)}!function(e,t){iB(e,(e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}(i,t);const _=s.indexOf(b),x=o.indexOf(w),E=e=>({width:s[e]||0,height:o[e]||0});return{first:E(0),last:E(t-1),widest:E(_),highest:E(x),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return BB(this._alignToPixels?_z(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return Hz(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=Hz(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=NB(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,o=i?i.widest.width+s:0,a=i?i.highest.height+s:0;return this.isHorizontal()?a*n>o*r?o/n:a/r:a*r<o*n?a/n:o/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:o}=r,a=i.offset,c=this.isHorizontal(),l=this.ticks.length+(a?1:0),u=dH(i),h=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(e){return _z(n,e,f)};let m,v,y,b,w,_,x,E,T,S,k,C;if("top"===s)m=g(this.bottom),_=this.bottom-u,E=m-p,S=g(e.top)+p,C=e.bottom;else if("bottom"===s)m=g(this.top),S=e.top,C=g(e.bottom)-p,_=m+p,E=this.top+u;else if("left"===s)m=g(this.right),w=this.right-u,x=m-p,T=g(e.left)+p,k=e.right;else if("right"===s)m=g(this.left),T=e.left,k=g(e.right)-p,w=m+p,x=this.left+u;else if("x"===t){if("center"===s)m=g((e.top+e.bottom)/2+.5);else if(JU(s)){const e=Object.keys(s)[0],t=s[e];m=g(this.chart.scales[e].getPixelForValue(t))}S=e.top,C=e.bottom,_=m+p,E=_+u}else if("y"===t){if("center"===s)m=g((e.left+e.right)/2);else if(JU(s)){const e=Object.keys(s)[0],t=s[e];m=g(this.chart.scales[e].getPixelForValue(t))}w=m-p,x=w-u,T=e.left,k=e.right}const I=tB(r.ticks.maxTicksLimit,l),O=Math.max(1,Math.ceil(l/I));for(v=0;v<l;v+=O){const e=this.getContext(v),t=i.setContext(e),r=o.setContext(e),s=t.lineWidth,l=t.color,u=r.dash||[],d=r.dashOffset,f=t.tickWidth,p=t.tickColor,g=t.tickBorderDash||[],m=t.tickBorderDashOffset;y=hH(this,v,a),void 0!==y&&(b=_z(n,y,s),c?w=x=T=k=b:_=E=S=C=b,h.push({tx1:w,ty1:_,tx2:x,ty2:E,x1:T,y1:S,x2:k,y2:C,width:s,color:l,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=l,this._borderValue=m,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:c,padding:l,mirror:u}=i,h=dH(n.grid),d=h+l,f=u?-l:d,p=-NB(this.labelRotation),g=[];let m,v,y,b,w,_,x,E,T,S,k,C,I="middle";if("top"===r)_=this.bottom-f,x=this._getXAxisLabelAlignment();else if("bottom"===r)_=this.top+f,x=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(h);x=e.textAlign,w=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(h);x=e.textAlign,w=e.x}else if("x"===t){if("center"===r)_=(e.top+e.bottom)/2+d;else if(JU(r)){const e=Object.keys(r)[0],t=r[e];_=this.chart.scales[e].getPixelForValue(t)+d}x=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)w=(e.left+e.right)/2-d;else if(JU(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)}x=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===a?I="top":"end"===a&&(I="bottom"));const O=this._getLabelSizes();for(m=0,v=o.length;m<v;++m){y=o[m],b=y.label;const e=i.setContext(this.getContext(m));E=this.getPixelForTick(m)+i.labelOffset,T=this._resolveTickFontOptions(m),S=T.lineHeight,k=XU(b)?b.length:1;const t=k/2,n=e.color,a=e.textStrokeColor,l=e.textStrokeWidth;let h,d=x;if(s?(w=E,"inner"===x&&(d=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),C="top"===r?"near"===c||0!==p?-k*S+S/2:"center"===c?-O.highest.height/2-t*S+S:-O.highest.height+S/2:"near"===c||0!==p?S/2:"center"===c?O.highest.height/2-t*S:O.highest.height-k*S,u&&(C*=-1),0===p||e.showLabelBackdrop||(w+=S/2*Math.sin(p))):(_=E,C=(1-k)*S/2),e.showLabelBackdrop){const t=zz(e.backdropPadding),n=O.heights[m],r=O.widths[m];let i=C-t.top,s=0-t.left;switch(I){case"middle":i-=n/2;break;case"bottom":i-=n}switch(x){case"center":s-=r/2;break;case"right":s-=r}h={left:s,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:b,font:T,textOffset:C,options:{rotation:p,color:n,strokeColor:a,strokeWidth:l,textAlign:d,textBaseline:I,translation:[w,_],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-NB(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=e+i,o=this._getLabelSizes().widest.width;let a,c;return"left"===t?r?(c=this.right+i,"near"===n?a="left":"center"===n?(a="center",c+=o/2):(a="right",c+=o)):(c=this.right-s,"near"===n?a="right":"center"===n?(a="center",c-=o/2):(a="left",c=this.left)):"right"===t?r?(c=this.left+i,"near"===n?a="right":"center"===n?(a="center",c-=o/2):(a="left",c-=o)):(c=this.left+s,"near"===n?a="left":"center"===n?(a="center",c+=o/2):(a="right",c=this.right)):a="right",{textAlign:a,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const o=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,s=r.length;i<s;++i){const e=r[i];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let c,l,u,h;this.isHorizontal()?(c=_z(e,this.left,s)-s/2,l=_z(e,this.right,o)+o/2,u=h=a):(u=_z(e,this.top,s)-s/2,h=_z(e,this.bottom,o)+o/2,c=l=a),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(c,u),t.lineTo(l,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&kz(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;Nz(t,i.label,0,i.textOffset,n,e)}n&&Cz(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=Vz(n.font),s=zz(n.padding),o=n.align;let a=i.lineHeight/2;"bottom"===t||"center"===t||JU(t)?(a+=s.bottom,XU(n.text)&&(a+=i.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:c,titleY:l,maxWidth:u,rotation:h}=function(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:c}=e,{chartArea:l,scales:u}=c;let h,d,f,p=0;const g=o-i,m=a-s;if(e.isHorizontal()){if(d=XB(r,s,a),JU(n)){const e=Object.keys(n)[0],r=n[e];f=u[e].getPixelForValue(r)+g-t}else f="center"===n?(l.bottom+l.top)/2+g-t:cH(e,n,t);h=a-s}else{if(JU(n)){const e=Object.keys(n)[0],r=n[e];d=u[e].getPixelForValue(r)-m+t}else d="center"===n?(l.left+l.right)/2-m+t:cH(e,n,t);f=XB(r,o,i),p="left"===n?-EB:EB}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,t,o);Nz(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:pH(o,t,r),textBaseline:"middle",translation:[c,l]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=tB(e.grid&&e.grid.z,-1),r=tB(e.border&&e.border.z,0);return this._isVisible()&&this.draw===gH.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];s[n]!==this.id||e&&s.type!==e||r.push(s)}return r}_resolveTickFontOptions(e){return Vz(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class mH{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=lB(Object.create(null),[n?yz.get(n):{},yz.get(t),e.defaults]);yz.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),c=o.join(".");yz.route(s,i,c,a)}))}(t,e.defaultRoutes);e.descriptors&&yz.describe(t,e.descriptors)}(e,s,n),this.override&&yz.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in yz[r]&&(delete yz[r][n],this.override&&delete fz[n])}}class vH{constructor(){this.controllers=new mH(tW,"datasets",!0),this.elements=new mH(sH,"elements"),this.plugins=new mH(Object,"plugins"),this.scales=new mH(gH,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):iB(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=pB(e);rB(n["before"+r],[],n),t[e](n),rB(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var yH=new vH;class bH{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===rB(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){QU(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=tB(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(yH.plugins.items);for(let s=0;s<r.length;s++)n.push(yH.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const e=i[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:s}=t;const o=[],a=e.getContext();for(const c of i){const t=c.id,i=wH(n[t],r);null!==i&&o.push({plugin:c,options:_H(e.config,{plugin:c,local:s[t]},i,a)})}return o}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function wH(e,t){return t||!1!==e?!0===e?{}:e:null}function _H(e,t,n,r){let{plugin:i,local:s}=t;const o=e.pluginScopeKeys(i),a=e.getOptionScopes(n,o);return s&&i.defaults&&a.push(i.defaults),e.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xH(e,t){const n=yz.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function EH(e){if("x"===e||"y"===e||"r"===e)return e}function TH(e){if(EH(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const s of n){const t=s.axis||("top"===(i=s.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&EH(e[0].toLowerCase());if(t)return t}var i;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function SH(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function kH(e,t){const n=fz[e.type]||{scales:{}},r=t.scales||{},i=xH(e.type,t),s=Object.create(null);return Object.keys(r).forEach((t=>{const o=r[t];if(!JU(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const a=TH(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return SH(e,"x",n[0])||SH(e,"y",n[0])}return{}}(t,e),yz.scales[o.type]),c=function(e,t){return e===t?"_index_":"_value_"}(a,i),l=n.scales||{};s[t]=uB(Object.create(null),[{axis:a},o,l[a],l[c]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,o=n.indexAxis||xH(i,t),a=(fz[i]||{}).scales||{};Object.keys(a).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),i=n[t+"AxisID"]||t;s[i]=s[i]||Object.create(null),uB(s[i],[{axis:t},r[i],a[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];uB(t,[yz.scales[t.type],yz.scale])})),s}function CH(e){const t=e.options||(e.options={});t.plugins=tB(t.plugins,{}),t.scales=kH(e,t)}function IH(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const OH=new Map,AH=new Set;function PH(e,t){let n=OH.get(e);return n||(n=t(),OH.set(e,n),AH.add(n)),n}const NH=(e,t,n)=>{const r=fB(t,n);void 0!==r&&e.add(r)};class RH{constructor(e){this._config=function(e){return(e=e||{}).data=IH(e.data),CH(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=IH(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),CH(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return PH(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return PH("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return PH("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return PH("".concat(n,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,s=this._cachedScopes(e,n),o=s.get(t);if(o)return o;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>NH(a,e,t)))),t.forEach((e=>NH(a,r,e))),t.forEach((e=>NH(a,fz[i]||{},e))),t.forEach((e=>NH(a,yz,e))),t.forEach((e=>NH(a,pz,e)))}));const c=Array.from(a);return 0===c.length&&c.push(Object.create(null)),AH.has(t)&&s.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,fz[t]||{},yz.datasets[t]||{},{type:t},yz,pz]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:o}=DH(this._resolverCache,e,r);let a=s;if(function(e,t){const{isScriptable:n,isIndexable:r}=Kz(e);for(const i of t){const t=n(i),s=r(i),o=(s||t)&&e[i];if(t&&(mB(o)||MH(o))||s&&XU(o))return!0}return!1}(s,t)){i.$shared=!1;a=Gz(s,n=mB(n)?n():n,this.createResolver(e,n,o))}for(const c of t)i[c]=a[c];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=DH(this._resolverCache,e,n);return JU(t)?Gz(i,t,void 0,r):i}}function DH(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:qz(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(i,s)}return s}const MH=e=>JU(e)&&Object.getOwnPropertyNames(e).reduce(((t,n)=>t||mB(e[n])),!1);const LH=["top","bottom","left","right","chartArea"];function FH(e,t){return"top"===e||"bottom"===e||-1===LH.indexOf(e)&&"x"===t}function jH(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function UH(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),rB(n&&n.onComplete,[e],t)}function BH(e){const t=e.chart,n=t.options.animation;rB(n&&n.onProgress,[e],t)}function zH(e){return dV()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const VH={},WH=e=>{const t=zH(e);return Object.values(VH).filter((e=>e.canvas===t)).pop()};function HH(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const s=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=s)}}}function qH(e,t,n){return e.options.clip?e[n]:t[n]}class GH{static register(){yH.add(...arguments),KH()}static unregister(){yH.remove(...arguments),KH()}constructor(e,t){const n=this.config=new RH(t),r=zH(e),i=WH(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!dV()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?WW:iH}(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,s.aspectRatio),a=o&&o.canvas,c=a&&a.height,l=a&&a.width;this.id=$U(),this.ctx=o,this.canvas=a,this.width=l,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),s.resizeDelay||0),this._dataChanges=[],VH[this.id]=this,o&&a?(UV.listen(this,"complete",UH),UV.listen(this,"progress",BH),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return QU(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return yH}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xV(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xz(this.canvas,this.ctx),this}stop(){return UV.stop(this),this}resize(e,t){UV.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,xV(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),rB(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){iB(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],r=TH(e,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}})))),iB(i,(t=>{const i=t.options,s=i.id,o=TH(s,i),a=tB(i.type,t.dtype);void 0!==i.position&&FH(i.position,o)===FH(t.dposition)||(i.position=t.dposition),r[s]=!0;let c=null;if(s in n&&n[s].type===a)c=n[s];else{c=new(yH.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[c.id]=c}c.init(i,e)})),iB(r,((e,t)=>{e||delete n[t]})),iB(n,(e=>{zW.configure(this,e,e.options),zW.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(jH("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||xH(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=yH.getController(s),{datasetElementType:r,dataElementType:o}=yz.datasets[s];Object.assign(t,{dataElementType:yH.getElement(o),datasetElementType:r&&yH.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){iB(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let c=0,l=this.data.datasets.length;c<l;c++){const{controller:e}=this.getDatasetMeta(c),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||iB(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(jH("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){iB(this.scales,(e=>{zW.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);vB(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){HH(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let i=1;i<t;i++)if(!vB(r,n(i)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;zW.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],iB(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,mB(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(UV.has(this)?this.attached&&!UV.running(this)&&UV.start(this):(this.draw(),UH({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,i=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:qH(n,t,"left"),right:qH(n,t,"right"),top:qH(r,t,"top"),bottom:qH(r,t,"bottom")}:t}(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(r&&kz(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&Cz(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Sz(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=IW.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Hz(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,r);gB(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),UV.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),xz(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete VH[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};iB(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():s()}unbindEvents(){iB(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},iB(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,s,o,a;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){s=e[o];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!sB(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=i(t,e),o=n?e:i(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,s=t,o=this._getActiveElements(e,r,n,s),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),c=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,a);n&&(this._lastEvent=null,rB(i.onHover,[e,o,this],this),a&&rB(i.onClick,[e,o,this],this));const l=!sB(o,r);return(l||t)&&(this._active=o,this._updateHoverStyles(o,r,t)),this._lastEvent=c,l}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function KH(){return iB(GH.instances,(e=>e._plugins.invalidate()))}function YH(e,t,n,r){const i=jz(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-t)/2,o=Math.min(s,r*t/2),a=e=>{const t=(n-Math.min(s,e))*r/2;return BB(e,0,Math.min(s,t))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:BB(i.innerStart,0,o),innerEnd:BB(i.innerEnd,0,o)}}function $H(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function QH(e,t,n,r,i,s){const{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=t,h=Math.max(t.outerRadius+r+n-l,0),d=u>0?u+r+n+l:0;let f=0;const p=i-c;if(r){const e=((u>0?u-r:0)+(h>0?h-r:0))/2;f=(p-(0!==e?p*e/(e+r):p))/2}const g=(p-Math.max(.001,p*h-n/yB)/h)/2,m=c+g+f,v=i-g-f,{outerStart:y,outerEnd:b,innerStart:w,innerEnd:_}=YH(t,d,h,v-m),x=h-y,E=h-b,T=m+y/x,S=v-b/E,k=d+w,C=d+_,I=m+w/k,O=v-_/C;if(e.beginPath(),s){const t=(T+S)/2;if(e.arc(o,a,h,T,t),e.arc(o,a,h,t,S),b>0){const t=$H(E,S,o,a);e.arc(t.x,t.y,b,S,v+EB)}const n=$H(C,v,o,a);if(e.lineTo(n.x,n.y),_>0){const t=$H(C,O,o,a);e.arc(t.x,t.y,_,v+EB,O+Math.PI)}const r=(v-_/d+(m+w/d))/2;if(e.arc(o,a,d,v-_/d,r,!0),e.arc(o,a,d,r,m+w/d,!0),w>0){const t=$H(k,I,o,a);e.arc(t.x,t.y,w,I+Math.PI,m-EB)}const i=$H(x,m,o,a);if(e.lineTo(i.x,i.y),y>0){const t=$H(x,T,o,a);e.arc(t.x,t.y,y,m-EB,T)}}else{e.moveTo(o,a);const t=Math.cos(T)*h+o,n=Math.sin(T)*h+a;e.lineTo(t,n);const r=Math.cos(S)*h+o,i=Math.sin(S)*h+a;e.lineTo(r,i)}e.closePath()}function XH(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:c}=t,{borderWidth:l,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=c,f="inner"===c.borderAlign;if(!l)return;e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=2*l,e.lineJoin=u||"round"):(e.lineWidth=l,e.lineJoin=u||"bevel");let p=t.endAngle;if(s){QH(e,t,n,r,p,i);for(let t=0;t<s;++t)e.stroke();isNaN(a)||(p=o+(a%bB||bB))}f&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:c}=t;let l=i/a;e.beginPath(),e.arc(s,o,a,r-l,n+l),c>i?(l=i/c,e.arc(s,o,c,n+l,r-l,!0)):e.arc(s,o,i,n+EB,r-EB),e.closePath(),e.clip()}(e,t,p),s||(QH(e,t,n,r,p,i),e.stroke())}(0,pU.Z)(GH,"defaults",yz),(0,pU.Z)(GH,"instances",VH),(0,pU.Z)(GH,"overrides",fz),(0,pU.Z)(GH,"registry",yH),(0,pU.Z)(GH,"version","4.4.0"),(0,pU.Z)(GH,"getChart",WH);class JH extends sH{constructor(e){super(),(0,pU.Z)(this,"circumference",void 0),(0,pU.Z)(this,"endAngle",void 0),(0,pU.Z)(this,"fullCircles",void 0),(0,pU.Z)(this,"innerRadius",void 0),(0,pU.Z)(this,"outerRadius",void 0),(0,pU.Z)(this,"pixelMargin",void 0),(0,pU.Z)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:s}=MB(r,{x:e,y:t}),{startAngle:o,endAngle:a,innerRadius:c,outerRadius:l,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=tB(u,a-o)>=bB||UB(i,o,a),f=zB(s,c+h,l+h);return d&&f}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:c}=this.options,l=(r+i)/2,u=(s+o+c+a)/2;return{x:t+Math.cos(l)*u,y:n+Math.sin(l)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>bB?Math.floor(n/bB):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*r,Math.sin(o)*r);const a=r*(1-Math.sin(Math.min(yB,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let c=t.endAngle;if(s){QH(e,t,n,r,c,i);for(let t=0;t<s;++t)e.fill();isNaN(a)||(c=o+(a%bB||bB))}QH(e,t,n,r,c,i),e.fill()}(e,this,a,i,s),XH(e,this,a,i,s),e.restore()}}function ZH(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=tB(n.borderCapStyle,t.borderCapStyle),e.setLineDash(tB(n.borderDash,t.borderDash)),e.lineDashOffset=tB(n.borderDashOffset,t.borderDashOffset),e.lineJoin=tB(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=tB(n.borderWidth,t.borderWidth),e.strokeStyle=tB(n.borderColor,t.borderColor)}function eq(e,t,n){e.lineTo(n.x,n.y)}function tq(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,c=Math.max(i,o),l=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:c,loop:t.loop,ilen:l<c&&!u?r+l-c:l-c}}function nq(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:c,ilen:l}=tq(i,n,r),u=function(e){return e.stepped?Iz:e.tension||"monotone"===e.cubicInterpolationMode?Oz:eq}(s);let h,d,f,{move:p=!0,reverse:g}=r||{};for(h=0;h<=l;++h)d=i[(a+(g?l-h:h))%o],d.skip||(p?(e.moveTo(d.x,d.y),p=!1):u(e,f,d,g,s.stepped),f=d);return c&&(d=i[(a+(g?l:0))%o],u(e,f,d,g,s.stepped)),!!c}function rq(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=tq(i,n,r),{move:c=!0,reverse:l}=r||{};let u,h,d,f,p,g,m=0,v=0;const y=e=>(o+(l?a-e:e))%s,b=()=>{f!==p&&(e.lineTo(m,p),e.lineTo(m,f),e.lineTo(m,g))};for(c&&(h=i[y(0)],e.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=i[y(u)],h.skip)continue;const t=h.x,n=h.y,r=0|t;r===d?(n<f?f=n:n>p&&(p=n),m=(v*m+t)/++v):(b(),e.lineTo(t,n),d=r,v=0,f=p=n),g=n}b()}function iq(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?rq:nq}(0,pU.Z)(JH,"id","arc"),(0,pU.Z)(JH,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),(0,pU.Z)(JH,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,pU.Z)(JH,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const sq="function"===typeof Path2D;function oq(e,t,n,r){sq&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),ZH(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:s}=t,o=iq(t);for(const a of i)ZH(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class aq extends sH{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;hV(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=function(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}(n,i,s,r);return MV(e,!0===r?[{start:o,end:a,loop:s}]:function(e,t,n,r){const i=e.length,s=[];let o,a=t,c=e[t];for(o=t+1;o<=n;++o){const n=e[o%i];n.skip||n.stop?c.skip||(r=!1,s.push({start:t%i,end:(o-1)%i,loop:r}),t=a=n.stop?o:null):(a=o,c.skip&&(t=o)),c=n}return null!==a&&s.push({start:t%i,end:a%i,loop:r}),s}(n,o,a<o?a+i:a,!!e._fullLoop&&0===o&&a===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,s=DV(this,{property:t,start:r,end:r});if(!s.length)return;const o=[],a=function(e){return e.stepped?kV:e.tension||"monotone"===e.cubicInterpolationMode?CV:SV}(n);let c,l;for(c=0,l=s.length;c<l;++c){const{start:l,end:u}=s[c],h=i[l],d=i[u];if(h===d){o.push(h);continue}const f=a(h,d,Math.abs((r-h[t])/(d[t]-h[t])),n.stepped);f[t]=e[t],o.push(f)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return iq(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=iq(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const o of r)s&=i(e,this,o,{start:t,end:t+n-1});return!!s}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),oq(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function cq(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}(0,pU.Z)(aq,"id","line"),(0,pU.Z)(aq,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,pU.Z)(aq,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,pU.Z)(aq,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class lq extends sH{constructor(e){super(),(0,pU.Z)(this,"parsed",void 0),(0,pU.Z)(this,"skip",void 0),(0,pU.Z)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return cq(this,e,"x",t)}inYRange(e,t){return cq(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Sz(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Ez(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function uq(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,c,l,u,h;return e.horizontal?(h=o/2,a=Math.min(n,i),c=Math.max(n,i),l=r-h,u=r+h):(h=s/2,a=n-h,c=n+h,l=Math.min(r,i),u=Math.max(r,i)),{left:a,top:l,right:c,bottom:u}}function hq(e,t,n,r){return e?0:BB(t,n,r)}function dq(e){const t=uq(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=Uz(r);return{t:hq(i.top,s.top,0,n),r:hq(i.right,s.right,0,t),b:hq(i.bottom,s.bottom,0,n),l:hq(i.left,s.left,0,t)}}(e,n/2,r/2),s=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=Bz(i),o=Math.min(t,n),a=e.borderSkipped,c=r||JU(i);return{topLeft:hq(!c||a.top||a.left,s.topLeft,0,o),topRight:hq(!c||a.top||a.right,s.topRight,0,o),bottomLeft:hq(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:hq(!c||a.bottom||a.right,s.bottomRight,0,o)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function fq(e,t,n,r){const i=null===t,s=null===n,o=e&&!(i&&s)&&uq(e,r);return o&&(i||zB(t,o.left,o.right))&&(s||zB(n,o.top,o.bottom))}function pq(e,t){e.rect(t.x,t.y,t.w,t.h)}function gq(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}(0,pU.Z)(lq,"id","point"),(0,pU.Z)(lq,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,pU.Z)(lq,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class mq extends sH{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:s}=dq(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?Rz:pq;var a;e.save(),s.w===i.w&&s.h===i.h||(e.beginPath(),o(e,gq(s,t,i)),e.clip(),o(e,gq(i,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,gq(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return fq(this,e,t,n)}inXRange(e,t){return fq(this,e,null,t)}inYRange(e,t){return fq(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}(0,pU.Z)(mq,"id","bar"),(0,pU.Z)(mq,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,pU.Z)(mq,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var vq=Object.freeze({__proto__:null,ArcElement:JH,BarElement:mq,LineElement:aq,PointElement:lq});const yq=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],bq=yq.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function wq(e){return yq[e%yq.length]}function _q(e){return bq[e%bq.length]}function xq(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof dW?t=function(e,t){return e.backgroundColor=e.data.map((()=>wq(t++))),t}(n,t):i instanceof pW?t=function(e,t){return e.backgroundColor=e.data.map((()=>_q(t++))),t}(n,t):i&&(t=function(e,t){return e.borderColor=wq(t),e.backgroundColor=_q(t),++t}(n,t))}}function Eq(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var Tq={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i;if(!n.forceOverride&&(Eq(r)||(o=i)&&(o.borderColor||o.backgroundColor)||s&&Eq(s)))return;var o;const a=xq(e);r.forEach(a)}};function Sq(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function kq(e){e.data.datasets.forEach((e=>{Sq(e)}))}var Cq={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void kq(e);const r=e.width;e.data.datasets.forEach(((t,i)=>{const{_data:s,indexAxis:o}=t,a=e.getDatasetMeta(i),c=s||t.data;if("y"===Wz([o,e.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const l=e.scales[a.xAxisID];if("linear"!==l.type&&"time"!==l.type)return;if(e.options.parsing)return;let{start:u,count:h}=function(e,t){const n=t.length;let r,i=0;const{iScale:s}=e,{min:o,max:a,minDefined:c,maxDefined:l}=s.getUserBounds();return c&&(i=BB(WB(t,s.axis,o).lo,0,n-1)),r=l?BB(WB(t,s.axis,a).hi+1,i,n)-i:n-i,{start:i,count:r}}(a,c);if(h<=(n.threshold||4*r))return void Sq(t);let d;switch(QU(s)&&(t._data=c,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":d=function(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(s-2);let c=0;const l=t+n-1;let u,h,d,f,p,g=t;for(o[c++]=e[g],u=0;u<s-2;u++){let r,i=0,s=0;const l=Math.floor((u+1)*a)+1+t,m=Math.min(Math.floor((u+2)*a)+1,n)+t,v=m-l;for(r=l;r<m;r++)i+=e[r].x,s+=e[r].y;i/=v,s/=v;const y=Math.floor(u*a)+1+t,b=Math.min(Math.floor((u+1)*a)+1,n)+t,{x:w,y:_}=e[g];for(d=f=-1,r=y;r<b;r++)f=.5*Math.abs((w-i)*(e[r].y-_)-(w-e[r].x)*(s-_)),f>d&&(d=f,h=e[r],p=r);o[c++]=h,g=p}return o[c++]=e[l],o}(c,u,h,r,n);break;case"min-max":d=function(e,t,n,r){let i,s,o,a,c,l,u,h,d,f,p=0,g=0;const m=[],v=t+n-1,y=e[t].x,b=e[v].x-y;for(i=t;i<t+n;++i){s=e[i],o=(s.x-y)/b*r,a=s.y;const t=0|o;if(t===c)a<d?(d=a,l=i):a>f&&(f=a,u=i),p=(g*p+s.x)/++g;else{const n=i-1;if(!QU(l)&&!QU(u)){const t=Math.min(l,u),r=Math.max(l,u);t!==h&&t!==n&&m.push((0,Nr.Z)((0,Nr.Z)({},e[t]),{},{x:p})),r!==h&&r!==n&&m.push((0,Nr.Z)((0,Nr.Z)({},e[r]),{},{x:p}))}i>0&&n!==h&&m.push(e[n]),m.push(s),c=t,g=0,d=f=a,l=u=h=i}}return m}(c,u,h,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}t._decimated=d}))},destroy(e){kq(e)}};function Iq(e,t,n,r){if(r)return;let i=t[e],s=n[e];return"angle"===e&&(i=jB(i),s=jB(s)),{property:e,start:i,end:s}}function Oq(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Aq(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function Pq(e,t){let n=[],r=!1;return XU(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach((e=>{let{start:t,end:o}=e;o=Oq(t,o,i);const a=i[t],c=i[o];null!==r?(s.push({x:a.x,y:r}),s.push({x:c.x,y:r})):null!==n&&(s.push({x:n,y:a.y}),s.push({x:n,y:c.y}))})),s}(e,t),n.length?new aq({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Nq(e){return e&&!1!==e.fill}function Rq(e,t,n){let r=e[t].fill;const i=[t];let s;if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!ZU(r))return r;if(s=e[r],!s)return!1;if(s.visible)return r;i.push(r),r=s.fill}return!1}function Dq(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=tB(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(JU(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return ZU(i)&&Math.floor(i)===i?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Mq(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:c}=Lq(s,t,"x");if(!(!c||o&&a))if(o)r.unshift(c);else if(e.push(c),!a)break}e.push(...r)}function Lq(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,o=e.points;let a=!1,c=!1;for(let l=0;l<s.length;l++){const e=s[l],t=o[e.start][n],r=o[e.end][n];if(zB(i,t,r)){a=i===t,c=i===r;break}}return{first:a,last:c,point:r}}class Fq{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:i,radius:s}=this;return t=t||{start:0,end:bB},e.arc(r,i,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,i=e.angle;return{x:t+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function jq(e){const{chart:t,fill:n,line:r}=e;if(ZU(n))return function(e,t){const n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,o=r.points,a=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const e=r[i];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);a.push(Pq({x:null,y:t.bottom},r));for(let c=0;c<s.length;c++){const e=s[c];for(let t=e.start;t<=e.end;t++)Mq(i,o[t],a)}return new aq({points:i,options:{}})}(e);if("shape"===n)return!0;const i=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,o=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:JU(e)?e.value:t.getBaseValue(),r}(n,t,s),a=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,s);return new Fq({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)a.push(t.getPointPositionForValue(c,o));return a}(e);return function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:JU(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(ZU(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return i instanceof Fq?i:Pq(i,r)}function Uq(e,t,n){const r=jq(t),{line:i,scale:s,axis:o}=t,a=i.options,c=a.fill,l=a.backgroundColor,{above:u=l,below:h=l}=c||{};r&&i.points.length&&(kz(e,n),function(e,t){const{line:n,target:r,above:i,below:s,area:o,scale:a}=t,c=n._loop?"angle":t.axis;e.save(),"x"===c&&s!==i&&(Bq(e,r,o.top),zq(e,{line:n,target:r,color:i,scale:a,property:c}),e.restore(),e.save(),Bq(e,r,o.bottom));zq(e,{line:n,target:r,color:s,scale:a,property:c}),e.restore()}(e,{line:i,target:r,above:u,below:h,area:n,scale:s,axis:o}),Cz(e))}function Bq(e,t,n){const{segments:r,points:i}=t;let s=!0,o=!1;e.beginPath();for(const a of r){const{start:r,end:c}=a,l=i[r],u=i[Oq(r,c,i)];s?(e.moveTo(l.x,l.y),s=!1):(e.lineTo(l.x,n),e.lineTo(l.x,l.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(u.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function zq(e,t){const{line:n,target:r,property:i,color:s,scale:o}=t,a=function(e,t,n){const r=e.segments,i=e.points,s=t.points,o=[];for(const a of r){let{start:e,end:r}=a;r=Oq(e,r,i);const c=Iq(n,i[e],i[r],a.loop);if(!t.segments){o.push({source:a,target:c,start:i[e],end:i[r]});continue}const l=DV(t,c);for(const t of l){const e=Iq(n,s[t.start],s[t.end],t.loop),r=RV(a,i,e);for(const i of r)o.push({source:i,target:t,start:{[n]:Aq(c,e,"start",Math.max)},end:{[n]:Aq(c,e,"end",Math.min)}})}}return o}(n,r,i);for(const{source:c,target:l,start:u,end:h}of a){const{style:{backgroundColor:t=s}={}}=c,a=!0!==r;e.save(),e.fillStyle=t,Vq(e,o,a&&Iq(i,u,h)),e.beginPath();const d=!!n.pathSegment(e,c);let f;if(a){d?e.closePath():Wq(e,r,h,i);const t=!!r.pathSegment(e,l,{move:d,reverse:!0});f=d&&t,f||Wq(e,r,u,i)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function Vq(e,t,n){const{top:r,bottom:i}=t.chart.chartArea,{property:s,start:o,end:a}=n||{};"x"===s&&(e.beginPath(),e.rect(o,r,a-o,i-r),e.clip())}function Wq(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var Hq={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,o,a,c;for(o=0;o<r;++o)s=e.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof aq&&(c={visible:e.isDatasetVisible(o),index:o,fill:Dq(a,o,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,i.push(c);for(o=0;o<r;++o)c=i[o],c&&!1!==c.fill&&(c.fill=Rq(i,o,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=i.length-1;o>=0;--o){const t=i[o].$filler;t&&(t.line.updateControlPoints(s,t.axis),r&&t.fill&&Uq(e.ctx,t,s))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const t=r[i].$filler;Nq(t)&&Uq(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;Nq(r)&&"beforeDatasetDraw"===n.drawTime&&Uq(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qq=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class Gq extends sH{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=rB(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Vz(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=qq(n,i);let c,l;t.font=r.string,this.isHorizontal()?(c=this.maxWidth,l=this._fitRows(s,i,o,a)+10):(l=this.maxHeight,c=this._fitCols(s,r,o,a)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(l,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],c=this.lineWidths=[0],l=r+o;let u=e;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-l;return this.legendItems.forEach(((e,f)=>{const p=n+t/2+i.measureText(e.text).width;(0===f||c[c.length-1]+p+2*o>s)&&(u+=l,c[c.length-(f>0?0:1)]=0,d+=l,h++),a[f]={left:0,top:d,row:h,width:p,height:r},c[c.length-1]+=p+o})),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],c=this.columnSizes=[],l=s-e;let u=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((e,s)=>{const{itemWidth:g,itemHeight:m}=function(e,t,n,r,i){const s=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(i).width}(r,e,t,n),o=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=Kq(t,n));return r}(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}(n,t,i,e,r);s>0&&d+m+2*o>l&&(u+=h+o,c.push({width:h,height:d}),f+=h+o,p++,h=d=0),a[s]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+o})),u+=h,c.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,s=IV(i,this.left,this.width);if(this.isHorizontal()){let i=0,o=XB(n,this.left+r,this.right-this.lineWidths[i]);for(const a of t)i!==a.row&&(i=a.row,o=XB(n,this.left+r,this.right-this.lineWidths[i])),a.top+=this.top+e+r,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+r}else{let i=0,o=XB(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const a of t)a.col!==i&&(i=a.col,o=XB(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),a.top=o,a.left+=this.left+r,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;kz(e,this),this._draw(),Cz(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:s}=e,o=yz.color,a=IV(e.rtl,this.left,this.width),c=Vz(s.font),{padding:l}=s,u=c.size,h=u/2;let d;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=qq(s,u),m=this.isHorizontal(),v=this._computeTitleHeight();d=m?{x:XB(i,this.left+l,this.right-n[0]),y:this.top+l+v,line:0}:{x:this.left+l,y:XB(i,this.top+v+l,this.bottom-t[0].height),line:0},OV(this.ctx,e.textDirection);const y=g+l;this.legendItems.forEach(((b,w)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const _=r.measureText(b.text).width,x=a.textAlign(b.textAlign||(b.textAlign=s.textAlign)),E=f+h+_;let T=d.x,S=d.y;a.setWidth(this.width),m?w>0&&T+E+l>this.right&&(S=d.y+=y,d.line++,T=d.x=XB(i,this.left+l,this.right-n[d.line])):w>0&&S+y>this.bottom&&(T=d.x=T+t[d.line].width+l,d.line++,S=d.y=XB(i,this.top+v+l,this.bottom-t[d.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=tB(n.lineWidth,1);if(r.fillStyle=tB(n.fillStyle,o),r.lineCap=tB(n.lineCap,"butt"),r.lineDashOffset=tB(n.lineDashOffset,0),r.lineJoin=tB(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=tB(n.strokeStyle,o),r.setLineDash(tB(n.lineDash,[])),s.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},c=a.xPlus(e,f/2);Tz(r,o,c,t+h,s.pointStyleWidth&&f)}else{const s=t+Math.max((u-p)/2,0),o=a.leftForLtr(e,f),c=Bz(n.borderRadius);r.beginPath(),Object.values(c).some((e=>0!==e))?Rz(r,{x:o,y:s,w:f,h:p,radius:c}):r.rect(o,s,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(a.x(T),S,b),T=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(x,T+f+h,m?T+E:this.right,e.rtl),function(e,t,n){Nz(r,n.text,e,t+g/2,c,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(T),S,b),m)d.x+=E+l;else if("string"!==typeof b.text){const e=c.lineHeight;d.y+=Kq(b,e)+l}else d.y+=y})),AV(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Vz(t.font),r=zz(t.padding);if(!t.display)return;const i=IV(e.rtl,this.left,this.width),s=this.ctx,o=t.position,a=n.size/2,c=r.top+a;let l,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),l=this.top+c,u=XB(e.align,u,this.right-h);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);l=c+XB(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=XB(o,u,u+h);s.textAlign=i.textAlign(QB(o)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,Nz(s,t.text,d,l,n)}_computeTitleHeight(){const e=this.options.title,t=Vz(e.font),n=zz(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(zB(e,this.left,this.right)&&zB(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],zB(e,r.left,r.left+r.width)&&zB(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!i&&rB(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&rB(t.onHover,[e,n,this],this)}else n&&rB(t.onClick,[e,n,this],this)}}function Kq(e,t){return t*(e.text?e.text.length:0)}var Yq={id:"legend",_element:Gq,start(e,t,n){const r=e.legend=new Gq({ctx:e.ctx,options:n,chart:e});zW.configure(e,r,n),zW.addBox(e,r)},stop(e){zW.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;zW.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const c=e.controller.getStyle(n?0:void 0),l=zz(c.borderWidth);return{text:t[e.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class $q extends sH{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=XU(n.text)?n.text.length:1;this._padding=zz(n.padding);const i=r*Vz(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:s}=this,o=s.align;let a,c,l,u=0;return this.isHorizontal()?(c=XB(o,n,i),l=t+e,a=i-n):("left"===s.position?(c=n+e,l=XB(o,r,t),u=-.5*yB):(c=i-e,l=XB(o,t,r),u=.5*yB),a=r-t),{titleX:c,titleY:l,maxWidth:a,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Vz(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(r);Nz(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:a,textAlign:QB(t.align),textBaseline:"middle",translation:[i,s]})}}var Qq={id:"title",_element:$q,start(e,t,n){!function(e,t){const n=new $q({ctx:e.ctx,options:t,chart:e});zW.configure(e,n,t),zW.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;zW.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;zW.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xq=new WeakMap;var Jq={id:"subtitle",start(e,t,n){const r=new $q({ctx:e.ctx,options:n,chart:e});zW.configure(e,r,n),zW.addBox(e,r),Xq.set(e,r)},stop(e){zW.removeBox(e,Xq.get(e)),Xq.delete(e)},beforeUpdate(e,t,n){const r=Xq.get(e);zW.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Zq={average(e){if(!e.length)return!1;let t,n,r=0,i=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r+=e.x,i+=e.y,++s}}return{x:r/s,y:i/s}},nearest(e,t){if(!e.length)return!1;let n,r,i,s=t.x,o=t.y,a=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=LB(t,r.getCenterPoint());e<a&&(a=e,i=r)}}if(i){const e=i.tooltipPosition();s=e.x,o=e.y}return{x:s,y:o}}};function eG(e,t){return t&&(XU(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function tG(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function nG(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function rG(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,c=Vz(t.bodyFont),l=Vz(t.titleFont),u=Vz(t.footerFont),h=s.length,d=i.length,f=r.length,p=zz(t.padding);let g=p.height,m=0,v=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(v+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*l.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){g+=f*(t.displayColors?Math.max(a,c.lineHeight):c.lineHeight)+(v-f)*c.lineHeight+(v-1)*t.bodySpacing}d&&(g+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let y=0;const b=function(e){m=Math.max(m,n.measureText(e).width+y)};return n.save(),n.font=l.string,iB(e.title,b),n.font=c.string,iB(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?o+2+t.boxPadding:0,iB(r,(e=>{iB(e.before,b),iB(e.lines,b),iB(e.after,b)})),y=0,n.font=u.string,iB(e.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function iG(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:c}}=e;let l="center";return"center"===r?l=i<=(a+c)/2?"left":"right":i<=s/2?l="left":i>=o-s/2&&(l="right"),function(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;return"left"===e&&i+s+o>t.width||"right"===e&&i-s-o<0||void 0}(l,e,t,n)&&(l="center"),l}function sG(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||iG(e,t,n,r),yAlign:r}}function oG(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:c}=n,l=i+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Bz(o);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,a);const g=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,c,l);return"center"===c?"left"===a?p+=l:"right"===a&&(p-=l):"left"===a?p-=Math.max(u,d)+i:"right"===a&&(p+=Math.max(h,f)+i),{x:BB(p,0,r.width-t.width),y:BB(g,0,r.height-t.height)}}function aG(e,t,n){const r=zz(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function cG(e){return eG([],tG(e))}function lG(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const uG={beforeTitle:YU,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:YU,beforeBody:YU,beforeLabel:YU,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return QU(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:YU,afterBody:YU,beforeFooter:YU,footer:YU,afterFooter:YU};function hG(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?uG[t].call(n,r):i}class dG extends sH{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new WV(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Hz(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=hG(n,"beforeTitle",this,e),i=hG(n,"title",this,e),s=hG(n,"afterTitle",this,e);let o=[];return o=eG(o,tG(r)),o=eG(o,tG(i)),o=eG(o,tG(s)),o}getBeforeBody(e,t){return cG(hG(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return iB(e,(e=>{const t={before:[],lines:[],after:[]},i=lG(n,e);eG(t.before,tG(hG(i,"beforeLabel",this,e))),eG(t.lines,hG(i,"label",this,e)),eG(t.after,tG(hG(i,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return cG(hG(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=hG(n,"beforeFooter",this,e),i=hG(n,"footer",this,e),s=hG(n,"afterFooter",this,e);let o=[];return o=eG(o,tG(r)),o=eG(o,tG(i)),o=eG(o,tG(s)),o}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],s=[];let o,a,c=[];for(o=0,a=t.length;o<a;++o)c.push(nG(this.chart,t[o]));return e.filter&&(c=c.filter(((t,r,i)=>e.filter(t,r,i,n)))),e.itemSort&&(c=c.sort(((t,r)=>e.itemSort(t,r,n)))),iB(c,(t=>{const n=lG(e.callbacks,t);r.push(hG(n,"labelColor",this,t)),i.push(hG(n,"labelPointStyle",this,t)),s.push(hG(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=c,c}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const e=Zq[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=rG(this,n),o=Object.assign({},e,t),a=sG(this.chart,n,o),c=oG(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,i={opacity:1,x:c.x,y:c.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:c,bottomLeft:l,bottomRight:u}=Bz(o),{x:h,y:d}=e,{width:f,height:p}=t;let g,m,v,y,b,w;return"center"===i?(b=d+p/2,"left"===r?(g=h,m=g-s,y=b+s,w=b-s):(g=h+f,m=g+s,y=b-s,w=b+s),v=g):(m="left"===r?h+Math.max(a,l)+s:"right"===r?h+f-Math.max(c,u)-s:this.caretX,"top"===i?(y=d,b=y-s,g=m-s,v=m+s):(y=d+p,b=y+s,g=m+s,v=m-s),w=y),{x1:g,x2:m,x3:v,y1:y,y2:b,y3:w}}drawTitle(e,t,n){const r=this.title,i=r.length;let s,o,a;if(i){const c=IV(n.rtl,this.x,this.width);for(e.x=aG(this,n.titleAlign,n),t.textAlign=c.textAlign(n.titleAlign),t.textBaseline="middle",s=Vz(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,a=0;a<i;++a)t.fillText(r[a],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+o,a+1===i&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,r,i){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:c}=i,l=Vz(i.bodyFont),u=aG(this,"left",i),h=r.x(u),d=a<l.lineHeight?(l.lineHeight-a)/2:0,f=t.y+d;if(i.usePointStyle){const t={radius:Math.min(c,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=r.leftForLtr(h,c)+c/2,l=f+a/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Ez(e,t,n,l),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,Ez(e,t,n,l)}else{e.lineWidth=JU(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=r.leftForLtr(h,c),n=r.leftForLtr(r.xPlus(h,1),c-2),o=Bz(s.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Rz(e,{x:t,y:f,w:c,h:a,radius:o}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Rz(e,{x:n,y:f+1,w:c-2,h:a-2,radius:o}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,c,a),e.strokeRect(t,f,c,a),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,c-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:c,boxPadding:l}=n,u=Vz(n.bodyFont);let h=u.lineHeight,d=0;const f=IV(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+d),e.y+h/2),e.y+=h+i},g=f.textAlign(s);let m,v,y,b,w,_,x;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=aG(this,g,n),t.fillStyle=n.bodyColor,iB(this.beforeBody,p),d=o&&"right"!==g?"center"===s?c/2+l:c+2+l:0,b=0,_=r.length;b<_;++b){for(m=r[b],v=this.labelTextColors[b],t.fillStyle=v,iB(m.before,p),y=m.lines,o&&y.length&&(this._drawColorBox(t,e,b,f,n),h=Math.max(u.lineHeight,a)),w=0,x=y.length;w<x;++w)p(y[w]),h=u.lineHeight;iB(m.after,p)}d=0,h=u.lineHeight,iB(this.afterBody,p),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let s,o;if(i){const a=IV(n.rtl,this.x,this.width);for(e.x=aG(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",s=Vz(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,o=0;o<i;++o)t.fillText(r[o],a.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:s}=this,{x:o,y:a}=e,{width:c,height:l}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Bz(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+u,a),"top"===s&&this.drawCaret(e,t,n,r),t.lineTo(o+c-h,a),t.quadraticCurveTo(o+c,a,o+c,a+h),"center"===s&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(o+c,a+l-f),t.quadraticCurveTo(o+c,a+l,o+c-f,a+l),"bottom"===s&&this.drawCaret(e,t,n,r),t.lineTo(o+d,a+l),t.quadraticCurveTo(o,a+l,o,a+l-d),"center"===s&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(o,a+u),t.quadraticCurveTo(o,a,o+u,a),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=Zq[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=rG(this,e),o=Object.assign({},n,this._size),a=sG(t,e,o),c=oG(e,o,a,t);r._to===c.x&&i._to===c.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=zz(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),OV(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),AV(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),i=!sB(n,r),s=this._positionChanged(r,t);(i||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,n),o=this._positionChanged(s,e),a=t||!sB(s,i)||o;return a&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t;const s=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,s=Zq[i.position].call(this,e,t);return!1!==s&&(n!==s.x||r!==s.y)}}(0,pU.Z)(dG,"positioners",Zq);var fG={id:"tooltip",_element:dG,positioners:Zq,afterInit(e,t,n){n&&(e.tooltip=new dG({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",(0,Nr.Z)((0,Nr.Z)({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uG},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},pG=Object.freeze({__proto__:null,Colors:Tq,Decimation:Cq,Filler:Hq,Legend:Yq,SubTitle:Jq,Title:Qq,Tooltip:fG});function gG(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function mG(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class vG extends gH{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(QU(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:BB(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:gG(n,e,tB(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return mG.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function yG(e,t){const n=[],{bounds:r,step:i,min:s,max:o,precision:a,count:c,maxTicks:l,maxDigits:u,includeBounds:h}=e,d=i||1,f=l-1,{min:p,max:g}=t,m=!QU(s),v=!QU(o),y=!QU(c),b=(g-p)/(u+1);let w,_,x,E,T=OB((g-p)/f/d)*d;if(T<1e-14&&!m&&!v)return[{value:p},{value:g}];E=Math.ceil(g/T)-Math.floor(p/T),E>f&&(T=OB(E*T/f/d)*d),QU(a)||(w=Math.pow(10,a),T=Math.ceil(T*w)/w),"ticks"===r?(_=Math.floor(p/T)*T,x=Math.ceil(g/T)*T):(_=p,x=g),m&&v&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-s)/i,T/1e3)?(E=Math.round(Math.min((o-s)/T,l)),T=(o-s)/E,_=s,x=o):y?(_=m?s:_,x=v?o:x,E=c-1,T=(x-_)/E):(E=(x-_)/T,E=IB(E,Math.round(E),T/1e3)?Math.round(E):Math.ceil(E));const S=Math.max(DB(T),DB(_));w=Math.pow(10,QU(a)?S:a),_=Math.round(_*w)/w,x=Math.round(x*w)/w;let k=0;for(m&&(h&&_!==s?(n.push({value:s}),_<s&&k++,IB(Math.round((_+k*T)*w)/w,s,bG(s,b,e))&&k++):_<s&&k++);k<E;++k){const e=Math.round((_+k*T)*w)/w;if(v&&e>o)break;n.push({value:e})}return v&&h&&x!==o?n.length&&IB(n[n.length-1].value,o,bG(o,b,e))?n[n.length-1].value=o:n.push({value:o}):v&&x!==o||n.push({value:x}),n}function bG(e,t,n){let{horizontal:r,minRotation:i}=n;const s=NB(i),o=(r?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}(0,pU.Z)(vG,"id","category"),(0,pU.Z)(vG,"defaults",{ticks:{callback:mG}});class wG extends gH{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return QU(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=e=>r=t?r:e,o=e=>i=n?i:e;if(e){const e=CB(r),t=CB(i);e<0&&t<0?o(0):e>0&&t>0&&s(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);o(i+t),e||s(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=yG({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&PB(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return uz(e,this.chart.options.locale,this.options.ticks.format)}}class _G extends wG{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ZU(e)?e:0,this.max=ZU(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=NB(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}(0,pU.Z)(_G,"id","linear"),(0,pU.Z)(_G,"defaults",{ticks:{callback:dz.formatters.numeric}});const xG=e=>Math.floor(kB(e)),EG=(e,t)=>Math.pow(10,xG(e)+t);function TG(e){return 1===e/Math.pow(10,xG(e))}function SG(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function kG(e,t){let{min:n,max:r}=t;n=eB(e.min,n);const i=[],s=xG(n);let o=function(e,t){let n=xG(t-e);for(;SG(e,t,n)>10;)n++;for(;SG(e,t,n)<10;)n--;return Math.min(n,xG(e))}(n,r),a=o<0?Math.pow(10,Math.abs(o)):1;const c=Math.pow(10,o),l=s>o?Math.pow(10,s):0,u=Math.round((n-l)*a)/a,h=Math.floor((n-l)/c/10)*c*10;let d=Math.floor((u-h)/Math.pow(10,o)),f=eB(e.min,Math.round((l+h+d*Math.pow(10,o))*a)/a);for(;f<r;)i.push({value:f,major:TG(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,a=o>=0?1:a),f=Math.round((l+h+d*Math.pow(10,o))*a)/a;const p=eB(e.max,f);return i.push({value:p,major:TG(p),significand:d}),i}class CG extends gH{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=wG.prototype.parse.apply(this,[e,t]);if(0!==n)return ZU(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ZU(e)?Math.max(0,e):null,this.max=ZU(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ZU(this._userMin)&&(this.min=e===EG(this.min,0)?EG(this.min,-1):EG(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const i=t=>n=e?n:t,s=e=>r=t?r:e;n===r&&(n<=0?(i(1),s(10)):(i(EG(n,-1)),s(EG(r,1)))),n<=0&&i(EG(r,-1)),r<=0&&s(EG(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=kG({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&PB(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":uz(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=kB(e),this._valueRange=kB(this.max)-kB(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(kB(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function IG(e){const t=e.ticks;if(t.display&&e.display){const e=zz(t.backdropPadding);return tB(t.font&&t.font.size,yz.font.size)+e.height}return 0}function OG(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function AG(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?yB/s:0;for(let h=0;h<s;h++){const s=o.setContext(e.getPointLabelContext(h));i[h]=s.padding;const d=e.getPointPosition(h,e.drawingArea+i[h],a),f=Vz(s.font),p=(c=e.ctx,l=f,u=XU(u=e._pointLabels[h])?u:[u],{w:wz(c,l.string,u),h:u.length*l.lineHeight});r[h]=p;const g=jB(e.getIndexAngle(h)+a),m=Math.round(RB(g));PG(n,t,g,OG(m,d.x,p.w,0,180),OG(m,d.y,p.h,90,270))}var c,l,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:IG(s)/2,additionalAngle:o?yB/i:0};let l;for(let u=0;u<i;u++){c.padding=n[u],c.size=t[u];const i=NG(e,u,c);r.push(i),"auto"===a&&(i.visible=RG(i,l),i.visible&&(l=i))}return r}(e,r,i)}function PG(e,t,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,c=0;r.start<t.l?(a=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(c=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-c)):i.end>t.b&&(c=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+c))}function NG(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,c=e.getPointPosition(t,r+i+o,s),l=Math.round(RB(jB(c.angle+EB))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(c.y,a.h,l),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(l),d=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(c.x,a.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function RG(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(Sz({x:n,y:r},t)||Sz({x:n,y:s},t)||Sz({x:i,y:r},t)||Sz({x:i,y:s},t))}function DG(e,t,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=t;if(!QU(a)){const n=Bz(t.borderRadius),c=zz(t.backdropPadding);e.fillStyle=a;const l=r-c.left,u=i-c.top,h=s-r+c.width,d=o-i+c.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),Rz(e,{x:l,y:u,w:h,h:d,radius:n}),e.fill()):e.fillRect(l,u,h,d)}}function MG(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,bB);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let s=1;s<r;s++)n=e.getPointPosition(s,t),i.lineTo(n.x,n.y)}}(0,pU.Z)(CG,"id","logarithmic"),(0,pU.Z)(CG,"defaults",{ticks:{callback:dz.formatters.logarithmic,major:{enabled:!0}}});class LG extends wG{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=zz(IG(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ZU(e)&&!isNaN(e)?e:0,this.max=ZU(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/IG(this.options))}generateTickLabels(e){wG.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=rB(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?AG(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return jB(e*(bB/(this._pointLabels.length||1))+NB(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(QU(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(QU(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return Hz(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-EB+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),MG(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:i}=t,s=this._pointLabels.length;let o,a,c;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const s=r.setContext(e.getPointLabelContext(i));DG(n,s,t);const o=Vz(s.font),{x:a,y:c,textAlign:l}=t;Nz(n,e._pointLabels[i],a,c+o.lineHeight/2,o,{color:s.color,textAlign:l,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t){a=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),o=r.setContext(n),c=i.setContext(n);!function(e,t,n,r,i){const s=e.ctx,o=t.circular,{color:a,lineWidth:c}=t;!o&&!r||!a||!c||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),MG(e,n,o,r),s.closePath(),s.stroke(),s.restore())}(this,o,a,s,c)}})),n.display){for(e.save(),o=s-1;o>=0;o--){const r=n.setContext(this.getPointLabelContext(o)),{color:i,lineWidth:s}=r;s&&i&&(e.lineWidth=s,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,a=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),c=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((r,o)=>{if(0===o&&!t.reverse)return;const a=n.setContext(this.getContext(o)),c=Vz(a.font);if(i=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){e.font=c.string,s=e.measureText(r.label).width,e.fillStyle=a.backdropColor;const t=zz(a.backdropPadding);e.fillRect(-s/2-t.left,-i-c.size/2-t.top,s+t.width,c.size+t.height)}Nz(e,r.label,0,-i,c,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),e.restore()}drawTitle(){}}(0,pU.Z)(LG,"id","radialLinear"),(0,pU.Z)(LG,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:dz.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),(0,pU.Z)(LG,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,pU.Z)(LG,"descriptors",{angleLines:{_fallback:"grid"}});const FG={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},jG=Object.keys(FG);function UG(e,t){return e-t}function BG(e,t){if(QU(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return"function"===typeof r&&(o=r(o)),ZU(o)||(o="string"===typeof r?n.parse(o,r):n.parse(o)),null===o?null:(i&&(o="week"!==i||!AB(s)&&!0!==s?n.startOf(o,i):n.startOf(o,"isoWeek",s)),+o)}function zG(e,t,n,r){const i=jG.length;for(let s=jG.indexOf(e);s<i-1;++s){const e=FG[jG[s]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return jG[s]}return jG[i-1]}function VG(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=VB(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function WG(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return 0!==s&&n?function(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,c;for(a=s;a<=o;a=+i.add(a,1,r))c=n[a],c>=0&&(t[c].major=!0);return t}(e,r,i,n):r}class HG extends gH{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new _W(e.adapters.date);r.init(t),uB(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:BG(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:o}=this.getUserBounds();function a(e){s||isNaN(e.min)||(r=Math.min(r,e.min)),o||isNaN(e.max)||(i=Math.max(i,e.max))}s&&o||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),r=ZU(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=ZU(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?zG(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let s=jG.length-1;s>=jG.indexOf(n);s--){const n=jG[s];if(FG[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return jG[n?jG.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=jG.indexOf(e)+1,n=jG.length;t<n;++t)if(FG[jG[t]].common)return jG[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&s.reverse(),WG(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;r=BB(r,0,s),i=BB(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||zG(i.minUnit,t,n,this._getLabelCapacity(t)),o=tB(r.ticks.stepSize,1),a="week"===s&&i.isoWeekday,c=AB(a)||!0===a,l={};let u,h,d=t;if(c&&(d=+e.startOf(d,"isoWeek",a)),d=+e.startOf(d,c?"day":s),e.diff(n,t,s)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+e.add(u,o,s),h++)VG(l,u,f);return u!==n&&"ticks"!==r.bounds&&1!==h||VG(l,u,f),Object.keys(l).sort(UG).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,s=i.ticks.callback;if(s)return rB(s,[e,t,n],this);const o=i.time.displayFormats,a=this._unit,c=this._majorUnit,l=a&&o[a],u=c&&o[c],h=n[t],d=c&&u&&h&&h.major;return this._adapter.format(e,r||(d?u:l))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=NB(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*s,h:n*s+o*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,WG(this,[e],this._majorUnit),r),s=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(BG(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return KB(e.sort(UG))}}function qG(e,t,n){let r,i,s,o,a=0,c=e.length-1;n?(t>=e[a].pos&&t<=e[c].pos&&({lo:a,hi:c}=WB(e,"pos",t)),({pos:r,time:s}=e[a]),({pos:i,time:o}=e[c])):(t>=e[a].time&&t<=e[c].time&&({lo:a,hi:c}=WB(e,"time",t)),({time:r,pos:s}=e[a]),({time:i,pos:o}=e[c]));const l=i-r;return l?s+(o-s)*(t-r)/l:s}(0,pU.Z)(HG,"id","time"),(0,pU.Z)(HG,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class GG extends HG{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=qG(t,this.min),this._tableRange=qG(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],i=[];let s,o,a,c,l;for(s=0,o=e.length;s<o;++s)c=e[s],c>=t&&c<=n&&r.push(c);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,o=r.length;s<o;++s)l=r[s+1],a=r[s-1],c=r[s],Math.round((l+a)/2)!==c&&i.push({time:c,pos:s/(o-1)});return i}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(qG(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return qG(this._table,n*this._tableRange+this._minPos,!0)}}(0,pU.Z)(GG,"id","timeseries"),(0,pU.Z)(GG,"defaults",HG.defaults);const KG=[yW,vq,pG,Object.freeze({__proto__:null,CategoryScale:vG,LinearScale:_G,LogarithmicScale:CG,RadialLinearScale:LG,TimeScale:HG,TimeSeriesScale:GG})],YG=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],$G="label";function QG(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function XG(e,t){e.labels=t}function JG(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$G;const r=[];e.datasets=t.map((t=>{const i=e.datasets.find((e=>e[n]===t[n]));return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):(0,Nr.Z)({},t)}))}function ZG(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$G;const n={labels:[],datasets:[]};return XG(n,e.labels),JG(n,e.datasets,t),n}function eK(e,t){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:o,type:a,data:c,options:l,plugins:u=[],fallbackContent:h,updateMode:d}=e,f=(0,fU.Z)(e,YG),p=(0,i.useRef)(null),g=(0,i.useRef)(),m=()=>{p.current&&(g.current=new GH(p.current,{type:a,data:ZG(c,o),options:l&&(0,Nr.Z)({},l),plugins:u}),QG(t,g.current))},v=()=>{QG(t,null),g.current&&(g.current.destroy(),g.current=null)};return(0,i.useEffect)((()=>{!s&&g.current&&l&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(g.current,l)}),[s,l]),(0,i.useEffect)((()=>{!s&&g.current&&XG(g.current.config.data,c.labels)}),[s,c.labels]),(0,i.useEffect)((()=>{!s&&g.current&&c.datasets&&JG(g.current.config.data,c.datasets,o)}),[s,c.datasets]),(0,i.useEffect)((()=>{g.current&&(s?(v(),setTimeout(m)):g.current.update(d))}),[s,l,c.labels,c.datasets,d]),(0,i.useEffect)((()=>{g.current&&(v(),setTimeout(m))}),[a]),(0,i.useEffect)((()=>(m(),()=>v())),[]),i.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:r},f),h)}const tK=(0,i.forwardRef)(eK);function nK(e,t){return GH.register(t),(0,i.forwardRef)(((t,n)=>i.createElement(tK,Object.assign({},t,{ref:n,type:e}))))}const rK=nK("line",fW),iK={data:e=>{var t;let n=null===(t=document.getElementById("total-txns"))||void 0===t?void 0:t.getContext("2d"),r=null===n||void 0===n?void 0:n.createLinearGradient(0,230,0,50);return null===r||void 0===r||r.addColorStop(1,"rgba(29,140,248,0.2)"),null===r||void 0===r||r.addColorStop(.4,"rgba(29,140,248,0.0)"),null===r||void 0===r||r.addColorStop(0,"rgba(29,140,248,0)"),{labels:Object.keys(e),datasets:[{label:"Transaction Count",fill:!0,backgroundColor:r,borderColor:"#1d8cf8",borderWidth:2,borderDash:[],borderDashOffset:0,pointBackgroundColor:"#1d8cf8",pointBorderColor:"rgba(255,255,255,0)",pointHoverBackgroundColor:"#5464ed",pointBorderWidth:20,pointHoverRadius:4,pointHoverBorderWidth:15,pointRadius:4,data:Object.values(e)}]}},options:{maintainAspectRatio:!1,legend:{display:!1},tooltips:{backgroundColor:"#fff",titleFontColor:"#ccc",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},responsive:!0,scales:{}}};GH.register(...KG);const sK=function(){const[e,t]=(0,i.useState)({Jan:0,Feb:0,Mar:0,Apr:0,May:0,Jun:0,Jul:0,Aug:0,Sept:0,Oct:0,Nov:0,Dec:0}),[n,r]=(0,i.useState)({products:0,txns:0});(0,i.useEffect)((()=>{s()}),[]);const s=async()=>{console.log("Fetching data...");try{const{totalCount:i,totalTxns:s}=await(async(e,t)=>{let n=(0,Nr.Z)({},e),r=(0,Nr.Z)({},t);try{return(await qP.collection("transactionMetadata").get()).forEach((e=>{const t=e.data(),i=new Date(t.year,t.month-1).toLocaleString("default",{month:"short"});n[i]+=t.txnCount||0,r.txns+=t.txnCount||0,r.products+=t.productCount||0})),{totalCount:r,totalTxns:n}}catch(iu){console.error("Error fetching metadata:",iu)}})(e,n);t(s),r(i)}catch(iu){console.error("Error fetching dashboard data:",iu)}};return(0,VR.jsx)("section",{className:"section section-lg",children:(0,VR.jsx)(H,{children:(0,VR.jsxs)(Z,{className:"justify-content-center text-center",children:[(0,VR.jsx)("h3",{children:"Stats"}),(0,VR.jsx)(ue,{className:"mt-lg-5",md:"5",children:(0,VR.jsx)(me,{className:"card-stats bg-default",children:(0,VR.jsx)(Be,{children:(0,VR.jsxs)(Z,{children:[(0,VR.jsx)(ue,{md:"4",xs:"5",children:(0,VR.jsx)("div",{className:"icon-big text-center icon-warning",children:(0,VR.jsx)("i",{className:"tim-icons icon-bank text-warning"})})}),(0,VR.jsx)(ue,{md:"8",xs:"7",children:(0,VR.jsxs)("div",{className:"numbers",children:[(0,VR.jsx)(De,{tag:"p",children:null===n||void 0===n?void 0:n.txns}),(0,VR.jsx)("p",{}),(0,VR.jsx)("p",{className:"card-category",children:"Transactions"})]})})]})})})}),(0,VR.jsx)(ue,{className:"mt-lg-5",md:"5",children:(0,VR.jsx)(me,{className:"card-stats bg-default",children:(0,VR.jsx)(Be,{children:(0,VR.jsxs)(Z,{children:[(0,VR.jsx)(ue,{md:"4",xs:"5",children:(0,VR.jsx)("div",{className:"icon-big text-center icon-warning",children:(0,VR.jsx)("i",{className:"tim-icons icon-delivery-fast text-primary"})})}),(0,VR.jsx)(ue,{md:"8",xs:"7",children:(0,VR.jsxs)("div",{className:"numbers",children:[(0,VR.jsx)(De,{tag:"p",children:null===n||void 0===n?void 0:n.products}),(0,VR.jsx)("p",{}),(0,VR.jsx)("p",{className:"card-category",children:"Products"})]})})]})})})}),(0,VR.jsx)(ue,{md:"12",children:(0,VR.jsxs)(me,{className:"card-chart card-plain",children:[(0,VR.jsx)(xe,{children:(0,VR.jsx)(Z,{children:(0,VR.jsxs)(ue,{className:"text-left",sm:"6",children:[(0,VR.jsx)("hr",{className:"line-info"}),(0,VR.jsx)(De,{tag:"h2",children:"Total transactions"})]})})}),(0,VR.jsx)(Be,{children:(0,VR.jsx)("div",{className:"chart-area",children:(0,VR.jsx)(rK,{id:"total-txns",data:iK.data(e.totalTxns?e.totalTxns:e),options:iK.options})})})]})})]})})})},oK=()=>(0,VR.jsx)(VR.Fragment,{children:(0,VR.jsxs)("div",{className:"animation-container",children:[(0,VR.jsx)("img",{src:n(5319),alt:"Base Image",className:"base-image"}),(0,VR.jsx)("img",{src:n(1148),alt:"Relative Image",className:"relative-image truck"}),(0,VR.jsx)("img",{src:n(2397),alt:"Relative Image",className:"relative-image truck2"}),(0,VR.jsx)("img",{src:n(5584),alt:"Relative Image",className:"relative-image fruits"}),(0,VR.jsx)("img",{src:n(4246),className:"relative-image resilientlogo"}),(0,VR.jsxs)("div",{className:"animation-crop-container",children:[(0,VR.jsx)("img",{src:n(2586),className:"animated-image"}),(0,VR.jsx)("img",{src:n(1577),className:"animated-image"})]}),(0,VR.jsx)("img",{src:n(7868),className:"relative-image factory"}),(0,VR.jsx)("img",{src:n(6584),className:"relative-image cart"}),(0,VR.jsx)("img",{src:n(2539),className:"relative-image diary"}),(0,VR.jsx)("img",{src:n(1930),className:"relative-image peels-seeds"})]})});function aK(){const e=jD();return(0,VR.jsx)(VR.Fragment,{children:(0,VR.jsxs)("div",{className:"wrapper",children:[(0,VR.jsxs)("section",{className:"section section-lg section-safe",children:[(0,VR.jsx)(H,{children:(0,VR.jsxs)(Z,{className:"row-grid justify-content-between",children:[(0,VR.jsx)(ue,{md:"5",children:(0,VR.jsxs)("div",{className:"content-center brand",style:{marginTop:"5rem"},children:[(0,VR.jsx)("h2",{className:"title",children:"A Blockchain-Based Food Supply Chain Application built on ResilientDB"}),(0,VR.jsx)("h4",{className:"description",children:"Revolutionizing traceability with blockchain integration, empowering industries through transparent supply chain tracking, and pioneering sustainable innovation by reclaiming and transforming by-products for a brighter, eco-conscious future."}),(0,VR.jsx)(kn,{color:"info",onClick:()=>e("/track"),children:"Explore the Sample"}),(0,VR.jsx)(kn,{color:"success",onClick:()=>e("/register"),children:"Register with us"})]})}),(0,VR.jsx)(ue,{md:"6",children:(0,VR.jsx)(oK,{})})]})}),(0,VR.jsx)(H,{children:(0,VR.jsxs)(Z,{className:"row-grid justify-content-between",children:[(0,VR.jsx)(ue,{md:"5",children:(0,VR.jsx)("img",{style:{borderRadius:"5rem"},alt:"...",className:"floating",src:n(7818)})}),(0,VR.jsx)(ue,{md:"6",children:(0,VR.jsxs)("div",{className:"px-md-5",children:[(0,VR.jsx)("hr",{className:"line-success"}),(0,VR.jsx)("h3",{children:"What is Array\xe1n?"}),(0,VR.jsx)("p",{children:"Array\xe1n is an innovative solution that digitizes the food supply chain through a blockchain app, fostering industrial symbiosis between the processing food industry, green hydrogen producers, and cosmetic companies."}),(0,VR.jsxs)("p",{style:{marginTop:"3rem"},children:["Array\xe1n is built on"," ",(0,VR.jsx)("a",{href:"https://resilientdb.com",children:"ResilientDB"}),", a robust blockchain fabric, ensuring a secure and efficient platform for transforming the food supply chain and promoting sustainable industrial collaboration."]})]})})]})})]}),(0,VR.jsx)("section",{className:"section section-lg",children:(0,VR.jsx)(H,{children:(0,VR.jsx)(Z,{className:"justify-content-center",children:(0,VR.jsxs)(ue,{lg:"12",children:[(0,VR.jsx)("h1",{className:"text-center",style:{marginBottom:"-5%"},children:"Why Array\xe1n?"}),(0,VR.jsxs)(Z,{className:"row-grid justify-content-center",children:[(0,VR.jsx)(ue,{lg:"3",className:"text-center",children:(0,VR.jsxs)("div",{className:"info",children:[(0,VR.jsx)("div",{className:"icon icon-warning",children:(0,VR.jsx)("i",{className:"tim-icons icon-link-72"})}),(0,VR.jsx)("h4",{className:"info-title",children:"Preserve food safety"})]})}),(0,VR.jsx)(ue,{lg:"3",className:"text-center",children:(0,VR.jsxs)("div",{className:"info",children:[(0,VR.jsx)("div",{className:"icon icon-danger",children:(0,VR.jsx)("i",{className:"tim-icons icon-lock-circle"})}),(0,VR.jsx)("h4",{className:"info-title",children:"Enhance Food security"})]})}),(0,VR.jsx)(ue,{lg:"3",className:"text-center",children:(0,VR.jsxs)("div",{className:"info",children:[(0,VR.jsx)("div",{className:"icon icon-primary",children:(0,VR.jsx)("i",{className:"tim-icons icon-chart-pie-36"})}),(0,VR.jsx)("h4",{className:"info-title",children:"Reduce food wastage"})]})}),(0,VR.jsx)(ue,{lg:"3",className:"text-center",children:(0,VR.jsxs)("div",{className:"info",children:[(0,VR.jsx)("div",{className:"icon icon-success",children:(0,VR.jsx)("i",{className:"tim-icons icon-spaceship"})}),(0,VR.jsx)("h4",{className:"info-title",children:"Boost the valorization of by-products"})]})})]})]})})})}),(0,VR.jsx)(sK,{}),(0,VR.jsx)(uU,{})]})})}var cK=n(4709);const lK=e=>{var t;const n=null!==(t=e.id)&&void 0!==t?t:"tsparticles";return(0,i.useEffect)((()=>{let t;return cK.S6.load({id:n,url:e.url,options:e.options}).then((n=>{var r;t=n,null==(r=e.particlesLoaded)||r.call(e,n)})),()=>{null==t||t.destroy()}}),[n,e,e.url,e.options]),(0,VR.jsx)("div",{id:n,className:e.className})};const uK=()=>{const[e,t]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async function(e){await e(cK.S6)})((async e=>{await async function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{loadDestroyUpdater:r}=await n.e(6225).then(n.bind(n,6225)),{loadRollUpdater:i}=await n.e(7858).then(n.bind(n,7858)),{loadTiltUpdater:s}=await n.e(8975).then(n.bind(n,8975)),{loadTwinkleUpdater:o}=await n.e(1924).then(n.bind(n,1924)),{loadWobbleUpdater:a}=await n.e(1536).then(n.bind(n,1536)),{loadTextShape:c}=await n.e(9698).then(n.bind(n,9698)),{loadExternalTrailInteraction:l}=await n.e(6687).then(n.bind(n,6687)),{loadAbsorbersPlugin:u}=await n.e(2941).then(n.bind(n,2941)),{loadEmittersPlugin:h}=await n.e(1963).then(n.bind(n,1963)),{loadEmittersShapeCircle:d}=await n.e(6924).then(n.bind(n,6924)),{loadEmittersShapeSquare:f}=await n.e(5731).then(n.bind(n,5731)),{loadSlim:p}=await n.e(8213).then(n.bind(n,8213));await r(e,!1),await i(e,!1),await s(e,!1),await o(e,!1),await a(e,!1),await c(e,!1),await l(e,!1),await u(e,!1),await h(e,!1),await d(e,!1),await f(e,!1),await p(e,t)}(e)})).then((()=>{t(!0)}))}),[]);return e?(0,VR.jsx)(lK,{id:"tsparticles",particlesLoaded:e=>{},options:{background:{color:{value:"#171941"}},fpsLimit:70,interactivity:{events:{onClick:{enable:!0,mode:"push"},resize:!0},modes:{push:{quantity:4},repulse:{distance:200,duration:.4}}},particles:{color:{value:"#00f2c3"},links:{color:"#00f2c3",distance:150,enable:!0,opacity:.5,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:1,straight:!1},number:{density:{enable:!0,area:800},value:80},opacity:{value:.5},shape:{type:"square"},size:{value:{min:1,max:5}}},detectRetina:!0}}):(0,VR.jsx)(VR.Fragment,{})},hK=()=>(i.useEffect((()=>(document.body.classList.toggle("index-page"),function(){document.body.classList.toggle("index-page")})),[]),(0,VR.jsxs)(VR.Fragment,{children:[(0,VR.jsx)(cU,{}),(0,VR.jsxs)("div",{className:"wrapper",children:[(0,VR.jsx)(uK,{}),(0,VR.jsx)(aK,{}),(0,VR.jsx)("div",{className:"main"})]})]}));function dK(){const e=(0,i.useRef)(),t=(0,i.useRef)(),{login:r}=HR(),[s,o]=(0,i.useState)(""),[a,c]=(0,i.useState)(!1),l=jD();async function u(n){n.preventDefault();try{o(""),c(!0);await r(e.current.value,t.current.value)&&l("/inventory")}catch(s){let t="Failed to login: "+s.message;o(t)}c(!1)}return(0,VR.jsx)(VR.Fragment,{children:(0,VR.jsx)("div",{className:"wrapper",children:(0,VR.jsx)("div",{className:"page-header",children:(0,VR.jsx)("div",{className:"content",children:(0,VR.jsx)(H,{children:(0,VR.jsxs)(Z,{children:[(0,VR.jsxs)(ue,{className:"offset-lg-0 offset-md-3",lg:"5",md:"6",children:[(0,VR.jsxs)(me,{className:"card-register",children:[(0,VR.jsxs)(xe,{children:[(0,VR.jsx)(Ie,{alt:"...",src:n(4905)}),(0,VR.jsx)(De,{tag:"h3",children:"Login"})]}),(0,VR.jsxs)(Be,{children:[s&&(0,VR.jsx)(yt,{variant:"danger",style:{backgroundColor:"red"},children:s}),(0,VR.jsxs)(At,{className:"form",onSubmit:u,children:[(0,VR.jsx)(Vt,{innerRef:e,placeholder:"Email",type:"text"}),(0,VR.jsx)(Vt,{style:{marginTop:"1rem"},innerRef:t,placeholder:"Password",type:"password"})]})]}),(0,VR.jsx)(dn,{children:(0,VR.jsx)(kn,{disabled:a,className:"btn-round",color:"info",size:"lg",onClick:u,children:"Login"})})]}),(0,VR.jsx)("div",{className:"text-center",children:(0,VR.jsx)(cM,{to:"/forgot-password",children:"Forgot Password?"})}),(0,VR.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",(0,VR.jsx)(cM,{to:"/register",children:"Sign Up"})]})]}),(0,VR.jsx)(ue,{children:(0,VR.jsx)("img",{width:"60%",style:{float:"right"},alt:"...",className:"img-fluid",src:n(9097)})})]})})})})})})}const fK=()=>(0,VR.jsxs)(qR,{children:[(0,VR.jsx)(cU,{}),(0,VR.jsx)(dK,{})]});var pK={version:"0.18.5"},gK=1200,mK=1252,vK=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],yK={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},bK=function(e){-1!=vK.indexOf(e)&&(mK=yK[0]=e)};var wK=function(e){gK=e,bK(e)};function _K(){wK(1200),bK(1252)}function xK(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function EK(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var TK,SK=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return 255==t&&254==n?function(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}(e.slice(2)):254==t&&255==n?EK(e.slice(2)):65279==t?e.slice(1):e},kK=function(e){return String.fromCharCode(e)},CK=function(e){return String.fromCharCode(e)};var IK=null,OK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function AK(e){for(var t="",n=0,r=0,i=0,s=0,o=0,a=0,c=0,l=0;l<e.length;)s=(n=e.charCodeAt(l++))>>2,o=(3&n)<<4|(r=e.charCodeAt(l++))>>4,a=(15&r)<<2|(i=e.charCodeAt(l++))>>6,c=63&i,isNaN(r)?a=c=64:isNaN(i)&&(c=64),t+=OK.charAt(s)+OK.charAt(o)+OK.charAt(a)+OK.charAt(c);return t}function PK(e){var t="",n=0,r=0,i=0,s=0,o=0,a=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)n=OK.indexOf(e.charAt(c++))<<2|(s=OK.indexOf(e.charAt(c++)))>>4,t+=String.fromCharCode(n),r=(15&s)<<4|(o=OK.indexOf(e.charAt(c++)))>>2,64!==o&&(t+=String.fromCharCode(r)),i=(3&o)<<6|(a=OK.indexOf(e.charAt(c++))),64!==a&&(t+=String.fromCharCode(i));return t}var NK=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),RK=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(t){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function DK(e){return NK?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function MK(e){return NK?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var LK=function(e){return NK?RK(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function FK(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function jK(e){if("undefined"==typeof ArrayBuffer)throw new Error("Unsupported");if(e instanceof ArrayBuffer)return jK(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var UK=NK?function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:RK(e)})))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))};var BK=/\u0000/g,zK=/[\u0001-\u0006]/g;function VK(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function WK(e,t){var n=""+e;return n.length>=t?n:JY("0",t-n.length)+n}function HK(e,t){var n=""+e;return n.length>=t?n:JY(" ",t-n.length)+n}function qK(e,t){var n=""+e;return n.length>=t?n:n+JY(" ",t-n.length)}var GK=Math.pow(2,32);function KK(e,t){return e>GK||e<-GK?function(e,t){var n=""+Math.round(e);return n.length>=t?n:JY("0",t-n.length)+n}(e,t):function(e,t){var n=""+e;return n.length>=t?n:JY("0",t-n.length)+n}(Math.round(e),t)}function YK(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var $K=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],QK=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var XK={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},JK={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ZK={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function eY(e,t,n){for(var r=e<0?-1:1,i=e*r,s=0,o=1,a=0,c=1,l=0,u=0,h=Math.floor(i);l<t&&(a=(h=Math.floor(i))*o+s,u=h*l+c,!(i-h<5e-8));)i=1/(i-h),s=o,o=a,c=l,l=u;if(u>t&&(l>t?(u=c,a=s):(u=l,a=o)),!n)return[0,r*a,u];var d=Math.floor(r*a/u);return[d,r*a-d*u,u]}function tY(e,t,n){if(e>2958465||e<0)return null;var r=0|e,i=Math.floor(86400*(e-r)),s=0,o=[],a={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(r+=1462),a.u>.9999&&(a.u=0,86400==++i&&(a.T=i=0,++r,++a.D)),60===r)o=n?[1317,10,29]:[1900,2,29],s=3;else if(0===r)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),r<60&&(s=(s+6)%7),n&&(s=function(e,t){t[0]-=581;var n=e.getDay();e<60&&(n=(n+6)%7);return n}(c,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var nY=new Date(1899,11,31,0,0,0),rY=nY.getTime(),iY=new Date(1900,2,1,0,0,0);function sY(e,t){var n=e.getTime();return t?n-=1262304e5:e>=iY&&(n+=864e5),(n-(rY+6e4*(e.getTimezoneOffset()-nY.getTimezoneOffset())))/864e5}function oY(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function aY(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?function(e){var t=e<0?12:11,n=oY(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(e):10===n?e.toFixed(10).substr(0,12):function(e){var t=oY(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),oY(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function cY(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):aY(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return OY(14,sY(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function lY(e,t,n,r){var i,s="",o=0,a=0,c=n.y,l=0;switch(e){case 98:c=n.y+543;case 121:switch(t.length){case 1:case 2:i=c%100,l=2;break;default:i=c%1e4,l=4}break;case 109:switch(t.length){case 1:case 2:i=n.m,l=t.length;break;case 3:return QK[n.m-1][1];case 5:return QK[n.m-1][0];default:return QK[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:i=n.d,l=t.length;break;case 3:return $K[n.q][0];default:return $K[n.q][1]}break;case 104:switch(t.length){case 1:case 2:i=1+(n.H+11)%12,l=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:i=n.H,l=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:i=n.M,l=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(a=r>=2?3===r?1e3:100:1===r?10:1,(o=Math.round(a*(n.S+n.u)))>=60*a&&(o=0),"s"===t?0===o?"0":""+o/a:(s=WK(o,2+r),"ss"===t?s.substr(0,2):"."+s.substr(2,t.length-1))):WK(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":i=24*n.D+n.H;break;case"[m]":case"[mm]":i=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":i=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}l=3===t.length?1:2;break;case 101:i=c,l=1}return l>0?WK(i,l):""}function uY(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var hY=/%/g;function dY(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+dY(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),-1===(n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i)).indexOf("e")){var o=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+s)%i)+"."+r.substr(s)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var fY=/# (\?+)( ?)\/( ?)(\d+)/;var pY=/^#*0*\.([0#]+)/,gY=/\).*[0#]/,mY=/\(###\) ###\\?-####/;function vY(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function yY(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function bY(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function wY(e,t,n){if(40===e.charCodeAt(0)&&!t.match(gY)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?wY("n",r,n):"("+wY("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return EY(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(hY,""),i=t.length-r.length;return EY(e,r,n*Math.pow(10,2*i))+JY("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return dY(t,n);if(36===t.charCodeAt(0))return"$"+wY(e,t.substr(" "==t.charAt(1)?2:1),n);var i,s,o,a,c=Math.abs(n),l=n<0?"-":"";if(t.match(/^00+$/))return l+KK(c,t.length);if(t.match(/^[#?]+$/))return"0"===(i=KK(n,0))&&(i=""),i.length>t.length?i:vY(t.substr(0,t.length-i.length))+i;if(s=t.match(fY))return function(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),s=Math.floor(i/r),o=i-s*r,a=r;return n+(0===s?"":""+s)+" "+(0===o?JY(" ",e[1].length+1+e[4].length):HK(o,e[1].length)+e[2]+"/"+e[3]+WK(a,e[4].length))}(s,c,l);if(t.match(/^#+0+$/))return l+KK(c,t.length-t.indexOf("0"));if(s=t.match(pY))return i=yY(n,s[1].length).replace(/^([^\.]+)$/,"$1."+vY(s[1])).replace(/\.$/,"."+vY(s[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+JY("0",vY(s[1]).length-t.length)})),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return l+yY(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return l+uY(KK(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+wY(e,t,-n):uY(""+(Math.floor(n)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(n,s[1].length)))+"."+WK(bY(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return wY(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=VK(wY(e,t.replace(/[\\-]/g,""),n)),o=0,VK(VK(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return o<i.length?i.charAt(o++):"0"===e?"0":""})));if(t.match(mY))return"("+(i=wY(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=eY(c,Math.pow(10,o)-1,!1),i=""+l," "==(u=EY("n",s[1],a[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],(u=qK(a[2],o)).length<s[4].length&&(u=vY(s[4].substr(s[4].length-u.length))+u),i+=u;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l+((a=eY(c,Math.pow(10,o)-1,!0))[0]||(a[1]?"":"0"))+" "+(a[1]?HK(a[1],o)+s[2]+"/"+s[3]+qK(a[2],o):JY(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=KK(n,0),t.length<=i.length?i:vY(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=t.indexOf(".")-o,d=t.length-i.length-h;return vY(t.substr(0,h)+i+t.substr(t.length-d))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=bY(n,s[1].length),n<0?"-"+wY(e,t,-n):uY(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?WK(0,3-e.length):"")+e}))+"."+WK(o,s[1].length);switch(t){case"###,##0.00":return wY(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var f=uY(KK(c,0));return"0"!==f?l+f:"";case"###,###.00":return wY(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return wY(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function _Y(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+_Y(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),!(n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i)).match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+s)%i)+"."+r.substr(s)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function xY(e,t,n){if(40===e.charCodeAt(0)&&!t.match(gY)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?xY("n",r,n):"("+xY("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return EY(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(hY,""),i=t.length-r.length;return EY(e,r,n*Math.pow(10,2*i))+JY("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return _Y(t,n);if(36===t.charCodeAt(0))return"$"+xY(e,t.substr(" "==t.charAt(1)?2:1),n);var i,s,o,a,c=Math.abs(n),l=n<0?"-":"";if(t.match(/^00+$/))return l+WK(c,t.length);if(t.match(/^[#?]+$/))return i=""+n,0===n&&(i=""),i.length>t.length?i:vY(t.substr(0,t.length-i.length))+i;if(s=t.match(fY))return function(e,t,n){return n+(0===t?"":""+t)+JY(" ",e[1].length+2+e[4].length)}(s,c,l);if(t.match(/^#+0+$/))return l+WK(c,t.length-t.indexOf("0"));if(s=t.match(pY))return i=(i=(""+n).replace(/^([^\.]+)$/,"$1."+vY(s[1])).replace(/\.$/,"."+vY(s[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+JY("0",vY(s[1]).length-t.length)})),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return l+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return l+uY(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+xY(e,t,-n):uY(""+n)+"."+JY("0",s[1].length);if(s=t.match(/^#,#*,#0/))return xY(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=VK(xY(e,t.replace(/[\\-]/g,""),n)),o=0,VK(VK(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return o<i.length?i.charAt(o++):"0"===e?"0":""})));if(t.match(mY))return"("+(i=xY(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=eY(c,Math.pow(10,o)-1,!1),i=""+l," "==(u=EY("n",s[1],a[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],(u=qK(a[2],o)).length<s[4].length&&(u=vY(s[4].substr(s[4].length-u.length))+u),i+=u;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l+((a=eY(c,Math.pow(10,o)-1,!0))[0]||(a[1]?"":"0"))+" "+(a[1]?HK(a[1],o)+s[2]+"/"+s[3]+qK(a[2],o):JY(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:vY(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=t.indexOf(".")-o,d=t.length-i.length-h;return vY(t.substr(0,h)+i+t.substr(t.length-d))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+xY(e,t,-n):uY(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?WK(0,3-e.length):"")+e}))+"."+WK(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=uY(""+c);return"0"!==f?l+f:"";default:if(t.match(/\.[0#?]*$/))return xY(e,t.slice(0,t.lastIndexOf(".")),n)+vY(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function EY(e,t,n){return(0|n)===n?xY(e,t,n):wY(e,t,n)}var TY=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function SY(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":YK(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(TY))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var kY=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function CY(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function IY(e,t){var n=function(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!==typeof t)return[4,4===n.length||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var s=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,s];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var o=n[0].match(kY),a=n[1].match(kY);return CY(t,o)?[r,n[0]]:CY(t,a)?[r,n[1]]:[r,n[null!=o&&null!=a?2:1]]}return[r,s]}function OY(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:XK)[e])&&(r=n.table&&n.table[JK[e]]||XK[JK[e]]),null==r&&(r=ZK[e]||"General")}if(YK(r,0))return cY(t,n);t instanceof Date&&(t=sY(t,n.date1904));var i=IY(r,t);if(YK(i[1]))return cY(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,n,r){for(var i,s,o,a=[],c="",l=0,u="",h="t",d="H";l<e.length;)switch(u=e.charAt(l)){case"G":if(!YK(e,l))throw new Error("unrecognized character "+u+" in "+e);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(c="";34!==(o=e.charCodeAt(++l))&&l<e.length;)c+=String.fromCharCode(o);a[a.length]={t:"t",v:c},++l;break;case"\\":var f=e.charAt(++l),p="("===f||")"===f?f:"t";a[a.length]={t:p,v:f},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:t},++l;break;case"B":case"b":if("1"===e.charAt(l+1)||"2"===e.charAt(l+1)){if(null==i&&null==(i=tY(t,n,"2"===e.charAt(l+1))))return"";a[a.length]={t:"X",v:e.substr(l,2)},h=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==i&&null==(i=tY(t,n)))return"";for(c=u;++l<e.length&&e.charAt(l).toLowerCase()===u;)c+=u;"m"===u&&"h"===h.toLowerCase()&&(u="M"),"h"===u&&(u=d),a[a.length]={t:u,v:c},h=u;break;case"A":case"a":case"\u4e0a":var g={t:u,v:u};if(null==i&&(i=tY(t,n)),"A/P"===e.substr(l,3).toUpperCase()?(null!=i&&(g.v=i.H>=12?"P":"A"),g.t="T",d="h",l+=3):"AM/PM"===e.substr(l,5).toUpperCase()?(null!=i&&(g.v=i.H>=12?"PM":"AM"),g.t="T",l+=5,d="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(l,5).toUpperCase()?(null!=i&&(g.v=i.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),g.t="T",l+=5,d="h"):(g.t="t",++l),null==i&&"T"===g.t)return"";a[a.length]=g,h=u;break;case"[":for(c=u;"]"!==e.charAt(l++)&&l<e.length;)c+=e.charAt(l);if("]"!==c.slice(-1))throw'unterminated "[" block: |'+c+"|";if(c.match(TY)){if(null==i&&null==(i=tY(t,n)))return"";a[a.length]={t:"Z",v:c.toLowerCase()},h=c.charAt(1)}else c.indexOf("$")>-1&&(c=(c.match(/\$([^-\[\]]*)/)||[])[1]||"$",SY(e)||(a[a.length]={t:"t",v:c}));break;case".":if(null!=i){for(c=u;++l<e.length&&"0"===(u=e.charAt(l));)c+=u;a[a.length]={t:"s",v:c};break}case"0":case"#":for(c=u;++l<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(l))>-1;)c+=u;a[a.length]={t:"n",v:c};break;case"?":for(c=u;e.charAt(++l)===u;)c+=u;a[a.length]={t:u,v:c},h=u;break;case"*":++l," "!=e.charAt(l)&&"*"!=e.charAt(l)||++l;break;case"(":case")":a[a.length]={t:1===r?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(c=u;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)c+=e.charAt(l);a[a.length]={t:"D",v:c};break;case" ":a[a.length]={t:u,v:u},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);a[a.length]={t:"t",v:u},++l}var m,v=0,y=0;for(l=a.length-1,h="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=d,h="h",v<1&&(v=1);break;case"s":(m=a[l].v.match(/\.0+$/))&&(y=Math.max(y,m[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":h=a[l].t;break;case"m":"s"===h&&(a[l].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[l].v.match(/[Hh]/)&&(v=1),v<2&&a[l].v.match(/[Mm]/)&&(v=2),v<3&&a[l].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M)}var b,w="";for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=lY(a[l].t.charCodeAt(0),a[l].v,i,y),a[l].t="t";break;case"n":case"?":for(b=l+1;null!=a[b]&&("?"===(u=a[b].t)||"D"===u||(" "===u||"t"===u)&&null!=a[b+1]&&("?"===a[b+1].t||"t"===a[b+1].t&&"/"===a[b+1].v)||"("===a[l].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===a[b].v||" "===a[b].v&&null!=a[b+1]&&"?"==a[b+1].t));)a[l].v+=a[b].v,a[b]={v:"",t:";"},++b;w+=a[l].v,l=b-1;break;case"G":a[l].t="t",a[l].v=cY(t,n)}var _,x,E="";if(w.length>0){40==w.charCodeAt(0)?(_=t<0&&45===w.charCodeAt(0)?-t:t,x=EY("n",w,_)):(x=EY("n",w,_=t<0&&r>1?-t:t),_<0&&a[0]&&"t"==a[0].t&&(x=x.substr(1),a[0].v="-"+a[0].v)),b=x.length-1;var T=a.length;for(l=0;l<a.length;++l)if(null!=a[l]&&"t"!=a[l].t&&a[l].v.indexOf(".")>-1){T=l;break}var S=a.length;if(T===a.length&&-1===x.indexOf("E")){for(l=a.length-1;l>=0;--l)null!=a[l]&&-1!=="n?".indexOf(a[l].t)&&(b>=a[l].v.length-1?(b-=a[l].v.length,a[l].v=x.substr(b+1,a[l].v.length)):b<0?a[l].v="":(a[l].v=x.substr(0,b+1),b=-1),a[l].t="t",S=l);b>=0&&S<a.length&&(a[S].v=x.substr(0,b+1)+a[S].v)}else if(T!==a.length&&-1===x.indexOf("E")){for(b=x.indexOf(".")-1,l=T;l>=0;--l)if(null!=a[l]&&-1!=="n?".indexOf(a[l].t)){for(s=a[l].v.indexOf(".")>-1&&l===T?a[l].v.indexOf(".")-1:a[l].v.length-1,E=a[l].v.substr(s+1);s>=0;--s)b>=0&&("0"===a[l].v.charAt(s)||"#"===a[l].v.charAt(s))&&(E=x.charAt(b--)+E);a[l].v=E,a[l].t="t",S=l}for(b>=0&&S<a.length&&(a[S].v=x.substr(0,b+1)+a[S].v),b=x.indexOf(".")+1,l=T;l<a.length;++l)if(null!=a[l]&&(-1!=="n?(".indexOf(a[l].t)||l===T)){for(s=a[l].v.indexOf(".")>-1&&l===T?a[l].v.indexOf(".")+1:0,E=a[l].v.substr(0,s);s<a[l].v.length;++s)b<x.length&&(E+=x.charAt(b++));a[l].v=E,a[l].t="t",S=l}}}for(l=0;l<a.length;++l)null!=a[l]&&"n?".indexOf(a[l].t)>-1&&(_=r>1&&t<0&&l>0&&"-"===a[l-1].v?-t:t,a[l].v=EY(a[l].t,a[l].v,_),a[l].t="t");var k="";for(l=0;l!==a.length;++l)null!=a[l]&&(k+=a[l].v);return k}(i[1],t,n,i[0])}function AY(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(void 0!=XK[n]){if(XK[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return XK[t]=e,t}function PY(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',XK=e}var NY={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},RY=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var DY=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();var n=function(e){var t=0,n=0,r=0,i="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)i[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=i[t]=n>>>8^e[255&n];var s=[];for(r=1;16!=r;++r)s[r-1]="undefined"!==typeof Int32Array?i.subarray(256*r,256*r+256):i.slice(256*r,256*r+256);return s}(t),r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],c=n[5],l=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],g=n[12],m=n[13],v=n[14];return e.table=t,e.bstr=function(e,n){for(var r=-1^n,i=0,s=e.length;i<s;)r=r>>>8^t[255&(r^e.charCodeAt(i++))];return~r},e.buf=function(e,n){for(var y=-1^n,b=e.length-15,w=0;w<b;)y=v[e[w++]^255&y]^m[e[w++]^y>>8&255]^g[e[w++]^y>>16&255]^p[e[w++]^y>>>24]^f[e[w++]]^d[e[w++]]^h[e[w++]]^u[e[w++]]^l[e[w++]]^c[e[w++]]^a[e[w++]]^o[e[w++]]^s[e[w++]]^i[e[w++]]^r[e[w++]]^t[e[w++]];for(b+=15;w<b;)y=y>>>8^t[255&(y^e[w++])];return~y},e.str=function(e,n){for(var r=-1^n,i=0,s=e.length,o=0,a=0;i<s;)(o=e.charCodeAt(i++))<128?r=r>>>8^t[255&(r^o)]:o<2048?r=(r=r>>>8^t[255&(r^(192|o>>6&31))])>>>8^t[255&(r^(128|63&o))]:o>=55296&&o<57344?(o=64+(1023&o),a=1023&e.charCodeAt(i++),r=(r=(r=(r=r>>>8^t[255&(r^(240|o>>8&7))])>>>8^t[255&(r^(128|o>>2&63))])>>>8^t[255&(r^(128|a>>6&15|(3&o)<<4))])>>>8^t[255&(r^(128|63&a))]):r=(r=(r=r>>>8^t[255&(r^(224|o>>12&15))])>>>8^t[255&(r^(128|o>>6&63))])>>>8^t[255&(r^(128|63&o))];return~r},e}(),MY=function(){var e,t={};function n(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function r(e){if("/"==e.charAt(e.length-1))return r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function i(e,t){"string"===typeof t&&(t=new Date(t));var n=t.getHours();n=(n=n<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=(r=r<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,r)}function s(e){OQ(e,0);for(var t={},n=0;e.l<=e.length-4;){var r=e.read_shift(2),i=e.read_shift(2),s=e.l+i,o={};if(21589===r)1&(n=e.read_shift(1))&&(o.mtime=e.read_shift(4)),i>5&&(2&n&&(o.atime=e.read_shift(4)),4&n&&(o.ctime=e.read_shift(4))),o.mtime&&(o.mt=new Date(1e3*o.mtime));e.l=s,t[r]=o}return t}function o(){return e||(e={})}function a(e,t){if(80==e[0]&&75==e[1])return re(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=x(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",r=(NK&&Buffer.isBuffer(e)?e.toString("binary"):x(e)).split("\r\n"),i=0,s="";for(i=0;i<r.length;++i)if(s=r[i],/^Content-Location:/i.test(s)&&(s=s.slice(s.indexOf("file")),n||(n=s.slice(0,s.lastIndexOf("/")+1)),s.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),s.slice(0,n.length)!=n););var o=(r[1]||"").match(/boundary="(.*?)"/);if(!o)throw new Error("MAD cannot find boundary");var a="--"+(o[1]||""),c=[],l=[],u={FileIndex:c,FullPaths:l};d(u);var h,f=0;for(i=0;i<r.length;++i){var p=r[i];p!==a&&p!==a+"--"||(f++&&le(u,r.slice(h,i),n),h=i)}return u}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n,r,i,s,o,a,f=512,p=[],g=e.slice(0,512);OQ(g,0);var m=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(y,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(g);switch(n=m[0]){case 3:f=512;break;case 4:f=4096;break;case 0:if(0==m[1])return re(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==f&&OQ(g=e.slice(0,f),28);var b=e.slice(0,f);!function(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(g,n);var w=g.read_shift(4,"i");if(3===n&&0!==w)throw new Error("# Directory Sectors: Expected 0 saw "+w);g.l+=4,s=g.read_shift(4,"i"),g.l+=4,g.chk("00100000","Mini Stream Cutoff Size: "),o=g.read_shift(4,"i"),r=g.read_shift(4,"i"),a=g.read_shift(4,"i"),i=g.read_shift(4,"i");for(var _=-1,E=0;E<109&&!((_=g.read_shift(4,"i"))<0);++E)p[E]=_;var T=function(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],i=1;i<n;++i)r[i-1]=e.slice(i*t,(i+1)*t);return r[n-1]=e.slice(n*t),r}(e,f);l(a,i,T,f,p);var S=function(e,t,n,r){var i=e.length,s=[],o=[],a=[],c=[],l=r-1,u=0,h=0,d=0,f=0;for(u=0;u<i;++u)if(a=[],(d=u+t)>=i&&(d-=i),!o[d]){c=[];var p=[];for(h=d;h>=0;){p[h]=!0,o[h]=!0,a[a.length]=h,c.push(e[h]);var g=n[Math.floor(4*h/r)];if(r<4+(f=4*h&l))throw new Error("FAT boundary crossed: "+h+" 4 "+r);if(!e[g])break;if(p[h=_Q(e[g],f)])break}s[d]={nodes:a,data:Q$([c])}}return s}(T,s,p,f);S[s].name="!Directory",r>0&&o!==v&&(S[o].name="!MiniFAT"),S[p[0]].name="!FAT",S.fat_addrs=p,S.ssz=f;var k=[],C=[],I=[];!function(e,t,n,r,i,s,o,a){for(var l,d=0,f=r.length?2:0,p=t[e].data,g=0,m=0;g<p.length;g+=128){var y=p.slice(g,g+128);OQ(y,64),m=y.read_shift(2),l=J$(y,0,m-f),r.push(l);var b={name:l,type:y.read_shift(1),color:y.read_shift(1),L:y.read_shift(4,"i"),R:y.read_shift(4,"i"),C:y.read_shift(4,"i"),clsid:y.read_shift(16),state:y.read_shift(4,"i"),start:0,size:0};0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(b.ct=h(y,y.l-8)),0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(b.mt=h(y,y.l-8)),b.start=y.read_shift(4,"i"),b.size=y.read_shift(4,"i"),b.size<0&&b.start<0&&(b.size=b.type=0,b.start=v,b.name=""),5===b.type?(d=b.start,i>0&&d!==v&&(t[d].name="!StreamData")):b.size>=4096?(b.storage="fat",void 0===t[b.start]&&(t[b.start]=u(n,b.start,t.fat_addrs,t.ssz)),t[b.start].name=b.name,b.content=t[b.start].data.slice(0,b.size)):(b.storage="minifat",b.size<0?b.size=0:d!==v&&b.start!==v&&t[d]&&(b.content=c(b,t[d].data,(t[a]||{}).data))),b.content&&OQ(b.content,0),s[l]=b,o.push(b)}}(s,S,T,k,r,{},C,o),function(e,t,n){for(var r=0,i=0,s=0,o=0,a=0,c=n.length,l=[],u=[];r<c;++r)l[r]=u[r]=r,t[r]=n[r];for(;a<u.length;++a)i=e[r=u[a]].L,s=e[r].R,o=e[r].C,l[r]===r&&(-1!==i&&l[i]!==i&&(l[r]=l[i]),-1!==s&&l[s]!==s&&(l[r]=l[s])),-1!==o&&(l[o]=r),-1!==i&&r!=l[r]&&(l[i]=l[r],u.lastIndexOf(i)<a&&u.push(i)),-1!==s&&r!=l[r]&&(l[s]=l[r],u.lastIndexOf(s)<a&&u.push(s));for(r=1;r<c;++r)l[r]===r&&(-1!==s&&l[s]!==s?l[r]=l[s]:-1!==i&&l[i]!==i&&(l[r]=l[i]));for(r=1;r<c;++r)if(0!==e[r].type){if((a=r)!=l[a])do{a=l[a],t[r]=t[a]+"/"+t[r]}while(0!==a&&-1!==l[a]&&a!=l[a]);l[r]=-1}for(t[0]+="/",r=1;r<c;++r)2!==e[r].type&&(t[r]+="/")}(C,I,k),k.shift();var O={FileIndex:C,FullPaths:I};return t&&t.raw&&(O.raw={header:b,sectors:T}),O}function c(e,t,n){for(var r=e.start,i=e.size,s=[],o=r;n&&i>0&&o>=0;)s.push(t.slice(o*m,o*m+m)),i-=m,o=_Q(n,4*o);return 0===s.length?PQ(0):UK(s).slice(0,e.size)}function l(e,t,n,r,i){var s=v;if(e===v){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var o=n[e],a=(r>>>2)-1;if(!o)return;for(var c=0;c<a&&(s=_Q(o,4*c))!==v;++c)i.push(s);l(_Q(o,r-4),t-1,n,r,i)}}function u(e,t,n,r,i){var s=[],o=[];i||(i=[]);var a=r-1,c=0,l=0;for(c=t;c>=0;){i[c]=!0,s[s.length]=c,o.push(e[c]);var u=n[Math.floor(4*c/r)];if(r<4+(l=4*c&a))throw new Error("FAT boundary crossed: "+c+" 4 "+r);if(!e[u])break;c=_Q(e[u],l)}return{nodes:s,data:Q$([o])}}function h(e,t){return new Date(1e3*(wQ(e,t+4)/1e7*Math.pow(2,32)+wQ(e,t)/1e7-11644473600))}function d(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),function(e){var t="\x01Sh33tJ5";if(MY.find(e,"/"+t))return;var n=PQ(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),f(e)}(e)}function f(e,t){d(e);for(var i=!1,s=!1,o=e.FullPaths.length-1;o>=0;--o){var a=e.FileIndex[o];switch(a.type){case 0:s?i=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:s=!0,isNaN(a.R*a.L*a.C)&&(i=!0),a.R>-1&&a.L>-1&&a.R==a.L&&(i=!0);break;default:i=!0}}if(i||t){var c=new Date(1987,1,19),l=0,u=Object.create?Object.create(null):{},h=[];for(o=0;o<e.FullPaths.length;++o)u[e.FullPaths[o]]=!0,0!==e.FileIndex[o].type&&h.push([e.FullPaths[o],e.FileIndex[o]]);for(o=0;o<h.length;++o){var f=n(h[o][0]);(s=u[f])||(h.push([f,{name:r(f).replace("/",""),type:1,clsid:w,ct:c,mt:c,content:null}]),u[f]=!0)}for(h.sort((function(e,t){return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0,s=0,o=Math.min(n.length,r.length);i<o;++i){if(s=n[i].length-r[i].length)return s;if(n[i]!=r[i])return n[i]<r[i]?-1:1}return n.length-r.length}(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],o=0;o<h.length;++o)e.FullPaths[o]=h[o][0],e.FileIndex[o]=h[o][1];for(o=0;o<h.length;++o){var p=e.FileIndex[o],g=e.FullPaths[o];if(p.name=r(g).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||w,0===o)p.C=h.length>1?1:-1,p.size=0,p.type=5;else if("/"==g.slice(-1)){for(l=o+1;l<h.length&&n(e.FullPaths[l])!=g;++l);for(p.C=l>=h.length?-1:l,l=o+1;l<h.length&&n(e.FullPaths[l])!=n(g);++l);p.R=l>=h.length?-1:l,p.type=1}else n(e.FullPaths[o+1]||"")==n(g)&&(p.R=o+1),p.type=2}}}function p(e,t){var n=t||{};if("mad"==n.fileType)return function(e,t){for(var n=t||{},r=n.boundary||"SheetJS",i=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],s=e.FullPaths[0],o=s,a=e.FileIndex[0],c=1;c<e.FullPaths.length;++c)if(o=e.FullPaths[c].slice(s.length),(a=e.FileIndex[c]).size&&a.content&&"\x01Sh33tJ5"!=o){o=o.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var l=a.content,u=NK&&Buffer.isBuffer(l)?l.toString("binary"):x(l),h=0,d=Math.min(1024,u.length),f=0,p=0;p<=d;++p)(f=u.charCodeAt(p))>=32&&f<128&&++h;var g=h>=4*d/5;i.push(r),i.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+o),i.push("Content-Transfer-Encoding: "+(g?"quoted-printable":"base64")),i.push("Content-Type: "+oe(a,o)),i.push(""),i.push(g?ce(u):ae(u))}return i.push(r+"--\r\n"),i.join("\r\n")}(e,n);if(f(e),"zip"===n.fileType)return function(e,t){var n=t||{},r=[],s=[],o=PQ(1),a=n.compression?8:0,c=0;0;var l=0,u=0,h=0,d=0,f=e.FullPaths[0],p=f,g=e.FileIndex[0],m=[],v=0;for(l=1;l<e.FullPaths.length;++l)if(p=e.FullPaths[l].slice(f.length),(g=e.FileIndex[l]).size&&g.content&&"\x01Sh33tJ5"!=p){var y=h,b=PQ(p.length);for(u=0;u<p.length;++u)b.write_shift(1,127&p.charCodeAt(u));b=b.slice(0,b.l),m[d]=DY.buf(g.content,0);var w=g.content;8==a&&(w=E(w)),(o=PQ(30)).write_shift(4,67324752),o.write_shift(2,20),o.write_shift(2,c),o.write_shift(2,a),g.mt?i(o,g.mt):o.write_shift(4,0),o.write_shift(-4,8&c?0:m[d]),o.write_shift(4,8&c?0:w.length),o.write_shift(4,8&c?0:g.content.length),o.write_shift(2,b.length),o.write_shift(2,0),h+=o.length,r.push(o),h+=b.length,r.push(b),h+=w.length,r.push(w),8&c&&((o=PQ(12)).write_shift(-4,m[d]),o.write_shift(4,w.length),o.write_shift(4,g.content.length),h+=o.l,r.push(o)),(o=PQ(46)).write_shift(4,33639248),o.write_shift(2,0),o.write_shift(2,20),o.write_shift(2,c),o.write_shift(2,a),o.write_shift(4,0),o.write_shift(-4,m[d]),o.write_shift(4,w.length),o.write_shift(4,g.content.length),o.write_shift(2,b.length),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(4,0),o.write_shift(4,y),v+=o.l,s.push(o),v+=b.length,s.push(b),++d}return o=PQ(22),o.write_shift(4,101010256),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,d),o.write_shift(2,d),o.write_shift(4,v),o.write_shift(4,h),o.write_shift(2,0),UK([UK(r),UK(s),o])}(e,n);var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var i=e.FileIndex[r];if(i.content){var s=i.content.length;s>0&&(s<4096?t+=s+63>>6:n+=s+511>>9)}}for(var o=e.FullPaths.length+3>>2,a=t+127>>7,c=(t+7>>3)+n+o+a,l=c+127>>7,u=l<=109?0:Math.ceil((l-109)/127);c+l+u+127>>7>l;)u=++l<=109?0:Math.ceil((l-109)/127);var h=[1,u,l,a,o,n,t,0];return e.FileIndex[0].size=t<<6,h[7]=(e.FileIndex[0].start=h[0]+h[1]+h[2]+h[3]+h[4]+h[5])+(h[6]+7>>3),h}(e),s=PQ(r[7]<<9),o=0,a=0;for(o=0;o<8;++o)s.write_shift(1,b[o]);for(o=0;o<8;++o)s.write_shift(2,0);for(s.write_shift(2,62),s.write_shift(2,3),s.write_shift(2,65534),s.write_shift(2,9),s.write_shift(2,6),o=0;o<3;++o)s.write_shift(2,0);for(s.write_shift(4,0),s.write_shift(4,r[2]),s.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),s.write_shift(4,0),s.write_shift(4,4096),s.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:v),s.write_shift(4,r[3]),s.write_shift(-4,r[1]?r[0]-1:v),s.write_shift(4,r[1]),o=0;o<109;++o)s.write_shift(-4,o<r[2]?r[1]+o:-1);if(r[1])for(a=0;a<r[1];++a){for(;o<236+127*a;++o)s.write_shift(-4,o<r[2]?r[1]+o:-1);s.write_shift(-4,a===r[1]-1?v:a+1)}var c=function(e){for(a+=e;o<a-1;++o)s.write_shift(-4,o+1);e&&(++o,s.write_shift(-4,v))};for(a=o=0,a+=r[1];o<a;++o)s.write_shift(-4,_.DIFSECT);for(a+=r[2];o<a;++o)s.write_shift(-4,_.FATSECT);c(r[3]),c(r[4]);for(var l=0,u=0,h=e.FileIndex[0];l<e.FileIndex.length;++l)(h=e.FileIndex[l]).content&&((u=h.content.length)<4096||(h.start=a,c(u+511>>9)));for(c(r[6]+7>>3);511&s.l;)s.write_shift(-4,_.ENDOFCHAIN);for(a=o=0,l=0;l<e.FileIndex.length;++l)(h=e.FileIndex[l]).content&&(!(u=h.content.length)||u>=4096||(h.start=a,c(u+63>>6)));for(;511&s.l;)s.write_shift(-4,_.ENDOFCHAIN);for(o=0;o<r[4]<<2;++o){var d=e.FullPaths[o];if(d&&0!==d.length){h=e.FileIndex[o],0===o&&(h.start=h.size?h.start-1:v);var p=0===o&&n.root||h.name;if(u=2*(p.length+1),s.write_shift(64,p,"utf16le"),s.write_shift(2,u),s.write_shift(1,h.type),s.write_shift(1,h.color),s.write_shift(-4,h.L),s.write_shift(-4,h.R),s.write_shift(-4,h.C),h.clsid)s.write_shift(16,h.clsid,"hex");else for(l=0;l<4;++l)s.write_shift(4,0);s.write_shift(4,h.state||0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,h.start),s.write_shift(4,h.size),s.write_shift(4,0)}else{for(l=0;l<17;++l)s.write_shift(4,0);for(l=0;l<3;++l)s.write_shift(4,-1);for(l=0;l<12;++l)s.write_shift(4,0)}}for(o=1;o<e.FileIndex.length;++o)if((h=e.FileIndex[o]).size>=4096)if(s.l=h.start+1<<9,NK&&Buffer.isBuffer(h.content))h.content.copy(s,s.l,0,h.size),s.l+=h.size+511&-512;else{for(l=0;l<h.size;++l)s.write_shift(1,h.content[l]);for(;511&l;++l)s.write_shift(1,0)}for(o=1;o<e.FileIndex.length;++o)if((h=e.FileIndex[o]).size>0&&h.size<4096)if(NK&&Buffer.isBuffer(h.content))h.content.copy(s,s.l,0,h.size),s.l+=h.size+63&-64;else{for(l=0;l<h.size;++l)s.write_shift(1,h.content[l]);for(;63&l;++l)s.write_shift(1,0)}if(NK)s.l=s.length;else for(;s.l<s.length;)s.write_shift(1,0);return s}t.version="1.2.1";var g,m=64,v=-2,y="d0cf11e0a1b11ae1",b=[208,207,17,224,161,177,26,225],w="00000000000000000000000000000000",_={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:v,FREESECT:-1,HEADER_SIGNATURE:y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:w,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function x(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function E(e){return g?g.deflateRawSync(e):Y(e)}var T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],k=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function C(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var I="undefined"!==typeof Uint8Array,O=I?new Uint8Array(256):[],A=0;A<256;++A)O[A]=C(A);function P(e,t){var n=O[255&e];return t<=8?n>>>8-t:(n=n<<8|O[e>>8&255],t<=16?n>>>16-t:(n=n<<8|O[e>>16&255])>>>24-t)}function N(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function R(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function D(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function M(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function L(e,t,n){var r=7&t,i=t>>>3,s=(1<<n)-1,o=e[i]>>>r;return n<8-r?o&s:(o|=e[i+1]<<8-r,n<16-r?o&s:(o|=e[i+2]<<16-r,n<24-r?o&s:(o|=e[i+3]<<24-r)&s))}function F(e,t,n){var r=7&t,i=t>>>3;return r<=5?e[i]|=(7&n)<<r:(e[i]|=n<<r&255,e[i+1]=(7&n)>>8-r),t+3}function j(e,t,n){return n=(1&n)<<(7&t),e[t>>>3]|=n,t+1}function U(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=n,t+8}function B(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=255&n,e[r+2]=n>>>8,t+16}function z(e,t){var n=e.length,r=2*n>t?2*n:t+5,i=0;if(n>=t)return e;if(NK){var s=MK(r);if(e.copy)e.copy(s);else for(;i<e.length;++i)s[i]=e[i];return s}if(I){var o=new Uint8Array(r);if(o.set)o.set(e);else for(;i<n;++i)o[i]=e[i];return o}return e.length=r,e}function V(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function W(e,t,n){var r=1,i=0,s=0,o=0,a=0,c=e.length,l=I?new Uint16Array(32):V(32);for(s=0;s<32;++s)l[s]=0;for(s=c;s<n;++s)e[s]=0;c=e.length;var u=I?new Uint16Array(c):V(c);for(s=0;s<c;++s)l[i=e[s]]++,r<i&&(r=i),u[s]=0;for(l[0]=0,s=1;s<=r;++s)l[s+16]=a=a+l[s-1]<<1;for(s=0;s<c;++s)0!=(a=e[s])&&(u[s]=l[a+16]++);var h=0;for(s=0;s<c;++s)if(0!=(h=e[s]))for(a=P(u[s],r)>>r-h,o=(1<<r+4-h)-1;o>=0;--o)t[a|o<<h]=15&h|s<<4;return r}var H=I?new Uint16Array(512):V(512),q=I?new Uint16Array(32):V(32);if(!I){for(var G=0;G<512;++G)H[G]=0;for(G=0;G<32;++G)q[G]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);W(e,q,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);W(n,H,288)}();var K=function(){for(var e=I?new Uint8Array(32768):[],t=0,n=0;t<k.length-1;++t)for(;n<k[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=I?new Uint8Array(259):[];for(t=0,n=0;t<S.length-1;++t)for(;n<S[t+1];++n)r[n]=t;return function(t,n){return t.length<8?function(e,t){for(var n=0;n<e.length;){var r=Math.min(65535,e.length-n),i=n+r==e.length;for(t.write_shift(1,+i),t.write_shift(2,r),t.write_shift(2,65535&~r);r-- >0;)t[t.l++]=e[n++]}return t.l}(t,n):function(t,n){for(var i=0,s=0,o=I?new Uint16Array(32768):[];s<t.length;){var a=Math.min(65535,t.length-s);if(a<10){for(7&(i=F(n,i,+!(s+a!=t.length)))&&(i+=8-(7&i)),n.l=i/8|0,n.write_shift(2,a),n.write_shift(2,65535&~a);a-- >0;)n[n.l++]=t[s++];i=8*n.l}else{i=F(n,i,+!(s+a!=t.length)+2);for(var c=0;a-- >0;){var l=t[s],u=-1,h=0;if((u=o[c=32767&(c<<5^l)])&&((u|=-32768&s)>s&&(u-=32768),u<s))for(;t[u+h]==t[s+h]&&h<250;)++h;if(h>2){(l=r[h])<=22?i=U(n,i,O[l+1]>>1)-1:(U(n,i,3),U(n,i+=5,O[l-23]>>5),i+=3);var d=l<8?0:l-4>>2;d>0&&(B(n,i,h-S[l]),i+=d),l=e[s-u],i=U(n,i,O[l]>>3),i-=3;var f=l<4?0:l-2>>1;f>0&&(B(n,i,s-u-k[l]),i+=f);for(var p=0;p<h;++p)o[c]=32767&s,c=32767&(c<<5^t[s]),++s;a-=h-1}else l<=143?l+=48:i=j(n,i,1),i=U(n,i,O[l]),o[c]=32767&s,++s}i=U(n,i,0)-1}}return n.l=(i+7)/8|0,n.l}(t,n)}}();function Y(e){var t=PQ(50+Math.floor(1.1*e.length)),n=K(e,t);return t.slice(0,n)}var $=I?new Uint16Array(32768):V(32768),Q=I?new Uint16Array(32768):V(32768),X=I?new Uint16Array(128):V(128),J=1,Z=1;function ee(e,t){var n=D(e,t)+257,r=D(e,t+=5)+1,i=function(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}(e,t+=5)+4;t+=4;for(var s=0,o=I?new Uint8Array(19):V(19),a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=1,l=I?new Uint8Array(8):V(8),u=I?new Uint8Array(8):V(8),h=o.length,d=0;d<i;++d)o[T[d]]=s=R(e,t),c<s&&(c=s),l[s]++,t+=3;var f=0;for(l[0]=0,d=1;d<=c;++d)u[d]=f=f+l[d-1]<<1;for(d=0;d<h;++d)0!=(f=o[d])&&(a[d]=u[f]++);var p=0;for(d=0;d<h;++d)if(0!=(p=o[d])){f=O[a[d]]>>8-p;for(var g=(1<<7-p)-1;g>=0;--g)X[f|g<<p]=7&p|d<<3}var m=[];for(c=1;m.length<n+r;)switch(t+=7&(f=X[M(e,t)]),f>>>=3){case 16:for(s=3+N(e,t),t+=2,f=m[m.length-1];s-- >0;)m.push(f);break;case 17:for(s=3+R(e,t),t+=3;s-- >0;)m.push(0);break;case 18:for(s=11+M(e,t),t+=7;s-- >0;)m.push(0);break;default:m.push(f),c<f&&(c=f)}var v=m.slice(0,n),y=m.slice(n);for(d=n;d<286;++d)v[d]=0;for(d=r;d<30;++d)y[d]=0;return J=W(v,$,286),Z=W(y,Q,30),t}function te(e,t){var n=function(e,t){if(3==e[0]&&!(3&e[1]))return[DK(t),2];for(var n=0,r=0,i=MK(t||1<<18),s=0,o=i.length>>>0,a=0,c=0;0==(1&r);)if(r=R(e,n),n+=3,r>>>1!=0)for(r>>1==1?(a=9,c=5):(n=ee(e,n),a=J,c=Z);;){!t&&o<s+32767&&(o=(i=z(i,s+32767)).length);var l=L(e,n,a),u=r>>>1==1?H[l]:$[l];if(n+=15&u,0===((u>>>=4)>>>8&255))i[s++]=u;else{if(256==u)break;var h=(u-=257)<8?0:u-4>>2;h>5&&(h=0);var d=s+S[u];h>0&&(d+=L(e,n,h),n+=h),l=L(e,n,c),n+=15&(u=r>>>1==1?q[l]:Q[l]);var f=(u>>>=4)<4?0:u-2>>1,p=k[u];for(f>0&&(p+=L(e,n,f),n+=f),!t&&o<d&&(o=(i=z(i,d+100)).length);s<d;)i[s]=i[s-p],++s}}else{7&n&&(n+=8-(7&n));var g=e[n>>>3]|e[1+(n>>>3)]<<8;if(n+=32,g>0)for(!t&&o<s+g&&(o=(i=z(i,s+g)).length);g-- >0;)i[s++]=e[n>>>3],n+=8}return t?[i,n+7>>>3]:[i.slice(0,s),n+7>>>3]}(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function ne(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function re(e,t){var n=e;OQ(n,0);var r={FileIndex:[],FullPaths:[]};d(r,{root:t.root});for(var i=n.length-4;(80!=n[i]||75!=n[i+1]||5!=n[i+2]||6!=n[i+3])&&i>=0;)--i;n.l=i+4,n.l+=4;var o=n.read_shift(2);n.l+=6;var a=n.read_shift(4);for(n.l=a,i=0;i<o;++i){n.l+=20;var c=n.read_shift(4),l=n.read_shift(4),u=n.read_shift(2),h=n.read_shift(2),f=n.read_shift(2);n.l+=8;var p=n.read_shift(4),g=s(n.slice(n.l+u,n.l+u+h));n.l+=u+h+f;var m=n.l;n.l=p+4,ie(n,c,l,r,g),n.l=m}return r}function ie(e,t,n,r,i){e.l+=2;var o=e.read_shift(2),a=e.read_shift(2),c=function(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,i=31&n,s=15&(n>>>=5);n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(s-1),r.setDate(i);var o=31&t,a=63&(t>>>=5);return t>>>=6,r.setHours(t),r.setMinutes(a),r.setSeconds(o<<1),r}(e);if(8257&o)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var l=e.read_shift(4),u=e.read_shift(4),h=e.read_shift(2),d=e.read_shift(2),f="",p=0;p<h;++p)f+=String.fromCharCode(e[e.l++]);if(d){var m=s(e.slice(e.l,e.l+d));(m[21589]||{}).mt&&(c=m[21589].mt),((i||{})[21589]||{}).mt&&(c=i[21589].mt)}e.l+=d;var v=e.slice(e.l,e.l+l);switch(a){case 8:v=function(e,t){if(!g)return te(e,t);var n=new(0,g.InflateRaw),r=n._processChunk(e.slice(e.l),n._finishFlushFlag);return e.l+=n.bytesRead,r}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+a)}var y=!1;8&o&&(134695760==e.read_shift(4)&&(e.read_shift(4),y=!0),l=e.read_shift(4),u=e.read_shift(4)),l!=t&&ne(y,"Bad compressed size: "+t+" != "+l),u!=n&&ne(y,"Bad uncompressed size: "+n+" != "+u),ue(r,f,v,{unsafe:!0,mt:c})}var se={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function oe(e,t){if(e.ctype)return e.ctype;var n=e.name||"",r=n.match(/\.([^\.]+)$/);return r&&se[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/))&&se[r[1]]?se[r[1]]:"application/octet-stream"}function ae(e){for(var t=AK(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join("\r\n")+"\r\n"}function ce(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var n=[],r=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),i=0;i<r.length;++i){var s=r[i];if(0!=s.length)for(var o=0;o<s.length;){var a=76,c=s.slice(o,o+a);"="==c.charAt(a-1)?a--:"="==c.charAt(a-2)?a-=2:"="==c.charAt(a-3)&&(a-=3),c=s.slice(o,o+a),(o+=a)<s.length&&(c+="="),n.push(c)}else n.push("")}return n.join("\r\n")}function le(e,t,n){for(var r,i="",s="",o="",a=0;a<10;++a){var c=t[a];if(!c||c.match(/^\s*$/))break;var l=c.match(/^(.*?):\s*([^\s].*)$/);if(l)switch(l[1].toLowerCase()){case"content-location":i=l[2].trim();break;case"content-type":o=l[2].trim();break;case"content-transfer-encoding":s=l[2].trim()}}switch(++a,s.toLowerCase()){case"base64":r=LK(PK(t.slice(a).join("")));break;case"quoted-printable":r=function(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n];n<=e.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var i=0;i<t.length;++i)t[i]=t[i].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return LK(t.join("\r\n"))}(t.slice(a));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+s)}var u=ue(e,i.slice(n.length),r,{unsafe:!0});o&&(u.ctype=o)}function ue(e,t,n,i){var s=i&&i.unsafe;s||d(e);var o=!s&&MY.find(e,t);if(!o){var a=e.FullPaths[0];t.slice(0,a.length)==a?a=t:("/"!=a.slice(-1)&&(a+="/"),a=(a+t).replace("//","/")),o={name:r(t),type:2},e.FileIndex.push(o),e.FullPaths.push(a),s||MY.utils.cfb_gc(e)}return o.content=n,o.size=n?n.length:0,i&&(i.CLSID&&(o.clsid=i.CLSID),i.mt&&(o.mt=i.mt),i.ct&&(o.ct=i.ct)),o}return t.find=function(e,t){var n=e.FullPaths.map((function(e){return e.toUpperCase()})),r=n.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),i=!1;47===t.charCodeAt(0)?(i=!0,t=n[0].slice(0,-1)+t):i=-1!==t.indexOf("/");var s=t.toUpperCase(),o=!0===i?n.indexOf(s):r.indexOf(s);if(-1!==o)return e.FileIndex[o];var a=!s.match(zK);for(s=s.replace(BK,""),a&&(s=s.replace(zK,"!")),o=0;o<n.length;++o){if((a?n[o].replace(zK,"!"):n[o]).replace(BK,"")==s)return e.FileIndex[o];if((a?r[o].replace(zK,"!"):r[o]).replace(BK,"")==s)return e.FileIndex[o]}return null},t.read=function(t,n){var r=n&&n.type;switch(r||NK&&Buffer.isBuffer(t)&&(r="buffer"),r||"base64"){case"file":return function(t,n){return o(),a(e.readFileSync(t),n)}(t,n);case"base64":return a(LK(PK(t)),n);case"binary":return a(LK(t),n)}return a(t,n)},t.parse=a,t.write=function(t,n){var r=p(t,n);switch(n&&n.type||"buffer"){case"file":return o(),e.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:x(r);case"base64":return AK("string"==typeof r?r:x(r));case"buffer":if(NK)return Buffer.isBuffer(r)?r:RK(r);case"array":return"string"==typeof r?LK(r):r}return r},t.writeFile=function(t,n,r){o();var i=p(t,r);e.writeFileSync(n,i)},t.utils={cfb_new:function(e){var t={};return d(t,e),t},cfb_add:ue,cfb_del:function(e,t){d(e);var n=MY.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(e,t,n){d(e);var i=MY.find(e,t);if(i)for(var s=0;s<e.FileIndex.length;++s)if(e.FileIndex[s]==i)return e.FileIndex[s].name=r(n),e.FullPaths[s]=n,!0;return!1},cfb_gc:function(e){f(e,!0)},ReadShift:EQ,CheckField:IQ,prep_blob:OQ,bconcat:UK,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");g=e}catch(n){console.error("cannot use native zlib: "+(n.message||n))}},_deflateRaw:Y,_inflateRaw:te,consts:_},t}();let LY;function FY(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function jY(e){for(var t=[],n=FY(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}var UY=new Date(1899,11,30,0,0,0);function BY(e,t){var n=e.getTime();return t&&(n-=1263168e5),(n-(UY.getTime()+6e4*(e.getTimezoneOffset()-UY.getTimezoneOffset())))/864e5}var zY=new Date,VY=UY.getTime()+6e4*(zY.getTimezoneOffset()-UY.getTimezoneOffset()),WY=zY.getTimezoneOffset();function HY(e){var t=new Date;return t.setTime(24*e*60*60*1e3+VY),t.getTimezoneOffset()!==WY&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-WY)),t}function qY(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(!r)throw new Error("Unsupported ISO Duration Field: M");n*=60}t+=n*parseInt(i[s],10)}return t}var GY=new Date("2017-02-19T19:06:09.000Z"),KY=isNaN(GY.getFullYear())?new Date("2/19/17"):GY,YY=2017==KY.getFullYear();function $Y(e,t){var n=new Date(e);if(YY)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==KY.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function QY(e,t){if(NK&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return M$(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return M$(EK(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return M$(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return M$(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,(function(e){return n[e]||e}))}catch(s){}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function XY(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=XY(e[n]));return t}function JY(e,t){for(var n="";n.length<t;)n+=e;return n}function ZY(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return n*=100,""}));return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,(function(e,t){return n=-n,t})),isNaN(t=Number(r))?t:t/n):t/n}var e$=["january","february","march","april","may","june","july","august","september","october","november","december"];function t$(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==e$.indexOf(o))return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}var n$=function(){var e=5=="abacaba".split(/(:?b)/i).length;return function(t,n,r){if(e||"string"==typeof n)return t.split(n);for(var i=t.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(r),s.push(i[o]);return s}}();function r$(e){return e?e.content&&e.type?QY(e.content,!0):e.data?SK(e.data):e.asNodeBuffer&&NK?SK(e.asNodeBuffer().toString("binary")):e.asBinary?SK(e.asBinary()):e._data&&e._data.getContent?SK(QY(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function i$(e){if(!e)return null;if(e.data)return xK(e.data);if(e.asNodeBuffer&&NK)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return"string"==typeof t?xK(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function s$(e,t){for(var n=e.FullPaths||FY(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function o$(e,t){var n=s$(e,t);if(null==n)throw new Error("Cannot find file "+t+" in zip");return n}function a$(e,t,n){if(!n)return(r=o$(e,t))&&".bin"===r.name.slice(-4)?i$(r):r$(r);var r;if(!t)return null;try{return a$(e,t)}catch(i){return null}}function c$(e,t,n){if(!n)return r$(o$(e,t));if(!t)return null;try{return c$(e,t)}catch(r){return null}}function l$(e,t,n){if(!n)return i$(o$(e,t));if(!t)return null;try{return l$(e,t)}catch(r){return null}}function u$(e){for(var t=e.FullPaths||FY(e.files),n=[],r=0;r<t.length;++r)"/"!=t[r].slice(-1)&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function h$(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=NK?RK(n):function(e){for(var t=[],n=0,r=e.length+250,i=DK(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var a=1023&e.charCodeAt(++s);i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|a>>6&15|(3&o)<<4,i[n++]=128|63&a}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|63&o;n>r&&(t.push(i.slice(0,n)),n=0,i=DK(65535),r=65530)}return t.push(i.slice(0,n)),UK(t)}(n),MY.utils.cfb_add(e,t,r);MY.utils.cfb_add(e,t,n)}else e.file(t,n)}function d$(e,t){switch(t.type){case"base64":return MY.read(e,{type:"base64"});case"binary":return MY.read(e,{type:"binary"});case"buffer":case"array":return MY.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function f$(e,t){if("/"==e.charAt(0))return e.slice(1);var n=t.split("/");"/"!=t.slice(-1)&&n.pop();for(var r=e.split("/");0!==r.length;){var i=r.shift();".."===i?n.pop():"."!==i&&n.push(i)}return n.join("/")}var p$='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',g$=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,m$=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,v$=p$.match(m$)?m$:/<[^>]*>/g,y$=/<\w*:/,b$=/<(\/?)\w+:/;function w$(e,t,n){for(var r={},i=0,s=0;i!==e.length&&(32!==(s=e.charCodeAt(i))&&10!==s&&13!==s);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var o=e.match(g$),a=0,c="",l=0,u="",h="",d=1;if(o)for(l=0;l!=o.length;++l){for(h=o[l],s=0;s!=h.length&&61!==h.charCodeAt(s);++s);for(u=h.slice(0,s).trim();32==h.charCodeAt(s+1);)++s;for(d=34==(i=h.charCodeAt(s+1))||39==i?1:0,c=h.slice(s+1+d,h.length-d),a=0;a!=u.length&&58!==u.charCodeAt(a);++a);if(a===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=c,n||(r[u.toLowerCase()]=c);else{var f=(5===a&&"xmlns"===u.slice(0,5)?"xmlns":"")+u.slice(a+1);if(r[f]&&"ext"==u.slice(a-3,a))continue;r[f]=c,n||(r[f.toLowerCase()]=c)}}return r}function _$(e){return e.replace(b$,"<$1")}var x$={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},E$=jY(x$),T$=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(-1==s)return i.replace(e,(function(e,t){return x$[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e})).replace(t,(function(e,t){return String.fromCharCode(parseInt(t,16))}));var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}}(),S$=/[&<>'"]/g;var k$=/[\u0000-\u001f]/g;function C$(e){return(e+"").replace(S$,(function(e){return E$[e]})).replace(/\n/g,"<br/>").replace(k$,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}var I$=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(n){return n.replace(e,t)}}();function O$(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function A$(e){for(var t="",n=0,r=0,i=0,s=0,o=0,a=0;n<e.length;)(r=e.charCodeAt(n++))<128?t+=String.fromCharCode(r):(i=e.charCodeAt(n++),r>191&&r<224?(o=(31&r)<<6,o|=63&i,t+=String.fromCharCode(o)):(s=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&s):(a=((7&r)<<18|(63&i)<<12|(63&s)<<6|63&(o=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(1023&a)))));return t}function P$(e){var t,n,r,i=DK(2*e.length),s=1,o=0,a=0;for(n=0;n<e.length;n+=s)s=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),s=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),s=3):(s=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),a=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==a&&(i[o++]=255&a,i[o++]=a>>>8,a=0),i[o++]=t%256,i[o++]=t>>>8;return i.slice(0,o).toString("ucs2")}function N$(e){return RK(e,"binary").toString("utf8")}var R$="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",D$=NK&&(N$(R$)==A$(R$)&&N$||P$(R$)==A$(R$)&&P$)||A$,M$=NK?function(e){return RK(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},L$=function(){var e={};return function(t,n){var r=t+"|"+(n||"");return e[r]?e[r]:e[r]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}}(),F$=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}(),j$=function(){var e={};return function(t){return void 0!==e[t]?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),U$=/<\/?(?:vt:)?variant>/g,B$=/<(?:vt:)([^>]*)>([\s\S]*)</;function z$(e,t){var n=w$(e),r=e.match(j$(n.baseType))||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach((function(e){var t=e.replace(U$,"").match(B$);t&&i.push({v:D$(t[2]),t:t[1]})})),i}var V$=/(^\s|\s$|\n)/;function W$(e){return FY(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function H$(e,t,n){return"<"+e+(null!=n?W$(n):"")+(null!=t?(t.match(V$)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function q$(e){if(NK&&Buffer.isBuffer(e))return e.toString("utf8");if("string"===typeof e)return e;if("undefined"!==typeof Uint8Array&&e instanceof Uint8Array)return D$(FK(jK(e)));throw new Error("Bad input format: expected Buffer or string")}var G$=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,K$={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Y$=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];var $$=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,i=e[0][n].length;r<i;r+=10240)t.push.apply(t,e[0][n].slice(r,r+10240));return t},Q$=NK?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:RK(e)}))):$$(e)}:$$,X$=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(yQ(e,i)));return r.join("").replace(BK,"")},J$=NK?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(BK,""):X$(e,t,n)}:X$,Z$=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},eQ=NK?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):Z$(e,t,n)}:Z$,tQ=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(vQ(e,i)));return r.join("")},nQ=NK?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):tQ(e,t,n)}:tQ,rQ=function(e,t){var n=wQ(e,t);return n>0?nQ(e,t+4,t+4+n-1):""},iQ=rQ,sQ=function(e,t){var n=wQ(e,t);return n>0?nQ(e,t+4,t+4+n-1):""},oQ=sQ,aQ=function(e,t){var n=2*wQ(e,t);return n>0?nQ(e,t+4,t+4+n-1):""},cQ=aQ,lQ=function(e,t){var n=wQ(e,t);return n>0?J$(e,t+4,t+4+n):""},uQ=lQ,hQ=function(e,t){var n=wQ(e,t);return n>0?nQ(e,t+4,t+4+n):""},dQ=hQ,fQ=function(e,t){return function(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),i=15&e[t+6],s=5;s>=0;--s)i=256*i+e[t+s];return 2047==r?0==i?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}(e,t)},pQ=fQ,gQ=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function mQ(){J$=function(e,t,n){return TK.utils.decode(1200,e.slice(t,n)).replace(BK,"")},nQ=function(e,t,n){return TK.utils.decode(65001,e.slice(t,n))},iQ=function(e,t){var n=wQ(e,t);return n>0?TK.utils.decode(mK,e.slice(t+4,t+4+n-1)):""},oQ=function(e,t){var n=wQ(e,t);return n>0?TK.utils.decode(gK,e.slice(t+4,t+4+n-1)):""},cQ=function(e,t){var n=2*wQ(e,t);return n>0?TK.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},uQ=function(e,t){var n=wQ(e,t);return n>0?TK.utils.decode(1200,e.slice(t+4,t+4+n)):""},dQ=function(e,t){var n=wQ(e,t);return n>0?TK.utils.decode(65001,e.slice(t+4,t+4+n)):""}}NK&&(iQ=function(e,t){if(!Buffer.isBuffer(e))return rQ(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},oQ=function(e,t){if(!Buffer.isBuffer(e))return sQ(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},cQ=function(e,t){if(!Buffer.isBuffer(e))return aQ(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},uQ=function(e,t){if(!Buffer.isBuffer(e))return lQ(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},dQ=function(e,t){if(!Buffer.isBuffer(e))return hQ(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},pQ=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):fQ(e,t)},gQ=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof TK&&mQ();var vQ=function(e,t){return e[t]},yQ=function(e,t){return 256*e[t+1]+e[t]},bQ=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},wQ=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},_Q=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},xQ=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function EQ(e,t){var n,r,i,s,o,a,c="",l=[];switch(t){case"dbcs":if(a=this.l,NK&&Buffer.isBuffer(this))c=this.slice(this.l,this.l+2*e).toString("utf16le");else for(o=0;o<e;++o)c+=String.fromCharCode(yQ(this,a)),a+=2;e*=2;break;case"utf8":c=nQ(this,this.l,this.l+e);break;case"utf16le":e*=2,c=J$(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof TK)return EQ.call(this,e,"dbcs");c=TK.utils.decode(gK,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":c=iQ(this,this.l),e=4+wQ(this,this.l);break;case"lpstr-cp":c=oQ(this,this.l),e=4+wQ(this,this.l);break;case"lpwstr":c=cQ(this,this.l),e=4+2*wQ(this,this.l);break;case"lpp4":e=4+wQ(this,this.l),c=uQ(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+wQ(this,this.l),c=dQ(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,c="";0!==(i=vQ(this,this.l+e++));)l.push(kK(i));c=l.join("");break;case"_wstr":for(e=0,c="";0!==(i=yQ(this,this.l+e));)l.push(kK(i)),e+=2;e+=2,c=l.join("");break;case"dbcs-cont":for(c="",a=this.l,o=0;o<e;++o){if(this.lens&&-1!==this.lens.indexOf(a))return i=vQ(this,a),this.l=a+1,s=EQ.call(this,e-o,i?"dbcs-cont":"sbcs-cont"),l.join("")+s;l.push(kK(yQ(this,a))),a+=2}c=l.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof TK){c=TK.utils.decode(gK,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(c="",a=this.l,o=0;o!=e;++o){if(this.lens&&-1!==this.lens.indexOf(a))return i=vQ(this,a),this.l=a+1,s=EQ.call(this,e-o,i?"dbcs-cont":"sbcs-cont"),l.join("")+s;l.push(kK(vQ(this,a))),a+=1}c=l.join("");break;default:switch(e){case 1:return n=vQ(this,this.l),this.l++,n;case 2:return n=("i"===t?bQ:yQ)(this,this.l),this.l+=2,n;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(n=(e>0?_Q:xQ)(this,this.l),this.l+=4,n):(r=wQ(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return r=8==e?pQ(this,this.l):pQ([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:c=eQ(this,this.l,e)}}return this.l+=e,c}var TQ=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},SQ=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},kQ=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function CQ(e,t,n){var r=0,i=0;if("dbcs"===n){for(i=0;i!=t.length;++i)kQ(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if("sbcs"===n){if("undefined"!==typeof TK&&874==mK)for(i=0;i!=t.length;++i){var s=TK.utils.encode(mK,t.charAt(i));this[this.l+i]=s[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);r=t.length}else{if("hex"===n){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===n){var o=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var a=t.charCodeAt(i);this[this.l++]=255&a,this[this.l++]=a>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,TQ(this,t,this.l);break;case 8:if(r=8,"f"===n){!function(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,o=r?-t:t;isFinite(o)?0==o?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var a=0;a<=5;++a,s/=256)e[n+a]=255&s;e[n+6]=(15&i)<<4|15&s,e[n+7]=i>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,SQ(this,t,this.l)}}return this.l+=r,this}function IQ(e,t){var n=eQ(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function OQ(e,t){e.l=t,e.read_shift=EQ,e.chk=IQ,e.write_shift=CQ}function AQ(e,t){e.l+=t}function PQ(e){var t=DK(e);return OQ(t,0),t}function NQ(e,t,n){if(e){var r,i,s;OQ(e,e.l||0);for(var o=e.length,a=0,c=0;e.l<o;){128&(a=e.read_shift(1))&&(a=(127&a)+((127&e.read_shift(1))<<7));var l=Y1[a]||Y1[65535];for(s=127&(r=e.read_shift(1)),i=1;i<4&&128&r;++i)s+=(127&(r=e.read_shift(1)))<<7*i;c=e.l+s;var u=l.f&&l.f(e,s,n);if(e.l=c,t(u,l,a))return}}}function RQ(){var e=[],t=NK?256:2048,n=function(e){var t=PQ(e);return OQ(t,0),t},r=n(t),i=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},s=function(e){return r&&e<r.length-r.l?r:(i(),r=n(Math.max(e+1,t)))};return{next:s,push:function(e){i(),null==(r=e).l&&(r.l=r.length),s(t)},end:function(){return i(),UK(e)},_bufs:e}}function DQ(e,t,n){var r=XY(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function MQ(e,t,n){var r=XY(e);return r.s=DQ(r.s,t.s,n),r.e=DQ(r.e,t.s,n),r}function LQ(e,t){if(e.cRel&&e.c<0)for(e=XY(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=XY(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=WQ(e);return e.cRel||null==e.cRel||(n=n.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(n=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function FQ(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?LQ(e.s,t.biff)+":"+LQ(e.e,t.biff):(e.s.rRel?"":"$")+UQ(e.s.r)+":"+(e.e.rRel?"":"$")+UQ(e.e.r):(e.s.cRel?"":"$")+zQ(e.s.c)+":"+(e.e.cRel?"":"$")+zQ(e.e.c)}function jQ(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function UQ(e){return""+(e+1)}function BQ(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function zQ(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function VQ(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function WQ(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function HQ(e){var t=e.indexOf(":");return-1==t?{s:VQ(e),e:VQ(e)}:{s:VQ(e.slice(0,t)),e:VQ(e.slice(t+1))}}function qQ(e,t){return"undefined"===typeof t||"number"===typeof t?qQ(e.s,e.e):("string"!==typeof e&&(e=WQ(e)),"string"!==typeof t&&(t=WQ(t)),e==t?e:e+":"+t)}function GQ(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===s||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function KQ(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=OY(e.z,n?BY(t):t)}catch(r){}try{return e.w=OY((e.XF||{}).numFmtId||(n?14:0),n?BY(t):t)}catch(r){return""+t}}function YQ(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?SX[e.v]||e.v:KQ(e,void 0==t?e.v:t))}function $Q(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function QQ(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense;null!=IK&&null==i&&(i=IK);var s=e||(i?[]:{}),o=0,a=0;if(s&&null!=r.origin){if("number"==typeof r.origin)o=r.origin;else{var c="string"==typeof r.origin?VQ(r.origin):r.origin;o=c.r,a=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var l={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=GQ(s["!ref"]);l.s.c=u.s.c,l.s.r=u.s.r,l.e.c=Math.max(l.e.c,u.e.c),l.e.r=Math.max(l.e.r,u.e.r),-1==o&&(l.e.r=o=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[h].length;++d)if("undefined"!==typeof t[h][d]){var f={v:t[h][d]},p=o+h,g=a+d;if(l.s.r>p&&(l.s.r=p),l.s.c>g&&(l.s.c=g),l.e.r<p&&(l.e.r=p),l.e.c<g&&(l.e.c=g),!t[h][d]||"object"!==typeof t[h][d]||Array.isArray(t[h][d])||t[h][d]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[h][d][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(r.nullError)f.t="e",f.v=0;else{if(!r.sheetStubs)continue;f.t="z"}else"number"===typeof f.v?f.t="n":"boolean"===typeof f.v?f.t="b":f.v instanceof Date?(f.z=r.dateNF||XK[14],r.cellDates?(f.t="d",f.w=OY(f.z,BY(f.v))):(f.t="n",f.v=BY(f.v),f.w=OY(f.z,f.v))):f.t="s";else f=t[h][d];if(i)s[p]||(s[p]=[]),s[p][g]&&s[p][g].z&&(f.z=s[p][g].z),s[p][g]=f;else{var m=WQ({c:g,r:p});s[m]&&s[m].z&&(f.z=s[m].z),s[m]=f}}}return l.s.c<1e7&&(s["!ref"]=qQ(l)),s}function XQ(e,t){return QQ(null,e,t)}function JQ(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function ZQ(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function eX(e,t){var n=e.l,r=e.read_shift(1),i=JQ(e),s=[],o={t:i,h:i};if(0!==(1&r)){for(var a=e.read_shift(4),c=0;c!=a;++c)s.push(ZQ(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}var tX=eX;function nX(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function rX(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var iX=JQ;function sX(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}var oX=JQ,aX=sX;function cX(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var i=0===r?pQ([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):_Q(t,0)>>2;return n?i/100:i}function lX(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var uX=lX;function hX(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function dX(e,t){var n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,1==t?"lpstr":"lpwstr")}var fX=2,pX=3,gX=12,mX=80,vX=81,yX=[mX,vX],bX={1:{n:"CodePage",t:fX},2:{n:"Category",t:mX},3:{n:"PresentationFormat",t:mX},4:{n:"ByteCount",t:pX},5:{n:"LineCount",t:pX},6:{n:"ParagraphCount",t:pX},7:{n:"SlideCount",t:pX},8:{n:"NoteCount",t:pX},9:{n:"HiddenCount",t:pX},10:{n:"MultimediaClipCount",t:pX},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:mX},15:{n:"Company",t:mX},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:pX},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:pX,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:mX},27:{n:"ContentStatus",t:mX},28:{n:"Language",t:mX},29:{n:"Version",t:mX},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},wX={1:{n:"CodePage",t:fX},2:{n:"Title",t:mX},3:{n:"Subject",t:mX},4:{n:"Author",t:mX},5:{n:"Keywords",t:mX},6:{n:"Comments",t:mX},7:{n:"Template",t:mX},8:{n:"LastAuthor",t:mX},9:{n:"RevNumber",t:mX},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:pX},15:{n:"WordCount",t:pX},16:{n:"CharCount",t:pX},17:{n:"Thumbnail",t:71},18:{n:"Application",t:mX},19:{n:"DocSecurity",t:pX},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},_X={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},xX=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function EX(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var TX=XY(EX([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),SX={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},kX={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},CX={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};var IX={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function OX(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function AX(e,t){var n={"!id":{}};if(!e)return n;"/"!==t.charAt(0)&&(t="/"+t);var r={};return(e.match(v$)||[]).forEach((function(e){var i=w$(e);if("<Relationship"===i[0]){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o="External"===i.TargetMode?i.Target:f$(i.Target,t);n[o]=s,r[i.Id]=s}})),n["!id"]=r,n}var PX="application/vnd.oasis.opendocument.spreadsheet";var NX=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],RX=function(){for(var e=new Array(NX.length),t=0;t<NX.length;++t){var n=NX[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function DX(e){var t={};e=D$(e);for(var n=0;n<NX.length;++n){var r=NX[n],i=e.match(RX[n]);null!=i&&i.length>0&&(t[r[1]]=T$(i[1])),"date"===r[2]&&t[r[1]]&&(t[r[1]]=$Y(t[r[1]]))}return t}var MX=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function LX(e,t,n,r){var i=[];if("string"==typeof e)i=z$(e,r);else for(var s=0;s<e.length;++s)i=i.concat(e[s].map((function(e){return{v:e}})));var o="string"==typeof t?z$(t,r).map((function(e){return e.v})):t,a=0,c=0;if(o.length>0)for(var l=0;l!==i.length;l+=2){switch(c=+i[l+1].v,i[l].v){case"Worksheets":case"\u5de5\u4f5c\u8868":case"\u041b\u0438\u0441\u0442\u044b":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30ef\u30fc\u30af\u30b7\u30fc\u30c8":case"\u05d2\u05dc\u05d9\u05d5\u05e0\u05d5\u05ea \u05e2\u05d1\u05d5\u05d3\u05d4":case"Arbeitsbl\xe4tter":case"\xc7al\u0131\u015fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xe1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xe1lculo":case"Werkbladen":n.Worksheets=c,n.SheetNames=o.slice(a,a+c);break;case"Named Ranges":case"Rangos con nombre":case"\u540d\u524d\u4ed8\u304d\u4e00\u89a7":case"Benannte Bereiche":case"Navngivne omr\xe5der":n.NamedRanges=c,n.DefinedNames=o.slice(a,a+c);break;case"Charts":case"Diagramme":n.Chartsheets=c,n.ChartNames=o.slice(a,a+c)}a+=c}}var FX=/<[^>]+>[^<]*/g;var jX,UX={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function BX(e,t,n){jX||(jX=jY(UX)),e[t=jX[t]||t]=n}function zX(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date(1e3*(n/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function VX(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return i}function WX(e,t,n){var r=e.read_shift(0,"lpwstr");return n&&(e.l+=4-(r.length+1&3)&3),r}function HX(e,t,n){return 31===t?WX(e):VX(e,0,n)}function qX(e,t,n){return HX(e,t,!1===n?0:4)}function GX(e){var t=e.l,n=$X(e,vX);return 0==e[e.l]&&0==e[e.l+1]&&e.l-t&2&&(e.l+=2),[n,$X(e,pX)]}function KX(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var s=e.read_shift(4),o=e.read_shift(4);r[s]=e.read_shift(o,1200===t?"utf16le":"utf8").replace(BK,"").replace(zK,"!"),1200===t&&o%2&&(e.l+=2)}return 3&e.l&&(e.l=e.l>>3<<2),r}function YX(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(3&t)>0&&(e.l+=4-(3&t)&3),n}function $X(e,t,n){var r,i=e.read_shift(2),s=n||{};if(e.l+=2,t!==gX&&i!==t&&-1===yX.indexOf(t)&&(4126!=(65534&t)||4126!=(65534&i)))throw new Error("Expected type "+t+" saw "+i);switch(t===gX?i:t){case 2:return r=e.read_shift(2,"i"),s.raw||(e.l+=2),r;case 3:return r=e.read_shift(4,"i");case 11:return 0!==e.read_shift(4);case 19:return r=e.read_shift(4);case 30:return VX(e,0,4).replace(BK,"");case 31:return WX(e);case 64:return zX(e);case 65:return YX(e);case 71:return function(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}(e);case 80:return qX(e,i,!s.raw).replace(BK,"");case 81:return function(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return HX(e,t,0)}(e,i).replace(BK,"");case 4108:return function(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(GX(e));return n}(e);case 4126:case 4127:return 4127==i?function(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,"lpwstr").replace(BK,""),e.l-i&2&&(e.l+=2)}return n}(e):function(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(BK,"");return n}(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+i)}}function QX(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0,a=0,c=-1,l={};for(o=0;o!=i;++o){var u=e.read_shift(4),h=e.read_shift(4);s[o]=[u,h+n]}s.sort((function(e,t){return e[1]-t[1]}));var d={};for(o=0;o!=i;++o){if(e.l!==s[o][1]){var f=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,f=!1);break;case 80:case 4108:e.l<=s[o][1]&&(e.l=s[o][1],f=!1)}if((!t||0==o)&&e.l<=s[o][1]&&(f=!1,e.l=s[o][1]),f)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var p=t[s[o][0]];if(d[p.n]=$X(e,p.t,{raw:!0}),"version"===p.p&&(d[p.n]=String(d[p.n]>>16)+"."+("0000"+String(65535&d[p.n])).slice(-4)),"CodePage"==p.n)switch(d[p.n]){case 0:d[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:wK(a=d[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[p.n])}}else if(1===s[o][0]){if(a=d.CodePage=$X(e,fX),wK(a),-1!==c){var g=e.l;e.l=s[c][1],l=KX(e,a),e.l=g}}else if(0===s[o][0]){if(0===a){c=o,e.l=s[o+1][1];continue}l=KX(e,a)}else{var m,v=l[s[o][0]];switch(e[e.l]){case 65:e.l+=4,m=YX(e);break;case 30:case 31:e.l+=4,m=qX(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,m=e.read_shift(4,"i");break;case 19:e.l+=4,m=e.read_shift(4);break;case 5:e.l+=4,m=e.read_shift(8,"f");break;case 11:e.l+=4,m=ZX(e,4);break;case 64:e.l+=4,m=$Y(zX(e));break;default:throw new Error("unparsed value: "+e[e.l])}d[v]=m}}return e.l=n+r,d}function XX(e,t,n){var r=e.content;if(!r)return{};OQ(r,0);var i,s,o,a,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var l=r.read_shift(4),u=r.read_shift(16);if(u!==MY.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(1!==(i=r.read_shift(4))&&2!==i)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),a=r.read_shift(4),1===i&&a!==r.l)throw new Error("Length mismatch: "+a+" !== "+r.l);2===i&&(o=r.read_shift(16),c=r.read_shift(4));var h,d=QX(r,t),f={SystemIdentifier:l};for(var p in d)f[p]=d[p];if(f.FMTID=s,1===i)return f;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);try{h=QX(r,null)}catch(g){}for(p in h)f[p]=h[p];return f.FMTID=[s,o],f}function JX(e,t){return e.read_shift(t),null}function ZX(e,t){return 1===e.read_shift(t)}function eJ(e){return e.read_shift(2,"u")}function tJ(e,t){return function(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}(e,t,eJ)}function nJ(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont",s=gK;(n&&n.biff>=8&&(gK=1200),n&&8!=n.biff)?12==n.biff&&(i="wstr"):e.read_shift(1)&&(i="dbcs-cont");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?e.read_shift(r,i):"";return gK=s,o}function rJ(e){var t=gK;gK=1200;var n,r=e.read_shift(2),i=e.read_shift(1),s=4&i,o=8&i,a=1+(1&i),c=0,l={};o&&(c=e.read_shift(2)),s&&(n=e.read_shift(4));var u=2==a?"dbcs-cont":"sbcs-cont",h=0===r?"":e.read_shift(r,u);return o&&(e.l+=4*c),s&&(e.l+=n),l.t=h,o||(l.raw="<t>"+l.t+"</t>",l.r=l.t),gK=t,l}function iJ(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function sJ(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):iJ(e,r,n)}function oJ(e,t,n){if(n.biff>5)return sJ(e,0,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function aJ(e,t){var n=e.read_shift(16);switch(16,n){case"e0c9ea79f9bace118c8200aa004ba90b":return function(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace(BK,"");return r&&(e.l+=24),i}(e);case"0303000000000000c000000000000046":return function(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw new Error("Bad FileMoniker");if(0===e.read_shift(4))return n+r.replace(/\\/g,"/");var i=e.read_shift(4);if(3!=e.read_shift(2))throw new Error("Bad FileMoniker");return n+e.read_shift(i>>1,"utf16le").replace(BK,"")}(e);default:throw new Error("Unsupported Moniker "+n)}}function cJ(e){var t=e.read_shift(4);return t>0?e.read_shift(t,"utf16le").replace(BK,""):""}function lJ(e){return[e.read_shift(1),e.read_shift(1),e.read_shift(1),e.read_shift(1)]}function uJ(e,t){var n=lJ(e);return n[3]=0,n}function hJ(e){return{r:e.read_shift(2),c:e.read_shift(2),ixfe:e.read_shift(2)}}function dJ(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function fJ(e){return[e.read_shift(2),cX(e)]}function pJ(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function gJ(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(1),r:t},e:{c:e.read_shift(1),r:n}}}var mJ=gJ;function vJ(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function yJ(e){e.l+=2,e.l+=e.read_shift(2)}var bJ={0:yJ,4:yJ,5:yJ,6:yJ,7:function(e){return e.l+=4,e.cf=e.read_shift(2),{}},8:yJ,9:yJ,10:yJ,11:yJ,12:yJ,13:function(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t},14:yJ,15:yJ,16:yJ,17:yJ,18:yJ,19:yJ,20:yJ,21:vJ};function wJ(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),(t-=2)>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function _J(e,t,n){var r=0;n&&2==n.biff||(r=e.read_shift(2));var i=e.read_shift(2);return n&&2==n.biff&&(r=1-(i>>15),i&=32767),[{Unsynced:1&r,DyZero:(2&r)>>1,ExAsc:(4&r)>>2,ExDsc:(8&r)>>3},i]}var xJ=oJ;function EJ(e,t,n){var r=e.l+t,i=8!=n.biff&&n.biff?2:4,s=e.read_shift(i),o=e.read_shift(i),a=e.read_shift(2),c=e.read_shift(2);return e.l=r,{s:{r:s,c:a},e:{r:o,c:c}}}function TJ(e,t,n){var r=hJ(e);2!=n.biff&&9!=t||++e.l;var i=function(e){var t=e.read_shift(1);return 1===e.read_shift(1)?t:1===t}(e);return r.val=i,r.t=!0===i||!1===i?"b":"e",r}var SJ=function(e,t,n){return 0===t?"":oJ(e,0,n)};function kJ(e,t,n){var r,i=e.read_shift(2),s={fBuiltIn:1&i,fWantAdvise:i>>>1&1,fWantPict:i>>>2&1,fOle:i>>>3&1,fOleLink:i>>>4&1,cf:i>>>5&1023,fIcon:i>>>15&1};return 14849===n.sbcch&&(r=function(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=nJ(e,0,n),s=e.read_shift(2);if(s!==(r-=e.l))throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,i}(e,t-2,n)),s.body=r||e.read_shift(t-2),"string"===typeof r&&(s.Name=r),s}var CJ=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function IJ(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),a=e.read_shift(n&&2==n.biff?1:2),c=0;(!n||n.biff>=5)&&(5!=n.biff&&(e.l+=2),c=e.read_shift(2),5==n.biff&&(e.l+=2),e.l+=4);var l=iJ(e,o,n);32&i&&(l=CJ[l.charCodeAt(0)]);var u=r-e.l;n&&2==n.biff&&--u;var h=r!=e.l&&0!==a&&u>0?function(e,t,n,r){var i,s=e.l+t,o=w0(e,r,n);s!==e.l&&(i=b0(e,s-e.l,o,n));return[o,i]}(e,u,n,a):[];return{chKey:s,Name:l,itab:c,rgce:h}}function OJ(e,t,n){if(n.biff<8)return function(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=nJ(e,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,n);for(var r=[],i=e.l+t,s=e.read_shift(n.biff>8?4:2);0!==s--;)r.push(dJ(e,n.biff,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function AJ(e,t,n){var r=mJ(e,6);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,k0(e,t,n)]}var PJ={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function NJ(e,t,n){if(!n.cellStyles)return AQ(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),a=e.read_shift(r),c=e.read_shift(2);2==r&&(e.l+=2);var l={s:i,e:s,w:o,ixfe:a,flags:c};return(n.biff>=5||!n.biff)&&(l.level=c>>8&7),l}var RJ=hJ,DJ=tJ,MJ=sJ;var LJ=[2,3,48,49,131,139,140,245],FJ=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=jY({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=n||{};r.dateNF||(r.dateNF="yyyymmdd");var i=XQ(function(t,n){var r=[],i=DK(1);switch(n.type){case"base64":i=LK(PK(t));break;case"binary":i=LK(t);break;case"buffer":case"array":i=t}OQ(i,0);var s=i.read_shift(1),o=!!(136&s),a=!1,c=!1;switch(s){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:a=!0,o=!0;break;case 140:c=!0;break;default:throw new Error("DBF Unsupported Version: "+s.toString(16))}var l=0,u=521;2==s&&(l=i.read_shift(2)),i.l+=3,2!=s&&(l=i.read_shift(4)),l>1048576&&(l=1e6),2!=s&&(u=i.read_shift(2));var h=i.read_shift(2),d=n.codepage||1252;2!=s&&(i.l+=16,i.read_shift(1),0!==i[i.l]&&(d=e[i[i.l]]),i.l+=1,i.l+=2),c&&(i.l+=36);for(var f=[],p={},g=Math.min(i.length,2==s?521:u-10-(a?264:0)),m=c?32:11;i.l<g&&13!=i[i.l];)switch((p={}).name=TK.utils.decode(d,i.slice(i.l,i.l+m)).replace(/[\u0000\r\n].*$/g,""),i.l+=m,p.type=String.fromCharCode(i.read_shift(1)),2==s||c||(p.offset=i.read_shift(4)),p.len=i.read_shift(1),2==s&&(p.offset=i.read_shift(2)),p.dec=i.read_shift(1),p.name.length&&f.push(p),2!=s&&(i.l+=c?13:14),p.type){case"B":a&&8==p.len||!n.WTF||console.log("Skipping "+p.name+":"+p.type);break;case"G":case"P":n.WTF&&console.log("Skipping "+p.name+":"+p.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==i[i.l]&&(i.l=u-1),13!==i.read_shift(1))throw new Error("DBF Terminator not found "+i.l+" "+i[i.l]);i.l=u;var v=0,y=0;for(r[0]=[],y=0;y!=f.length;++y)r[0][y]=f[y].name;for(;l-- >0;)if(42!==i[i.l])for(++i.l,r[++v]=[],y=0,y=0;y!=f.length;++y){var b=i.slice(i.l,i.l+f[y].len);i.l+=f[y].len,OQ(b,0);var w=TK.utils.decode(d,b);switch(f[y].type){case"C":w.trim().length&&(r[v][y]=w.replace(/\s+$/,""));break;case"D":8===w.length?r[v][y]=new Date(+w.slice(0,4),+w.slice(4,6)-1,+w.slice(6,8)):r[v][y]=w;break;case"F":r[v][y]=parseFloat(w.trim());break;case"+":case"I":r[v][y]=c?2147483648^b.read_shift(-4,"i"):b.read_shift(4,"i");break;case"L":switch(w.trim().toUpperCase()){case"Y":case"T":r[v][y]=!0;break;case"N":case"F":r[v][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+w+"|")}break;case"M":if(!o)throw new Error("DBF Unexpected MEMO for type "+s.toString(16));r[v][y]="##MEMO##"+(c?parseInt(w.trim(),10):b.read_shift(4));break;case"N":(w=w.replace(/\u0000/g,"").trim())&&"."!=w&&(r[v][y]=+w||0);break;case"@":r[v][y]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":r[v][y]=new Date(864e5*(b.read_shift(4)-2440588)+b.read_shift(4));break;case"Y":r[v][y]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[v][y]=-b.read_shift(-8,"f");break;case"B":if(a&&8==f[y].len){r[v][y]=b.read_shift(8,"f");break}case"G":case"P":b.l+=f[y].len;break;case"0":if("_NullFlags"===f[y].name)break;default:throw new Error("DBF Unsupported data type "+f[y].type)}}else i.l+=h;if(2!=s&&i.l<i.length&&26!=i[i.l++])throw new Error("DBF EOF Marker missing "+(i.l-1)+" of "+i.length+" "+i[i.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=f,r}(t,r),r);return i["!cols"]=r.DBF.map((function(e){return{wch:e.len,DBF:e}})),delete r.DBF,i}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return $Q(n(e,t),t)}catch(r){if(t&&t.WTF)throw r}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function(e,n){var i=n||{};if(+i.codepage>=0&&wK(+i.codepage),"string"==i.type)throw new Error("Cannot write DBF to JS string");var s=RQ(),o=V2(e,{header:1,raw:!0,cellDates:!0}),a=o[0],c=o.slice(1),l=e["!cols"]||[],u=0,h=0,d=0,f=1;for(u=0;u<a.length;++u)if(((l[u]||{}).DBF||{}).name)a[u]=l[u].DBF.name,++d;else if(null!=a[u]){if(++d,"number"===typeof a[u]&&(a[u]=a[u].toString(10)),"string"!==typeof a[u])throw new Error("DBF Invalid column name "+a[u]+" |"+typeof a[u]+"|");if(a.indexOf(a[u])!==u)for(h=0;h<1024;++h)if(-1==a.indexOf(a[u]+"_"+h)){a[u]+="_"+h;break}}var p=GQ(e["!ref"]),g=[],m=[],v=[];for(u=0;u<=p.e.c-p.s.c;++u){var y="",b="",w=0,_=[];for(h=0;h<c.length;++h)null!=c[h][u]&&_.push(c[h][u]);if(0!=_.length&&null!=a[u]){for(h=0;h<_.length;++h){switch(typeof _[h]){case"number":b="B";break;case"string":default:b="C";break;case"boolean":b="L";break;case"object":b=_[h]instanceof Date?"D":"C"}w=Math.max(w,String(_[h]).length),y=y&&y!=b?"C":b}w>250&&(w=250),"C"==(b=((l[u]||{}).DBF||{}).type)&&l[u].DBF.len>w&&(w=l[u].DBF.len),"B"==y&&"N"==b&&(y="N",v[u]=l[u].DBF.dec,w=l[u].DBF.len),m[u]="C"==y||"N"==b?w:r[y]||0,f+=m[u],g[u]=y}else g[u]="?"}var x=s.next(32);for(x.write_shift(4,318902576),x.write_shift(4,c.length),x.write_shift(2,296+32*d),x.write_shift(2,f),u=0;u<4;++u)x.write_shift(4,0);for(x.write_shift(4,0|(+t[mK]||3)<<8),u=0,h=0;u<a.length;++u)if(null!=a[u]){var E=s.next(32),T=(a[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);E.write_shift(1,T,"sbcs"),E.write_shift(1,"?"==g[u]?"C":g[u],"sbcs"),E.write_shift(4,h),E.write_shift(1,m[u]||r[g[u]]||0),E.write_shift(1,v[u]||0),E.write_shift(1,2),E.write_shift(4,0),E.write_shift(1,0),E.write_shift(4,0),E.write_shift(4,0),h+=m[u]||r[g[u]]||0}var S=s.next(264);for(S.write_shift(4,13),u=0;u<65;++u)S.write_shift(4,0);for(u=0;u<c.length;++u){var k=s.next(f);for(k.write_shift(1,0),h=0;h<a.length;++h)if(null!=a[h])switch(g[h]){case"L":k.write_shift(1,null==c[u][h]?63:c[u][h]?84:70);break;case"B":k.write_shift(8,c[u][h]||0,"f");break;case"N":var C="0";for("number"==typeof c[u][h]&&(C=c[u][h].toFixed(v[h]||0)),d=0;d<m[h]-C.length;++d)k.write_shift(1,32);k.write_shift(1,C,"sbcs");break;case"D":c[u][h]?(k.write_shift(4,("0000"+c[u][h].getFullYear()).slice(-4),"sbcs"),k.write_shift(2,("00"+(c[u][h].getMonth()+1)).slice(-2),"sbcs"),k.write_shift(2,("00"+c[u][h].getDate()).slice(-2),"sbcs")):k.write_shift(8,"00000000","sbcs");break;case"C":var I=String(null!=c[u][h]?c[u][h]:"").slice(0,m[h]);for(k.write_shift(1,I,"sbcs"),d=0;d<m[h]-I.length;++d)k.write_shift(1,32)}}return s.next(1).write_shift(1,26),s.end()}}}(),jJ=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+FY(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?CK(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:CK(r)};function i(e,i){var s,o=e.split(/[\n\r]+/),a=-1,c=-1,l=0,u=0,h=[],d=[],f=null,p={},g=[],m=[],v=[],y=0;for(+i.codepage>=0&&wK(+i.codepage);l!==o.length;++l){y=0;var b,w=o[l].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),_=w.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),x=_[0];if(w.length>0)switch(x){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==_[1].charAt(0)&&d.push(w.slice(3).replace(/;;/g,";"));break;case"C":var E=!1,T=!1,S=!1,k=!1,C=-1,I=-1;for(u=1;u<_.length;++u)switch(_[u].charAt(0)){case"A":case"G":break;case"X":c=parseInt(_[u].slice(1))-1,T=!0;break;case"Y":for(a=parseInt(_[u].slice(1))-1,T||(c=0),s=h.length;s<=a;++s)h[s]=[];break;case"K":'"'===(b=_[u].slice(1)).charAt(0)?b=b.slice(1,b.length-1):"TRUE"===b?b=!0:"FALSE"===b?b=!1:isNaN(ZY(b))?isNaN(t$(b).getDate())||(b=$Y(b)):(b=ZY(b),null!==f&&SY(f)&&(b=HY(b))),"undefined"!==typeof TK&&"string"==typeof b&&"string"!=(i||{}).type&&(i||{}).codepage&&(b=TK.utils.decode(i.codepage,b)),E=!0;break;case"E":k=!0;var O=YZ(_[u].slice(1),{r:a,c:c});h[a][c]=[h[a][c],O];break;case"S":S=!0,h[a][c]=[h[a][c],"S5S"];break;case"R":C=parseInt(_[u].slice(1))-1;break;case"C":I=parseInt(_[u].slice(1))-1;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+w)}if(E&&(h[a][c]&&2==h[a][c].length?h[a][c][0]=b:h[a][c]=b,f=null),S){if(k)throw new Error("SYLK shared formula cannot have own formula");var A=C>-1&&h[C][I];if(!A||!A[1])throw new Error("SYLK shared formula cannot find base");h[a][c][1]=XZ(A[1],{r:a-C,c:c-I})}break;case"F":var P=0;for(u=1;u<_.length;++u)switch(_[u].charAt(0)){case"X":c=parseInt(_[u].slice(1))-1,++P;break;case"Y":for(a=parseInt(_[u].slice(1))-1,s=h.length;s<=a;++s)h[s]=[];break;case"M":y=parseInt(_[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":f=d[parseInt(_[u].slice(1))];break;case"W":for(v=_[u].slice(1).split(" "),s=parseInt(v[0],10);s<=parseInt(v[1],10);++s)y=parseInt(v[2],10),m[s-1]=0===y?{hidden:!0}:{wch:y},EZ(m[s-1]);break;case"C":m[c=parseInt(_[u].slice(1))-1]||(m[c]={});break;case"R":g[a=parseInt(_[u].slice(1))-1]||(g[a]={}),y>0?(g[a].hpt=y,g[a].hpx=kZ(y)):0===y&&(g[a].hidden=!0);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+w)}P<1&&(f=null);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+w)}}return g.length>0&&(p["!rows"]=g),m.length>0&&(p["!cols"]=m),i&&i.sheetRows&&(h=h.slice(0,i.sheetRows)),[h,p]}function s(e,t){var n=function(e,t){switch(t.type){case"base64":return i(PK(e),t);case"binary":return i(e,t);case"buffer":return i(NK&&Buffer.isBuffer(e)?e.toString("binary"):FK(e),t);case"array":return i(QY(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),r=n[0],s=n[1],o=XQ(r,t);return FY(s).forEach((function(e){o[e]=s[e]})),o}function o(e,t,n,r){var i="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":i+=e.v||0,e.f&&!e.F&&(i+=";E"+QZ(e.f,{r:n,c:r}));break;case"b":i+=e.v?"TRUE":"FALSE";break;case"e":i+=e.w||e.v;break;case"d":i+='"'+(e.w||e.v)+'"';break;case"s":i+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return i}return e["|"]=254,{to_workbook:function(e,t){return $Q(s(e,t),t)},to_sheet:s,from_sheet:function(e,t){var n,r,i=["ID;PWXL;N;E"],s=[],a=GQ(e["!ref"]),c=Array.isArray(e),l="\r\n";i.push("P;PGeneral"),i.push("F;P0;DG0G8;M255"),e["!cols"]&&(r=i,e["!cols"].forEach((function(e,t){var n="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?n+="0":("number"!=typeof e.width||e.wpx||(e.wpx=yZ(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=bZ(e.wpx)),"number"==typeof e.wch&&(n+=Math.round(e.wch)))," "!=n.charAt(n.length-1)&&r.push(n)}))),e["!rows"]&&function(e,t){t.forEach((function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*SZ(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))}))}(i,e["!rows"]),i.push("B;Y"+(a.e.r-a.s.r+1)+";X"+(a.e.c-a.s.c+1)+";D"+[a.s.c,a.s.r,a.e.c,a.e.r].join(" "));for(var u=a.s.r;u<=a.e.r;++u)for(var h=a.s.c;h<=a.e.c;++h){var d=WQ({r:u,c:h});(n=c?(e[u]||[])[h]:e[d])&&(null!=n.v||n.f&&!n.F)&&s.push(o(n,0,u,h))}return i.join(l)+l+s.join(l)+l+"E"+l}}}(),UJ=function(){function e(e,t){for(var n=e.split("\n"),r=-1,i=-1,s=0,o=[];s!==n.length;++s)if("BOT"!==n[s].trim()){if(!(r<0)){for(var a=n[s].trim().split(","),c=a[0],l=a[1],u=n[++s]||"";1&(u.match(/["]/g)||[]).length&&s<n.length-1;)u+="\n"+n[++s];switch(u=u.trim(),+c){case-1:if("BOT"===u){o[++r]=[],i=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?o[r][i]=!0:"FALSE"===u?o[r][i]=!1:isNaN(ZY(l))?isNaN(t$(l).getDate())?o[r][i]=l:o[r][i]=$Y(l):o[r][i]=ZY(l),++i;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),o[r][i++]=""!==u?u:null}if("EOD"===u)break}}else o[++r]=[],i=0;return t&&t.sheetRows&&(o=o.slice(0,t.sheetRows)),o}function t(t,n){return XQ(function(t,n){switch(n.type){case"base64":return e(PK(t),n);case"binary":return e(t,n);case"buffer":return e(NK&&Buffer.isBuffer(t)?t.toString("binary"):FK(t),n);case"array":return e(QY(t),n)}throw new Error("Unrecognized type "+n.type)}(t,n),n)}var n=function(){var e=function(e,t,n,r,i){e.push(t),e.push(n+","+r),e.push('"'+i.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,i=[],s=GQ(n["!ref"]),o=Array.isArray(n);e(i,"TABLE",0,1,"sheetjs"),e(i,"VECTORS",0,s.e.r-s.s.r+1,""),e(i,"TUPLES",0,s.e.c-s.s.c+1,""),e(i,"DATA",0,0,"");for(var a=s.s.r;a<=s.e.r;++a){t(i,-1,0,"BOT");for(var c=s.s.c;c<=s.e.c;++c){var l=WQ({r:a,c:c});if(r=o?(n[a]||[])[c]:n[l])switch(r.t){case"n":var u=r.w;u||null==r.v||(u=r.v),null==u?r.f&&!r.F?t(i,1,0,"="+r.f):t(i,1,0,""):t(i,0,u,"V");break;case"b":t(i,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(i,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=OY(r.z||XK[14],BY($Y(r.v)))),t(i,0,r.w,"V");break;default:t(i,1,0,"")}else t(i,1,0,"")}}t(i,-1,0,"EOD");return i.join("\r\n")}}();return{to_workbook:function(e,n){return $Q(t(e,n),n)},to_sheet:t,from_sheet:n}}(),BJ=function(){function e(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(e,t){return XQ(function(e,t){for(var n=e.split("\n"),r=-1,i=-1,s=0,o=[];s!==n.length;++s){var a=n[s].trim().split(":");if("cell"===a[0]){var c=VQ(a[1]);if(o.length<=c.r)for(r=o.length;r<=c.r;++r)o[r]||(o[r]=[]);switch(r=c.r,i=c.c,a[2]){case"t":o[r][i]=a[3].replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n");break;case"v":o[r][i]=+a[3];break;case"vtf":var l=a[a.length-1];case"vtc":"nl"===a[3]?o[r][i]=!!+a[4]:o[r][i]=+a[4],"vtf"==a[2]&&(o[r][i]=[o[r][i],l])}}}return t&&t.sheetRows&&(o=o.slice(0,t.sheetRows)),o}(e,t),t)}var n=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),r=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",i=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),s="--SocialCalcSpreadsheetControlSave--";function o(t){if(!t||!t["!ref"])return"";for(var n,r=[],i=[],s="",o=HQ(t["!ref"]),a=Array.isArray(t),c=o.s.r;c<=o.e.r;++c)for(var l=o.s.c;l<=o.e.c;++l)if(s=WQ({r:c,c:l}),(n=a?(t[c]||[])[l]:t[s])&&null!=n.v&&"z"!==n.t){switch(i=["cell",s,"t"],n.t){case"s":case"str":i.push(e(n.v));break;case"n":n.f?(i[2]="vtf",i[3]="n",i[4]=n.v,i[5]=e(n.f)):(i[2]="v",i[3]=n.v);break;case"b":i[2]="vt"+(n.f?"f":"c"),i[3]="nl",i[4]=n.v?"1":"0",i[5]=e(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var u=BY($Y(n.v));i[2]="vtc",i[3]="nd",i[4]=""+u,i[5]=n.w||OY(n.z||XK[14],u);break;case"e":continue}r.push(i.join(":"))}return r.push("sheet:c:"+(o.e.c-o.s.c+1)+":r:"+(o.e.r-o.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(e,n){return $Q(t(e,n),n)},to_sheet:t,from_sheet:function(e){return[n,r,i,r,o(e),s].join("\n")}}}(),zJ=function(){function e(e,t,n,r,i){i.raw?t[n][r]=e:""===e||("TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:isNaN(ZY(e))?isNaN(t$(e).getDate())?t[n][r]=e:t[n][r]=$Y(e):t[n][r]=ZY(e))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(e){for(var r={},i=!1,s=0,o=0;s<e.length;++s)34==(o=e.charCodeAt(s))?i=!i:!i&&o in t&&(r[o]=(r[o]||0)+1);for(s in o=[],r)Object.prototype.hasOwnProperty.call(r,s)&&o.push([r[s],s]);if(!o.length)for(s in r=n)Object.prototype.hasOwnProperty.call(r,s)&&o.push([r[s],s]);return o.sort((function(e,t){return e[0]-t[0]||n[e[1]]-n[t[1]]})),t[o.pop()[1]]||44}function i(e,t){var n=t||{},i="";null!=IK&&null==n.dense&&(n.dense=IK);var s=n.dense?[]:{},o={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(i=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(i=e.charAt(4),e=e.slice(6)):i=r(e.slice(0,1024)):i=n&&n.FS?n.FS:r(e.slice(0,1024));var a=0,c=0,l=0,u=0,h=0,d=i.charCodeAt(0),f=!1,p=0,g=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var m=null!=n.dateNF?function(e){var t="number"==typeof e?XK[e]:e;return t=t.replace(RY,"(\\d+)"),new RegExp("^"+t+"$")}(n.dateNF):null;function v(){var t=e.slice(u,h),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):!function(e){return 1!=e.length}(t)?(r.t="s",r.v=t):(r.t="n",r.f=t.slice(1));else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(l=ZY(t)))if(!isNaN(t$(t).getDate())||m&&t.match(m)){r.z=n.dateNF||XK[14];var i=0;m&&t.match(m)&&(t=function(e,t,n){var r=-1,i=-1,s=-1,o=-1,a=-1,c=-1;(t.match(RY)||[]).forEach((function(e,t){var l=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=l;break;case"d":s=l;break;case"h":o=l;break;case"s":c=l;break;case"m":o>=0?a=l:i=l}})),c>=0&&-1==a&&i>=0&&(a=i,i=-1);var l=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==l.length&&(l="0"+l),8==l.length&&(l="20"+l);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return-1==o&&-1==a&&-1==c?l:-1==r&&-1==i&&-1==s?u:l+"T"+u}(0,n.dateNF,t.match(m)||[]),i=1),n.cellDates?(r.t="d",r.v=$Y(t,i)):(r.t="n",r.v=BY($Y(t,i))),!1!==n.cellText&&(r.w=OY(r.z,r.v instanceof Date?BY(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=l;if("z"==r.t||(n.dense?(s[a]||(s[a]=[]),s[a][c]=r):s[WQ({c:c,r:a})]=r),u=h+1,g=e.charCodeAt(u),o.e.c<c&&(o.e.c=c),o.e.r<a&&(o.e.r=a),p==d)++c;else if(c=0,++a,n.sheetRows&&n.sheetRows<=a)return!0}e:for(;h<e.length;++h)switch(p=e.charCodeAt(h)){case 34:34===g&&(f=!f);break;case d:case 10:case 13:if(!f&&v())break e}return h-u>0&&v(),s["!ref"]=qQ(o),s}function s(t,n){return n&&n.PRN?n.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?i(t,n):XQ(function(t,n){var r=n||{},i=[];if(!t||0===t.length)return i;for(var s=t.split(/[\r\n]/),o=s.length-1;o>=0&&0===s[o].length;)--o;for(var a=10,c=0,l=0;l<=o;++l)-1==(c=s[l].indexOf(" "))?c=s[l].length:c++,a=Math.max(a,c);for(l=0;l<=o;++l){i[l]=[];var u=0;for(e(s[l].slice(0,a).trim(),i,l,u,r),u=1;u<=(s[l].length-a)/10+1;++u)e(s[l].slice(a+10*(u-1),a+10*u).trim(),i,l,u,r)}return r.sheetRows&&(i=i.slice(0,r.sheetRows)),i}(t,n),n):i(t,n)}function o(e,t){var n="",r="string"==t.type?[0,0,0,0]:F2(e,t);switch(t.type){case"base64":n=PK(e);break;case"binary":case"string":n=e;break;case"buffer":n=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof TK?TK.utils.decode(t.codepage,e):NK&&Buffer.isBuffer(e)?e.toString("binary"):FK(e);break;case"array":n=QY(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=D$(n.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?n=D$(n):"binary"==t.type&&"undefined"!==typeof TK&&t.codepage&&(n=TK.utils.decode(t.codepage,TK.utils.encode(28591,n))),"socialcalc:version:"==n.slice(0,19)?BJ.to_sheet("string"==t.type?n:D$(n),t):s(n,t)}return{to_workbook:function(e,t){return $Q(o(e,t),t)},to_sheet:o,from_sheet:function(e){for(var t,n=[],r=GQ(e["!ref"]),i=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){for(var o=[],a=r.s.c;a<=r.e.c;++a){var c=WQ({r:s,c:a});if((t=i?(e[s]||[])[a]:e[c])&&null!=t.v){for(var l=(t.w||(YQ(t),t.w)||"").slice(0,10);l.length<10;)l+=" ";o.push(l+(0===a?" ":""))}else o.push("          ")}n.push(o.join(""))}return n.join("\n")}}}();var VJ=function(){function e(e,t,n){if(e){OQ(e,e.l||0);for(var r=n.Enum||v;e.l<e.length;){var i=e.read_shift(2),s=r[i]||r[65535],o=e.read_shift(2),a=e.l+o,c=s.f&&s.f(e,o,n);if(e.l=a,t(c,s,i))return}}}function t(t,n){if(!t)return t;var r=n||{};null!=IK&&null==r.dense&&(r.dense=IK);var i=r.dense?[]:{},s="Sheet1",o="",a=0,c={},l=[],u=[],h={s:{r:0,c:0},e:{r:0,c:0}},d=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=v,e(t,(function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:h=e;break;case 204:e&&(o=e);break;case 222:o=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==n&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||XK[14],r.cellDates&&(e[1].t="d",e[1].v=HY(e[1].v))),r.qpro&&e[3]>a&&(i["!ref"]=qQ(h),c[s]=i,l.push(s),i=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},a=e[3],s=o||"Sheet"+(a+1),o="");var u=r.dense?(i[e[0].r]||[])[e[0].c]:i[WQ(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[WQ(e[0])]=e[1]}}),r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=y,14==t[2]&&(r.qpro=!0,t.l=0),e(t,(function(e,t,n){switch(n){case 204:s=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>a&&(i["!ref"]=qQ(h),c[s]=i,l.push(s),i=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},a=e[3],s="Sheet"+(a+1)),d>0&&e[0].r>=d)break;r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[WQ(e[0])]=e[1],h.e.c<e[0].c&&(h.e.c=e[0].c),h.e.r<e[0].r&&(h.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==a&&(s=e[1])}}),r)}if(i["!ref"]=qQ(h),c[o||s]=i,l.push(o||s),!u.length)return{SheetNames:l,Sheets:c};for(var f={},p=[],g=0;g<u.length;++g)c[l[g]]?(p.push(u[g]||l[g]),f[u[g]]=c[u[g]]||c[l[g]]):(p.push(u[g]),f[u[g]]={"!ref":"A1"});return{SheetNames:p,Sheets:f}}function n(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function r(e,t,r){var i=e.l+t,s=n(e,0,r);if(s[1].t="s",20768==r.vers){e.l++;var o=e.read_shift(1);return s[1].v=e.read_shift(o,"utf8"),s}return r.qpro&&e.l++,s[1].v=e.read_shift(i-e.l,"cstr"),s}function i(e,t,n){var r=PQ(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var i=0;i<r.length;++i){var s=n.charCodeAt(i);r.write_shift(1,s>=128?95:s)}return r.write_shift(1,0),r}function s(e,t,n){var r=PQ(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,"i"),r}function o(e,t,n){var r=PQ(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,"f"),r}function a(e,t,n){var r=32768&t;return t=(r?e:0)+((t&=-32769)>=8192?t-16384:t),(r?"":"$")+(n?zQ(t):UQ(t))}var c={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},l=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function h(e,t,n,r){var i=PQ(6+r.length);i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),i.write_shift(1,39);for(var s=0;s<r.length;++s){var o=r.charCodeAt(s);i.write_shift(1,o>=128?95:o)}return i.write_shift(1,0),i}function d(e,t){var n=u(e),r=e.read_shift(4),i=e.read_shift(4),s=e.read_shift(2);if(65535==s)return 0===r&&3221225472===i?(n[1].t="e",n[1].v=15):0===r&&3489660928===i?(n[1].t="e",n[1].v=42):n[1].v=0,n;var o=32768&s;return s=(32767&s)-16446,n[1].v=(1-2*o)*(i*Math.pow(2,s+32)+r*Math.pow(2,s)),n}function f(e,t,n,r){var i=PQ(14);if(i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),0==r)return i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,65535),i;var s,o=0,a=0,c=0;return r<0&&(o=1,r=-r),a=0|Math.log2(r),0==(2147483648&(c=(r/=Math.pow(2,a-31))>>>0))&&(++a,c=(r/=2)>>>0),r-=c,c|=2147483648,c>>>=0,s=(r*=Math.pow(2,32))>>>0,i.write_shift(4,s),i.write_shift(4,c),a+=16383+(o?32768:0),i.write_shift(2,a),i}function p(e,t){var n=u(e),r=e.read_shift(8,"f");return n[1].v=r,n}function g(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function m(e,t){var n=PQ(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var i=e.charCodeAt(r);n[n.l++]=i>127?95:i}return n[n.l++]=0,n}var v={0:{n:"BOF",f:eJ},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,r){var i=n(e,0,r);return i[1].v=e.read_shift(2,"i"),i}},14:{n:"NUMBER",f:function(e,t,r){var i=n(e,0,r);return i[1].v=e.read_shift(8,"f"),i}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(e,t,r){var i=e.l+t,s=n(e,0,r);if(s[1].v=e.read_shift(8,"f"),r.qpro)e.l=i;else{var o=e.read_shift(2);!function(e,t){OQ(e,0);var n=[],r=0,i="",s="",o="",u="";for(;e.l<e.length;){var h=e[e.l++];switch(h){case 0:n.push(e.read_shift(8,"f"));break;case 1:s=a(t[0].c,e.read_shift(2),!0),i=a(t[0].r,e.read_shift(2),!1),n.push(s+i);break;case 2:var d=a(t[0].c,e.read_shift(2),!0),f=a(t[0].r,e.read_shift(2),!1);s=a(t[0].c,e.read_shift(2),!0),i=a(t[0].r,e.read_shift(2),!1),n.push(d+f+":"+s+i);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(e.read_shift(2));break;case 6:for(var p="";h=e[e.l++];)p+=String.fromCharCode(h);n.push('"'+p.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:u=n.pop(),o=n.pop(),n.push(["AND","OR"][h-20]+"("+o+","+u+")");break;default:if(h<32&&l[h])u=n.pop(),o=n.pop(),n.push(o+l[h]+u);else{if(!c[h])return h<=7?console.error("WK1 invalid opcode "+h.toString(16)):h<=24?console.error("WK1 unsupported op "+h.toString(16)):h<=30?console.error("WK1 invalid opcode "+h.toString(16)):h<=115?console.error("WK1 unsupported function opcode "+h.toString(16)):console.error("WK1 unrecognized opcode "+h.toString(16));if(69==(r=c[h][1])&&(r=e[e.l++]),r>n.length)return void console.error("WK1 bad formula parse 0x"+h.toString(16)+":|"+n.join("|")+"|");var g=n.slice(-r);n.length-=r,n.push(c[h][0]+"("+g.join(",")+")")}}}1==n.length?t[1].f=""+n[0]:console.error("WK1 bad formula parse |"+n.join("|")+"|")}(e.slice(e.l,e.l+o),s),e.l+=o}return s}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:g},222:{n:"SHEETNAMELP",f:function(e,t){var n=e[e.l++];n>t-1&&(n=t-1);for(var r="";r.length<n;)r+=String.fromCharCode(e[e.l++]);return r}},65535:{n:""}},y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var n=u(e);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}},23:{n:"NUMBER17",f:d},24:{n:"NUMBER18",f:function(e,t){var n=u(e);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return n[1].v=r,n}},25:{n:"FORMULA19",f:function(e,t){var n=d(e);return e.l+=t-14,n}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var n={},r=e.l+t;e.l<r;){var i=e.read_shift(2);if(14e3==i){for(n[i]=[0,""],n[i][0]=e.read_shift(2);e[e.l];)n[i][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var n=u(e),r=e.read_shift(4);return n[1].v=r>>6,n}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var n=p(e);return e.l+=t-10,n}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:g},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,n){if(n.qpro&&!(t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var n=t||{};if(+n.codepage>=0&&wK(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r=RQ(),a=GQ(e["!ref"]),c=Array.isArray(e),l=[];Q1(r,0,function(e){var t=PQ(2);return t.write_shift(2,e),t}(1030)),Q1(r,6,function(e){var t=PQ(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(a));for(var u=Math.min(a.e.r,8191),h=a.s.r;h<=u;++h)for(var d=UQ(h),f=a.s.c;f<=a.e.c;++f){h===a.s.r&&(l[f]=zQ(f));var p=l[f]+d,g=c?(e[h]||[])[f]:e[p];if(g&&"z"!=g.t)if("n"==g.t)(0|g.v)==g.v&&g.v>=-32768&&g.v<=32767?Q1(r,13,s(h,f,g.v)):Q1(r,14,o(h,f,g.v));else Q1(r,15,i(h,f,YQ(g).slice(0,239)))}return Q1(r,1),r.end()},book_to_wk3:function(e,t){var n=t||{};if(+n.codepage>=0&&wK(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=RQ();Q1(r,0,function(e){var t=PQ(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,i=0,s=0;s<e.SheetNames.length;++s){var o=e.SheetNames[s],a=e.Sheets[o];if(a&&a["!ref"]){++i;var c=HQ(a["!ref"]);n<c.e.r&&(n=c.e.r),r<c.e.c&&(r=c.e.c)}}n>8191&&(n=8191);return t.write_shift(2,n),t.write_shift(1,i),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var i=0,s=0;i<e.SheetNames.length;++i)(e.Sheets[e.SheetNames[i]]||{})["!ref"]&&Q1(r,27,m(e.SheetNames[i],s++));var o=0;for(i=0;i<e.SheetNames.length;++i){var a=e.Sheets[e.SheetNames[i]];if(a&&a["!ref"]){for(var c=GQ(a["!ref"]),l=Array.isArray(a),u=[],d=Math.min(c.e.r,8191),p=c.s.r;p<=d;++p)for(var g=UQ(p),v=c.s.c;v<=c.e.c;++v){p===c.s.r&&(u[v]=zQ(v));var y=u[v]+g,b=l?(a[p]||[])[v]:a[y];if(b&&"z"!=b.t)if("n"==b.t)Q1(r,23,f(p,v,o,b.v));else Q1(r,22,h(p,v,o,YQ(b).slice(0,239)))}++o}}return Q1(r,1),r.end()},to_workbook:function(e,n){switch(n.type){case"base64":return t(LK(PK(e)),n);case"binary":return t(LK(e),n);case"buffer":case"array":return t(e,n)}throw"Unsupported type "+n.type}}}();var WJ=function(){var e=L$("t"),t=L$("rPr");function n(n){var r=n.match(e);if(!r)return{t:"s",v:""};var i={t:"s",v:T$(r[1])},s=n.match(t);return s&&(i.s=function(e){var t={},n=e.match(v$),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=w$(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==s.val)break;t.cp=yK[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting"}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==s.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==s.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(47!==s[0].charCodeAt(1)&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}(s[1])),i}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(e){return e.replace(r,"").split(i).map(n).filter((function(e){return e.v}))}}(),HJ=function(){var e=/(\r\n|\n)/g;function t(t){var n=[[],t.v,[]];return t.v?(t.s&&function(e,t,n){var r=[];e.u&&r.push("text-decoration: underline;"),e.uval&&r.push("text-underline-style:"+e.uval+";"),e.sz&&r.push("font-size:"+e.sz+"pt;"),e.outline&&r.push("text-effect: outline;"),e.shadow&&r.push("text-shadow: auto;"),t.push('<span style="'+r.join("")+'">'),e.b&&(t.push("<b>"),n.push("</b>")),e.i&&(t.push("<i>"),n.push("</i>")),e.strike&&(t.push("<s>"),n.push("</s>"));var i=e.valign||"";"superscript"==i||"super"==i?i="sup":"subscript"==i&&(i="sub"),""!=i&&(t.push("<"+i+">"),n.push("</"+i+">")),n.push("</span>")}(t.s,n[0],n[2]),n[0].join("")+n[1].replace(e,"<br/>")+n[2].join("")):""}return function(e){return e.map(t).join("")}}(),qJ=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,GJ=/<(?:\w+:)?r>/,KJ=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function YJ(e,t){var n=!t||t.cellHTML,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=T$(D$(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=D$(e),n&&(r.h=C$(r.t))):e.match(GJ)&&(r.r=D$(e),r.t=T$(D$((e.replace(KJ,"").match(qJ)||[]).join("").replace(v$,""))),n&&(r.h=HJ(WJ(r.r)))),r):{t:""}}var $J=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,QJ=/<(?:\w+:)?(?:si|sstItem)>/g,XJ=/<\/(?:\w+:)?(?:si|sstItem)>/;function JJ(e){if("undefined"!==typeof TK)return TK.utils.encode(mK,e);for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function ZJ(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function eZ(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),s=[];i-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function tZ(e){var t=function(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=ZJ(e,4),t.U=ZJ(e,4),t.W=ZJ(e,4),t}(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),4!=e.read_shift(4))throw new Error("Bad !Primary record");return t}function nZ(e,t){var n=e.l+t,r={};r.Flags=63&e.read_shift(4),e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=36==r.Flags;break;case 26625:i=4==r.Flags;break;case 0:i=16==r.Flags||4==r.Flags||36==r.Flags;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function rZ(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function iZ(e){if(36!=(63&e.read_shift(4)))throw new Error("EncryptionInfo mismatch");var t=e.read_shift(4);return{t:"Std",h:nZ(e,t),v:rZ(e,e.length-e.l)}}function sZ(){throw new Error("File is password-protected: ECMA-376 Extensible")}function oZ(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(v$,(function(e){var n=w$(e);switch(_$(n[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":t.forEach((function(e){r[e]=n[e]}));break;case"<dataIntegrity":r.encryptedHmacKey=n.encryptedHmacKey,r.encryptedHmacValue=n.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"<keyEncryptor":r.uri=n.uri;break;case"<encryptedKey":r.encs.push(n);break;default:throw n[0]}})),r}function aZ(e){var t,n,r=0,i=JJ(e),s=i.length+1;for((t=DK(s))[0]=i.length,n=1;n!=s;++n)t[n]=i[n-1];for(n=s-1;n>=0;--n)r=((0===(16384&r)?0:1)|r<<1&32767)^t[n];return 52811^r}var cZ=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(e,t){return 255&((n=e^t)/2|128*n);var n};return function(i){for(var s,o,a,c=JJ(i),l=function(e){for(var r=t[e.length-1],i=104,s=e.length-1;s>=0;--s)for(var o=e[s],a=0;7!=a;++a)64&o&&(r^=n[i]),o*=2,--i;return r}(c),u=c.length,h=DK(16),d=0;16!=d;++d)h[d]=0;for(1===(1&u)&&(s=l>>8,h[u]=r(e[0],s),--u,s=255&l,o=c[c.length-1],h[u]=r(o,s));u>0;)s=l>>8,h[--u]=r(c[u],s),s=255&l,h[--u]=r(c[u],s);for(u=15,a=15-c.length;a>0;)s=l>>8,h[u]=r(e[a],s),--a,s=255&l,h[--u]=r(c[u],s),--u,--a;return h}}(),lZ=function(e){var t=0,n=cZ(e);return function(e){var r=function(e,t,n,r,i){var s,o;for(i||(i=t),r||(r=cZ(e)),s=0;s!=t.length;++s)o=t[s],o=255&((o^=r[n])>>5|o<<3),i[s]=o,++n;return[i,n,r]}("",e,t,n);return t=r[1],r[0]}};function uZ(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,1===r.Info?r.Data=function(e){var t={},n=t.EncryptionVersionInfo=ZJ(e,4);if(1!=n.Major||1!=n.Minor)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}(e):r.Data=function(e,t){var n={},r=n.EncryptionVersionInfo=ZJ(e,4);if(t-=4,2!=r.Minor)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=nZ(e,i),t-=i,n.EncryptionVerifier=rZ(e,t),n}(e,t),r}var hZ=function(){function e(e,n){switch(n.type){case"base64":return t(PK(e),n);case"binary":return t(e,n);case"buffer":return t(NK&&Buffer.isBuffer(e)?e.toString("binary"):FK(e),n);case"array":return t(QY(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var i={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach((function(e,t){Array.isArray(n)&&(n[t]=[]);for(var r,s=/\\\w+\b/g,o=0,a=-1;r=s.exec(e);){if("\\cell"===r[0]){var c=e.slice(o,s.lastIndex-r[0].length);if(" "==c[0]&&(c=c.slice(1)),++a,c.length){var l={v:c,t:"s"};Array.isArray(n)?n[t][a]=l:n[WQ({r:t,c:a})]=l}}o=s.lastIndex}a>i.e.c&&(i.e.c=a)})),n["!ref"]=qQ(i),n}return{to_workbook:function(t,n){return $Q(e(t,n),n)},to_sheet:e,from_sheet:function(e){for(var t,n=["{\\rtf1\\ansi"],r=GQ(e["!ref"]),i=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){n.push("\\trowd\\trautofit1");for(var o=r.s.c;o<=r.e.c;++o)n.push("\\cellx"+(o+1));for(n.push("\\pard\\intbl"),o=r.s.c;o<=r.e.c;++o){var a=WQ({r:s,c:o});(t=i?(e[s]||[])[o]:e[a])&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(YQ(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}}}();function dZ(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function fZ(e,t){if(0===t)return e;var n=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=i-s;if(0===o)return[0,0,t];var a,c=0,l=i+s;switch(a=o/(l>1?2-l:l),i){case t:c=((n-r)/o+6)%6;break;case n:c=(r-t)/o+2;break;case r:c=(t-n)/o+4}return[c/6,a,l/2]}(function(e){var t=e.slice("#"===e[0]?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}(e));return n[2]=t<0?n[2]*(1+t):1-(1-n[2])*(1-t),dZ(function(e){var t,n=e[0],r=e[1],i=e[2],s=2*r*(i<.5?i:1-i),o=i-s/2,a=[o,o,o],c=6*n;if(0!==r)switch(0|c){case 0:case 6:t=s*c,a[0]+=s,a[1]+=t;break;case 1:t=s*(2-c),a[0]+=t,a[1]+=s;break;case 2:t=s*(c-2),a[1]+=s,a[2]+=t;break;case 3:t=s*(4-c),a[1]+=t,a[2]+=s;break;case 4:t=s*(c-4),a[2]+=s,a[0]+=t;break;case 5:t=s*(6-c),a[2]+=t,a[0]+=s}for(var l=0;3!=l;++l)a[l]=Math.round(255*a[l]);return a}(n))}var pZ=6,gZ=15,mZ=1,vZ=pZ;function yZ(e){return Math.floor((e+Math.round(128/vZ)/256)*vZ)}function bZ(e){return Math.floor((e-5)/vZ*100+.5)/100}function wZ(e){return Math.round((e*vZ+5)/vZ*256)/256}function _Z(e){return wZ(bZ(yZ(e)))}function xZ(e){var t=Math.abs(e-_Z(e)),n=vZ;if(t>.005)for(vZ=mZ;vZ<gZ;++vZ)Math.abs(e-_Z(e))<=t&&(t=Math.abs(e-_Z(e)),n=vZ);vZ=n}function EZ(e){e.width?(e.wpx=yZ(e.width),e.wch=bZ(e.wpx),e.MDW=vZ):e.wpx?(e.wch=bZ(e.wpx),e.width=wZ(e.wch),e.MDW=vZ):"number"==typeof e.wch&&(e.width=wZ(e.wch),e.wpx=yZ(e.width),e.MDW=vZ),e.customWidth&&delete e.customWidth}var TZ=96;function SZ(e){return 96*e/TZ}function kZ(e){return e*TZ/96}var CZ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};var IZ=["numFmtId","fillId","fontId","borderId","xfId"],OZ=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];var AZ=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,o,a){var c,l={};return s?((c=(s=s.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(e))&&function(e,t,n){t.NumberFmt=[];for(var r=FY(XK),i=0;i<r.length;++i)t.NumberFmt[r[i]]=XK[r[i]];var s=e[0].match(v$);if(s)for(i=0;i<s.length;++i){var o=w$(s[i]);switch(_$(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var a=T$(D$(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=a,c>0){if(c>392){for(c=392;c>60&&null!=t.NumberFmt[c];--c);t.NumberFmt[c]=a}AY(a,c)}break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}(c,l,a),(c=s.match(r))&&function(e,t,n,r){t.Fonts=[];var i={},s=!1;(e[0].match(v$)||[]).forEach((function(e){var o=w$(e);switch(_$(o[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=D$(o.val));break;case"<b":i.bold=o.val?O$(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?O$(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?O$(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?O$(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?O$(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?O$(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?O$(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<charset":if("1"==o.val)break;o.codepage=yK[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=O$(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var a=TX[i.color.index];81==i.color.index&&(a=TX[1]),a||(a=TX[1]),i.color.rgb=a[0].toString(16)+a[1].toString(16)+a[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=fZ(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<AlternateContent":case"<ext":s=!0;break;case"</AlternateContent>":case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}}))}(c,l,o,a),(c=s.match(n))&&function(e,t,n,r){t.Fills=[];var i={},s=!1;(e[0].match(v$)||[]).forEach((function(e){var n=w$(e);switch(_$(n[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":n.patternType&&(i.patternType=n.patternType);break;case"<bgColor":i.bgColor||(i.bgColor={}),n.indexed&&(i.bgColor.indexed=parseInt(n.indexed,10)),n.theme&&(i.bgColor.theme=parseInt(n.theme,10)),n.tint&&(i.bgColor.tint=parseFloat(n.tint)),n.rgb&&(i.bgColor.rgb=n.rgb.slice(-6));break;case"<fgColor":i.fgColor||(i.fgColor={}),n.theme&&(i.fgColor.theme=parseInt(n.theme,10)),n.tint&&(i.fgColor.tint=parseFloat(n.tint)),null!=n.rgb&&(i.fgColor.rgb=n.rgb.slice(-6));break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+n[0]+" in fills")}}))}(c,l,0,a),(c=s.match(i))&&function(e,t,n,r){t.Borders=[];var i={},s=!1;(e[0].match(v$)||[]).forEach((function(e){var n=w$(e);switch(_$(n[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":i={},n.diagonalUp&&(i.diagonalUp=O$(n.diagonalUp)),n.diagonalDown&&(i.diagonalDown=O$(n.diagonalDown)),t.Borders.push(i);break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+n[0]+" in borders")}}))}(c,l,0,a),(c=s.match(t))&&function(e,t,n){var r;t.CellXf=[];var i=!1;(e[0].match(v$)||[]).forEach((function(e){var s=w$(e),o=0;switch(_$(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(delete(r=s)[0],o=0;o<IZ.length;++o)r[IZ[o]]&&(r[IZ[o]]=parseInt(r[IZ[o]],10));for(o=0;o<OZ.length;++o)r[OZ[o]]&&(r[OZ[o]]=O$(r[OZ[o]]));if(t.NumberFmt&&r.numFmtId>392)for(o=392;o>60;--o)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[o]){r.numFmtId=o;break}t.CellXf.push(r);break;case"<alignment":case"<alignment/>":var a={};s.vertical&&(a.vertical=s.vertical),s.horizontal&&(a.horizontal=s.horizontal),null!=s.textRotation&&(a.textRotation=s.textRotation),s.indent&&(a.indent=s.indent),s.wrapText&&(a.wrapText=O$(s.wrapText)),r.alignment=a;break;case"<AlternateContent":case"<ext":i=!0;break;case"</AlternateContent>":case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}}))}(c,l,a),l):l}}();var PZ=AQ;var NZ=AQ;var RZ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function DZ(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(v$)||[]).forEach((function(e){var i=w$(e);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===i[0].charAt(1)?(t.themeElements.clrScheme[RZ.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}}))}function MZ(){}function LZ(){}var FZ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,jZ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,UZ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;var BZ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function zZ(e,t){var n;e&&0!==e.length||(e=VZ());var r={};if(!(n=e.match(BZ)))throw new Error("themeElements not found in theme");return function(e,t,n){var r;t.themeElements={},[["clrScheme",FZ,DZ],["fontScheme",jZ,MZ],["fmtScheme",UZ,LZ]].forEach((function(i){if(!(r=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,n)}))}(n[0],r,t),r.raw=e,r}function VZ(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[p$];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function WZ(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:case 4:e.l+=4;break;case 1:t.xclrValue=function(e,t){return AQ(e,t)}(e,4);break;case 2:t.xclrValue=lJ(e);break;case 3:t.xclrValue=function(e){return e.read_shift(4)}(e)}return e.l+=8,t}function HZ(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=WZ(e);break;case 6:r[1]=function(e,t){return AQ(e,t)}(e,n);break;case 14:case 15:r[1]=e.read_shift(1===n?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function qZ(e,t,n,r){var i,s=Array.isArray(e);t.forEach((function(t){var o=VQ(t.ref);if(s?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[t.ref],!i){i={t:"z"},s?e[o.r][o.c]=i:e[t.ref]=i;var a=GQ(e["!ref"]||"BDWGO1000001:A1");a.s.r>o.r&&(a.s.r=o.r),a.e.r<o.r&&(a.e.r=o.r),a.s.c>o.c&&(a.s.c=o.c),a.e.c<o.c&&(a.e.c=o.c);var c=qQ(a);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var l={a:t.author,t:t.t,r:t.r,T:n};t.h&&(l.h=t.h);for(var u=i.c.length-1;u>=0;--u){if(!n&&i.c[u].T)return;n&&!i.c[u].T&&i.c.splice(u,1)}if(n&&r)for(u=0;u<r.length;++u)if(l.a==r[u].id){l.a=r[u].name||l.a;break}i.c.push(l)}))}var GZ=JQ;var KZ="application/vnd.ms-office.vbaProject";var YZ=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,i){var s=!1,o=!1;0==r.length?o=!0:"["==r.charAt(0)&&(o=!0,r=r.slice(1,-1)),0==i.length?s=!0:"["==i.charAt(0)&&(s=!0,i=i.slice(1,-1));var a=r.length>0?0|parseInt(r,10):0,c=i.length>0?0|parseInt(i,10):0;return s?c+=t.c:--c,o?a+=t.r:--a,n+(s?"":"$")+zQ(c)+(o?"":"$")+UQ(a)}return function(r,i){return t=i,r.replace(e,n)}}(),$Z=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,QZ=function(){return function(e,t){return e.replace($Z,(function(e,n,r,i,s,o){var a=BQ(i)-(r?0:t.c),c=jQ(o)-(s?0:t.r);return n+"R"+(0==c?"":s?c+1:"["+c+"]")+"C"+(0==a?"":r?a+1:"["+a+"]")}))}}();function XZ(e,t){return e.replace($Z,(function(e,n,r,i,s,o){return n+("$"==r?r+i:zQ(BQ(i)+t.c))+("$"==s?s+o:UQ(jQ(o)+t.r))}))}function JZ(e,t,n){var r=HQ(t).s,i=VQ(n);return XZ(e,{r:i.r-r.r,c:i.c-r.c})}function ZZ(e){return e.replace(/_xlfn\./g,"")}function e0(e){e.l+=1}function t0(e,t){var n=e.read_shift(1==t?1:2);return[16383&n,n>>14&1,n>>15&1]}function n0(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return r0(e);12==n.biff&&(r=4)}var i=e.read_shift(r),s=e.read_shift(r),o=t0(e,2),a=t0(e,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function r0(e){var t=t0(e,2),n=t0(e,2),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function i0(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return function(e){var t=t0(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(n&&12==n.biff?4:2),i=t0(e,2);return{r:r,c:i[0],cRel:i[1],rRel:i[2]}}function s0(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function o0(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function a0(e){return[e.read_shift(1),e.read_shift(1)]}function c0(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=ZX(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=SX[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=hX(e);break;case 2:n[1]=oJ(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function l0(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),i=[],s=0;s!=r;++s)i.push((12==n.biff?uX:pJ)(e,8));return i}function u0(e,t,n){var r=0,i=0;12==n.biff?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--i&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=c0(e,n.biff);return o}function h0(e,t,n){return e.l+=2,[s0(e)]}function d0(e){return e.l+=6,[]}function f0(e){return e.l+=2,[eJ(e),1&e.read_shift(2)]}var p0=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var g0={1:{n:"PtgExp",f:function(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:AQ},3:{n:"PtgAdd",f:e0},4:{n:"PtgSub",f:e0},5:{n:"PtgMul",f:e0},6:{n:"PtgDiv",f:e0},7:{n:"PtgPower",f:e0},8:{n:"PtgConcat",f:e0},9:{n:"PtgLt",f:e0},10:{n:"PtgLe",f:e0},11:{n:"PtgEq",f:e0},12:{n:"PtgGe",f:e0},13:{n:"PtgGt",f:e0},14:{n:"PtgNe",f:e0},15:{n:"PtgIsect",f:e0},16:{n:"PtgUnion",f:e0},17:{n:"PtgRange",f:e0},18:{n:"PtgUplus",f:e0},19:{n:"PtgUminus",f:e0},20:{n:"PtgPercent",f:e0},21:{n:"PtgParen",f:e0},22:{n:"PtgMissArg",f:e0},23:{n:"PtgStr",f:function(e,t,n){return e.l++,nJ(e,0,n)}},26:{n:"PtgSheet",f:function(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,SX[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,hX(e)}},32:{n:"PtgArray",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[L0[i],M0[i],r]}},34:{n:"PtgFuncVar",f:function(e,t,n){var r=e[e.l++],i=e.read_shift(1),s=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[i,(0===s[0]?M0:D0)[s[1]]]}},35:{n:"PtgName",f:function(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,s]}},36:{n:"PtgRef",f:function(e,t,n){var r=(96&e[e.l])>>5;return e.l+=1,[r,i0(e,0,n)]}},37:{n:"PtgArea",f:function(e,t,n){return[(96&e[e.l++])>>5,n0(e,n.biff>=2&&n.biff,n)]}},38:{n:"PtgMemArea",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[r,e.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:AQ},40:{n:"PtgMemNoMem",f:AQ},41:{n:"PtgMemFunc",f:function(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=function(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==i&&n>=128&&(n-=256),{r:t,c:n,cRel:i,rRel:r}}(e);var i=e.read_shift(r>=12?4:2),s=e.read_shift(2),o=(16384&s)>>14,a=(32768&s)>>15;if(s&=16383,1==a)for(;i>524287;)i-=1048576;if(1==o)for(;s>8191;)s-=16384;return{r:i,c:s,cRel:o,rRel:a}}(e,0,n);return[r,i]}},45:{n:"PtgAreaN",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=function(e,t,n){if(n.biff<8)return r0(e);var r=e.read_shift(12==n.biff?4:2),i=e.read_shift(12==n.biff?4:2),s=t0(e,2),o=t0(e,2);return{s:{r:r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}(e,0,n);return[r,i]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,n){return 5==n.biff?function(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[r,i,i0(e,0,n)]}},59:{n:"PtgArea3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2,"i");if(n)switch(n.biff){case 5:e.l+=12,6;break;case 12:12}return[r,i,n0(e,0,n)]}},60:{n:"PtgRefErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6}return e.l+=s,[r,i]}},61:{n:"PtgAreaErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12}return e.l+=s,[r,i]}},255:{}},m0={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},v0={1:{n:"PtgElfLel",f:f0},2:{n:"PtgElfRw",f:h0},3:{n:"PtgElfCol",f:h0},6:{n:"PtgElfRwV",f:h0},7:{n:"PtgElfColV",f:h0},10:{n:"PtgElfRadical",f:h0},11:{n:"PtgElfRadicalS",f:d0},13:{n:"PtgElfColS",f:d0},15:{n:"PtgElfColSV",f:d0},16:{n:"PtgElfRadicalLel",f:f0},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2);return{ixti:t,coltype:3&n,rt:p0[n>>2&31],idx:r,c:i,C:s}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},y0={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),i=[],s=0;s<=r;++s)i.push(e.read_shift(n&&2==n.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,n){e.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:o0},33:{n:"PtgAttrBaxcel",f:o0},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),a0(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),a0(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function b0(e,t,n,r){if(r.biff<8)return AQ(e,t);for(var i=e.l+t,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=u0(e,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=l0(e,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&12==r.biff&&(n[o][1][1]=e.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return 0!==(t=i-e.l)&&s.push(AQ(e,t)),s}function w0(e,t,n){for(var r,i,s=e.l+t,o=[];s!=e.l;)t=s-e.l,i=e[e.l],r=g0[i]||g0[m0[i]],24!==i&&25!==i||(r=(24===i?v0:y0)[e[e.l+1]]),r&&r.f?o.push([r.n,r.f(e,t,n)]):AQ(e,t);return o}function _0(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],s=0;s<r.length;++s){var o=r[s];if(o)if(2===o[0])i.push('"'+o[1].replace(/"/g,'""')+'"');else i.push(o[1]);else i.push("")}t.push(i.join(","))}return t.join(";")}var x0={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function E0(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[r[0]][0][3]?(i=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function T0(e,t,n){var r=E0(e,t,n);return"#REF"==r?r:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,n)}function S0(e,t,n,r,i){var s,o,a,c,l=i&&i.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},h=[],d=0,f=0,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,m="",v=0,y=e[0].length;v<y;++v){var b=e[0][v];switch(b[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(s=h.pop(),o=h.pop(),g>=0){switch(e[0][g][1][0]){case 0:m=JY(" ",e[0][g][1][1]);break;case 1:m=JY("\r",e[0][g][1][1]);break;default:if(m="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}o+=m,g=-1}h.push(o+x0[b[0]]+s);break;case"PtgIsect":s=h.pop(),o=h.pop(),h.push(o+" "+s);break;case"PtgUnion":s=h.pop(),o=h.pop(),h.push(o+","+s);break;case"PtgRange":s=h.pop(),o=h.pop(),h.push(o+":"+s);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":a=DQ(b[1][1],u,i),h.push(LQ(a,l));break;case"PtgRefN":a=n?DQ(b[1][1],n,i):b[1][1],h.push(LQ(a,l));break;case"PtgRef3d":d=b[1][1],a=DQ(b[1][2],u,i);p=T0(r,d,i);h.push(p+"!"+LQ(a,l));break;case"PtgFunc":case"PtgFuncVar":var w=b[1][0],_=b[1][1];w||(w=0);var x=0==(w&=127)?[]:h.slice(-w);h.length-=w,"User"===_&&(_=x.shift()),h.push(_+"("+x.join(",")+")");break;case"PtgBool":h.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":h.push(b[1]);break;case"PtgNum":h.push(String(b[1]));break;case"PtgStr":h.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":c=MQ(b[1][1],n?{s:n}:u,i),h.push(FQ(c,i));break;case"PtgArea":c=MQ(b[1][1],u,i),h.push(FQ(c,i));break;case"PtgArea3d":d=b[1][1],c=b[1][2],p=T0(r,d,i),h.push(p+"!"+FQ(c,i));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgName":f=b[1][2];var E=(r.names||[])[f-1]||(r[0]||[])[f],T=E?E.Name:"SH33TJSNAME"+String(f);T&&"_xlfn."==T.slice(0,6)&&!i.xlfn&&(T=T.slice(6)),h.push(T);break;case"PtgNameX":var S,k=b[1][1];if(f=b[1][2],!(i.biff<=5)){var C="";if(14849==((r[k]||[])[0]||[])[0]||(1025==((r[k]||[])[0]||[])[0]?r[k][f]&&r[k][f].itab>0&&(C=r.SheetNames[r[k][f].itab-1]+"!"):C=r.SheetNames[f-1]+"!"),r[k]&&r[k][f])C+=r[k][f].Name;else if(r[0]&&r[0][f])C+=r[0][f].Name;else{var I=(E0(r,k,i)||"").split(";;");I[f-1]?C=I[f-1]:C+="SH33TJSERRX"}h.push(C);break}k<0&&(k=-k),r[k]&&(S=r[k][f]),S||(S={Name:"SH33TJSERRY"}),h.push(S.Name);break;case"PtgParen":var O="(",A=")";if(g>=0){switch(m="",e[0][g][1][0]){case 2:O=JY(" ",e[0][g][1][1])+O;break;case 3:O=JY("\r",e[0][g][1][1])+O;break;case 4:A=JY(" ",e[0][g][1][1])+A;break;case 5:A=JY("\r",e[0][g][1][1])+A;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}h.push(O+h.pop()+A);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":h.push("#REF!");break;case"PtgExp":a={c:b[1][1],r:b[1][0]};var P={c:n.c,r:n.r};if(r.sharedf[WQ(a)]){var N=r.sharedf[WQ(a)];h.push(S0(N,u,P,r,i))}else{var R=!1;for(s=0;s!=r.arrayf.length;++s)if(o=r.arrayf[s],!(a.c<o[0].s.c||a.c>o[0].e.c)&&!(a.r<o[0].s.r||a.r>o[0].e.r)){h.push(S0(o[1],u,P,r,i)),R=!0;break}R||h.push(b[1])}break;case"PtgArray":h.push("{"+_0(b[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=v;break;case"PtgMissArg":h.push("");break;case"PtgList":h.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(b))}if(3!=i.biff&&g>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][v][0])){var D=!0;switch((b=e[0][g])[1][0]){case 4:D=!1;case 0:m=JY(" ",b[1][1]);break;case 5:D=!1;case 1:m=JY("\r",b[1][1]);break;default:if(m="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}h.push((D?m:"")+h.pop()+(D?"":m)),g=-1}}if(h.length>1&&i.WTF)throw new Error("bad formula stack");return h[0]}function k0(e,t,n){var r,i=e.l+t,s=2==n.biff?1:2,o=e.read_shift(s);if(65535==o)return[[],AQ(e,t-2)];var a=w0(e,o,n);return t!==o+s&&(r=b0(e,t-o-s,a,n)),e.l=i,[a,r]}function C0(e,t,n){var r,i=e.l+t,s=e.read_shift(2),o=w0(e,s,n);return 65535==s?[[],AQ(e,t-2)]:(t!==s+2&&(r=b0(e,i-s-2,o,n)),[o,r])}function I0(e,t,n){var r=e.l+t,i=hJ(e);2==n.biff&&++e.l;var s=function(e){var t;if(65535!==yQ(e,e.l+6))return[hX(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}(e),o=e.read_shift(1);2!=n.biff&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var a=function(e,t,n){var r,i=e.l+t,s=2==n.biff?1:2,o=e.read_shift(s);if(65535==o)return[[],AQ(e,t-2)];var a=w0(e,o,n);return t!==o+s&&(r=b0(e,t-o-s,a,n)),e.l=i,[a,r]}(e,r-e.l,n);return{cell:i,val:s[0],formula:a,shared:o>>3&1,tt:s[1]}}function O0(e,t,n){var r=e.read_shift(4),i=w0(e,r,n),s=e.read_shift(4);return[i,s>0?b0(e,s,i,n):null]}var A0=O0,P0=O0,N0=O0,R0=O0,D0={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},M0={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},L0={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function F0(e){return"of:"==e.slice(0,3)&&(e=e.slice(3)),61==e.charCodeAt(0)&&61==(e=e.slice(1)).charCodeAt(0)&&(e=e.slice(1)),(e=(e=(e=e.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,(function(e,t){return t.replace(/\./g,"")}))).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function j0(e){var t=e.split(":");return[t[0].split(".")[0],t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var U0={},B0={};function z0(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(n=[1,1,1,1,.5,.5]),null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function V0(e,t,n,r,i,s){try{r.cellNF&&(e.z=XK[t])}catch(a){if(r.WTF)throw a}if("z"!==e.t||r.cellStyles){if("d"===e.t&&"string"===typeof e.v&&(e.v=$Y(e.v)),(!r||!1!==r.cellText)&&"z"!==e.t)try{if(null==XK[t]&&AY(NY[t]||"General",t),"e"===e.t)e.w=e.w||SX[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=e.v.toString(10):e.w=aY(e.v);else if("d"===e.t){var o=BY(e.v);e.w=(0|o)===o?o.toString(10):aY(o)}else{if(void 0===e.v)return"";e.w=cY(e.v,B0)}else"d"===e.t?e.w=OY(t,BY(e.v),B0):e.w=OY(t,e.v,B0)}catch(a){if(r.WTF)throw a}if(r.cellStyles&&null!=n)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=fZ(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=fZ(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(a){if(r.WTF&&s.Fills)throw a}}}var W0=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,H0=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,q0=/<(?:\w:)?hyperlink [^>]*>/gm,G0=/"(\w*:\w*)"/,K0=/<(?:\w:)?col\b[^>]*[\/]?>/g,Y0=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,$0=/<(?:\w:)?pageMargins[^>]*\/>/g,Q0=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,X0=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,J0=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Z0(e,t,n,r,i,s,o){if(!e)return e;r||(r={"!id":{}}),null!=IK&&null==t.dense&&(t.dense=IK);var a=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},l="",u="",h=e.match(H0);h?(l=e.slice(0,h.index),u=e.slice(h.index+h[0].length)):l=u=e;var d=l.match(Q0);d?e1(d[0],a,i,n):(d=l.match(X0))&&function(e,t,n,r,i){e1(e.slice(0,e.indexOf(">")),n,r,i)}(d[0],d[1],a,i,n);var f=(l.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var p=l.slice(f,f+50).match(G0);p&&function(e,t){var n=GQ(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=qQ(n))}(a,p[1])}var g=l.match(J0);g&&g[1]&&function(e,t){t.Views||(t.Views=[{}]);(e.match(t1)||[]).forEach((function(e,n){var r=w$(e);t.Views[n]||(t.Views[n]={}),+r.zoomScale&&(t.Views[n].zoom=+r.zoomScale),O$(r.rightToLeft)&&(t.Views[n].RTL=!0)}))}(g[1],i);var m=[];if(t.cellStyles){var v=l.match(K0);v&&function(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=w$(t[r],!0);i.hidden&&(i.hidden=O$(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,xZ(i.width)),EZ(i);s<=o;)e[s++]=XY(i)}}(m,v)}h&&n1(h[1],a,t,c,s,o);var y=u.match(Y0);y&&(a["!autofilter"]=function(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}(y[0]));var b=[],w=u.match(W0);if(w)for(f=0;f!=w.length;++f)b[f]=GQ(w[f].slice(w[f].indexOf('"')+1));var _=u.match(q0);_&&function(e,t,n){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var s=w$(D$(t[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+T$(s.location))):(s.Target="#"+T$(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var a=GQ(s.ref),c=a.s.r;c<=a.e.r;++c)for(var l=a.s.c;l<=a.e.c;++l){var u=WQ({c:l,r:c});r?(e[c]||(e[c]=[]),e[c][l]||(e[c][l]={t:"z",v:void 0}),e[c][l].l=s):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=s)}}}(a,_,r);var x=u.match($0);if(x&&(a["!margins"]=function(e){var t={};return["left","right","top","bottom","header","footer"].forEach((function(n){e[n]&&(t[n]=parseFloat(e[n]))})),t}(w$(x[0]))),!a["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(a["!ref"]=qQ(c)),t.sheetRows>0&&a["!ref"]){var E=GQ(a["!ref"]);t.sheetRows<=+E.e.r&&(E.e.r=t.sheetRows-1,E.e.r>c.e.r&&(E.e.r=c.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>c.e.c&&(E.e.c=c.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),a["!fullref"]=a["!ref"],a["!ref"]=qQ(E))}return m.length>0&&(a["!cols"]=m),b.length>0&&(a["!merges"]=b),a}function e1(e,t,n,r){var i=w$(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=T$(D$(i.codeName)))}var t1=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;var n1=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=L$("v"),o=L$("f");return function(a,c,l,u,h,d){for(var f,p,g,m,v,y=0,b="",w=[],_=[],x=0,E=0,T=0,S="",k=0,C=0,I=0,O=0,A=Array.isArray(d.CellXf),P=[],N=[],R=Array.isArray(c),D=[],M={},L=!1,F=!!l.sheetStubs,j=a.split(t),U=0,B=j.length;U!=B;++U){var z=(b=j[U].trim()).length;if(0!==z){var V=0;e:for(y=0;y<z;++y)switch(b[y]){case">":if("/"!=b[y-1]){++y;break e}if(l&&l.cellStyles){if(k=null!=(p=w$(b.slice(V,y),!0)).r?parseInt(p.r,10):k+1,C=-1,l.sheetRows&&l.sheetRows<k)continue;M={},L=!1,p.ht&&(L=!0,M.hpt=parseFloat(p.ht),M.hpx=kZ(M.hpt)),"1"==p.hidden&&(L=!0,M.hidden=!0),null!=p.outlineLevel&&(L=!0,M.level=+p.outlineLevel),L&&(D[k-1]=M)}break;case"<":V=y}if(V>=y)break;if(k=null!=(p=w$(b.slice(V,y),!0)).r?parseInt(p.r,10):k+1,C=-1,!(l.sheetRows&&l.sheetRows<k)){u.s.r>k-1&&(u.s.r=k-1),u.e.r<k-1&&(u.e.r=k-1),l&&l.cellStyles&&(M={},L=!1,p.ht&&(L=!0,M.hpt=parseFloat(p.ht),M.hpx=kZ(M.hpt)),"1"==p.hidden&&(L=!0,M.hidden=!0),null!=p.outlineLevel&&(L=!0,M.level=+p.outlineLevel),L&&(D[k-1]=M)),w=b.slice(y).split(e);for(var W=0;W!=w.length&&"<"==w[W].trim().charAt(0);++W);for(w=w.slice(W),y=0;y!=w.length;++y)if(0!==(b=w[y].trim()).length){if(_=b.match(n),x=y,E=0,T=0,b="<c "+("<"==b.slice(0,1)?">":"")+b,null!=_&&2===_.length){for(x=0,S=_[1],E=0;E!=S.length&&!((T=S.charCodeAt(E)-64)<1||T>26);++E)x=26*x+T;C=--x}else++C;for(E=0;E!=b.length&&62!==b.charCodeAt(E);++E);if(++E,(p=w$(b.slice(0,E),!0)).r||(p.r=WQ({r:k-1,c:C})),f={t:""},null!=(_=(S=b.slice(E)).match(s))&&""!==_[1]&&(f.v=T$(_[1])),l.cellFormula){if(null!=(_=S.match(o))&&""!==_[1]){if(f.f=T$(D$(_[1])).replace(/\r\n/g,"\n"),l.xlfn||(f.f=ZZ(f.f)),_[0].indexOf('t="array"')>-1)f.F=(S.match(i)||[])[1],f.F.indexOf(":")>-1&&P.push([GQ(f.F),f.F]);else if(_[0].indexOf('t="shared"')>-1){m=w$(_[0]);var H=T$(D$(_[1]));l.xlfn||(H=ZZ(H)),N[parseInt(m.si,10)]=[m,H,p.r]}}else(_=S.match(/<f[^>]*\/>/))&&N[(m=w$(_[0])).si]&&(f.f=JZ(N[m.si][1],N[m.si][2],p.r));var q=VQ(p.r);for(E=0;E<P.length;++E)q.r>=P[E][0].s.r&&q.r<=P[E][0].e.r&&q.c>=P[E][0].s.c&&q.c<=P[E][0].e.c&&(f.F=P[E][1])}if(null==p.t&&void 0===f.v)if(f.f||f.F)f.v=0,f.t="n";else{if(!F)continue;f.t="z"}else f.t=p.t||"n";switch(u.s.c>C&&(u.s.c=C),u.e.c<C&&(u.e.c=C),f.t){case"n":if(""==f.v||null==f.v){if(!F)continue;f.t="z"}else f.v=parseFloat(f.v);break;case"s":if("undefined"==typeof f.v){if(!F)continue;f.t="z"}else g=U0[parseInt(f.v,10)],f.v=g.t,f.r=g.r,l.cellHTML&&(f.h=g.h);break;case"str":f.t="s",f.v=null!=f.v?D$(f.v):"",l.cellHTML&&(f.h=C$(f.v));break;case"inlineStr":_=S.match(r),f.t="s",null!=_&&(g=YJ(_[1]))?(f.v=g.t,l.cellHTML&&(f.h=g.h)):f.v="";break;case"b":f.v=O$(f.v);break;case"d":l.cellDates?f.v=$Y(f.v,1):(f.v=BY($Y(f.v,1)),f.t="n");break;case"e":l&&!1===l.cellText||(f.w=f.v),f.v=kX[f.v]}if(I=O=0,v=null,A&&void 0!==p.s&&null!=(v=d.CellXf[p.s])&&(null!=v.numFmtId&&(I=v.numFmtId),l.cellStyles&&null!=v.fillId&&(O=v.fillId)),V0(f,I,O,l,h,d),l.cellDates&&A&&"n"==f.t&&SY(XK[I])&&(f.t="d",f.v=HY(f.v)),p.cm&&l.xlmeta){var G=(l.xlmeta.Cell||[])[+p.cm-1];G&&"XLDAPR"==G.type&&(f.D=!0)}if(R){var K=VQ(p.r);c[K.r]||(c[K.r]=[]),c[K.r][K.c]=f}else c[p.r]=f}}}}D.length>0&&(c["!rows"]=D)}}();var r1=uX;function i1(e){return[rX(e),hX(e),"n"]}var s1=uX;var o1=["left","right","top","bottom","header","footer"];function a1(e,t,n,r,i,s){var o=s||{"!type":"chart"};if(!e)return s;var a=0,c=0,l="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach((function(e){var t=function(e){var t,n=[],r=e.match(/^<c:numCache>/);(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach((function(e){var t=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);t&&(n[+t[1]]=r?+t[2]:t[2])}));var i=T$((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach((function(e){t=e.replace(/<.*?>/g,"")})),[n,i,t]}(e);u.s.r=u.s.c=0,u.e.c=a,l=zQ(a),t[0].forEach((function(e,n){o[l+UQ(n)]={t:"n",v:e,z:t[1]},c=n})),u.e.r<c&&(u.e.r=c),++a})),a>0&&(o["!ref"]=qQ(u)),o}var c1=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],l1=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],u1=[],h1=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function d1(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var s=t[i];if(null==r[s[0]])r[s[0]]=s[1];else switch(s[2]){case"bool":"string"==typeof r[s[0]]&&(r[s[0]]=O$(r[s[0]]));break;case"int":"string"==typeof r[s[0]]&&(r[s[0]]=parseInt(r[s[0]],10))}}}function f1(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(null==e[r[0]])e[r[0]]=r[1];else switch(r[2]){case"bool":"string"==typeof e[r[0]]&&(e[r[0]]=O$(e[r[0]]));break;case"int":"string"==typeof e[r[0]]&&(e[r[0]]=parseInt(e[r[0]],10))}}}function p1(e){f1(e.WBProps,c1),f1(e.CalcPr,h1),d1(e.WBView,l1),d1(e.Sheets,u1),B0.date1904=O$(e.WBProps.date1904)}var g1="][*?/\\".split("");function m1(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return g1.forEach((function(r){if(-1!=e.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}})),n}var v1=/<\w+:workbook/;function y1(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function b1(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],Y1[16]={n:"BrtFRTArchID$",f:y1},NQ(e,(function(e,a,c){switch(c){case 156:o.SheetNames.push(e.name),n.Sheets.push(e);break;case 153:n.WBProps=e;break;case 39:null!=e.Sheet&&(t.SID=e.Sheet),e.Ref=S0(e.Ptg,0,null,o,t),delete t.SID,delete e.Ptg,s.push(e);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:o[0].length?o.push([c,e]):o[0]=[c,e],o[o.length-1].XTI=[];break;case 362:0===o.length&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(e),o.XTI=o.XTI.concat(e);break;case 35:case 37:r.push(c),i=!0;break;case 36:case 38:r.pop(),i=!1;break;default:if(a.T);else if(!i||t.WTF&&37!=r[r.length-1]&&35!=r[r.length-1])throw new Error("Unexpected record 0x"+c.toString(16))}}),t),p1(n),n.Names=s,n.supbooks=o,n}(e,n):function(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(e.replace(v$,(function(a,c){var l=w$(a);switch(_$(l[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":a.match(v1)&&(i="xmlns"+a.match(/<(\w+):/)[1]),n.xmlns=l[i];break;case"<fileVersion":delete l[0],n.AppVersion=l;break;case"<workbookPr":case"<workbookPr/>":c1.forEach((function(e){if(null!=l[e[0]])switch(e[2]){case"bool":n.WBProps[e[0]]=O$(l[e[0]]);break;case"int":n.WBProps[e[0]]=parseInt(l[e[0]],10);break;default:n.WBProps[e[0]]=l[e[0]]}})),l.codeName&&(n.WBProps.CodeName=D$(l.codeName));break;case"<workbookView":case"<workbookView/>":delete l[0],n.WBView.push(l);break;case"<sheet":switch(l.state){case"hidden":l.Hidden=1;break;case"veryHidden":l.Hidden=2;break;default:l.Hidden=0}delete l.state,l.name=T$(D$(l.name)),delete l[0],n.Sheets.push(l);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":r=!1;break;case"<definedName":(s={}).Name=D$(l.name),l.comment&&(s.Comment=l.comment),l.localSheetId&&(s.Sheet=+l.localSheetId),O$(l.hidden||"0")&&(s.Hidden=!0),o=c+a.length;break;case"</definedName>":s.Ref=T$(D$(e.slice(o,c))),n.Names.push(s);break;case"<calcPr":case"<calcPr/>":delete l[0],n.CalcPr=l;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+l[0]+" in workbook")}return a})),-1===Y$.indexOf(n.xmlns))throw new Error("Unknown Namespace: "+n.xmlns);return p1(n),n}(e,n)}function w1(e,t,n,r,i,s,o,a){return".bin"===t.slice(-4)?function(e,t,n,r,i,s,o){if(!e)return e;var a=t||{};r||(r={"!id":{}}),null!=IK&&null==a.dense&&(a.dense=IK);var c,l,u,h,d,f,p,g,m,v,y=a.dense?[]:{},b={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=[],_=!1,x=!1,E=[];a.biff=12,a["!row"]=0;var T=0,S=!1,k=[],C={},I=a.supbooks||i.supbooks||[[]];if(I.sharedf=C,I.arrayf=k,I.SheetNames=i.SheetNames||i.Sheets.map((function(e){return e.name})),!a.supbooks&&(a.supbooks=I,i.Names))for(var O=0;O<i.Names.length;++O)I[0][O+1]=i.Names[O];var A,P,N=[],R=[],D=!1;if(Y1[16]={n:"BrtShortReal",f:i1},NQ(e,(function(e,t,O){if(!x)switch(O){case 148:c=e;break;case 0:l=e,a.sheetRows&&a.sheetRows<=l.r&&(x=!0),m=UQ(d=l.r),a["!row"]=l.r,(e.hidden||e.hpt||null!=e.level)&&(e.hpt&&(e.hpx=kZ(e.hpt)),R[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(u={t:e[2]},e[2]){case"n":u.v=e[1];break;case"s":g=U0[e[1]],u.v=g.t,u.r=g.r;break;case"b":u.v=!!e[1];break;case"e":u.v=e[1],!1!==a.cellText&&(u.w=SX[u.v]);break;case"str":u.t="s",u.v=e[1];break;case"is":u.t="s",u.v=e[1].t}if((h=o.CellXf[e[0].iStyleRef])&&V0(u,h.numFmtId,null,a,s,o),f=-1==e[0].c?f+1:e[0].c,a.dense?(y[d]||(y[d]=[]),y[d][f]=u):y[zQ(f)+m]=u,a.cellFormula){for(S=!1,T=0;T<k.length;++T){var M=k[T];l.r>=M[0].s.r&&l.r<=M[0].e.r&&f>=M[0].s.c&&f<=M[0].e.c&&(u.F=qQ(M[0]),S=!0)}!S&&e.length>3&&(u.f=e[3])}if(b.s.r>l.r&&(b.s.r=l.r),b.s.c>f&&(b.s.c=f),b.e.r<l.r&&(b.e.r=l.r),b.e.c<f&&(b.e.c=f),a.cellDates&&h&&"n"==u.t&&SY(XK[h.numFmtId])){var L=tY(u.v);L&&(u.t="d",u.v=new Date(L.y,L.m-1,L.d,L.H,L.M,L.S,L.u))}A&&("XLDAPR"==A.type&&(u.D=!0),A=void 0),P&&(P=void 0);break;case 1:case 12:if(!a.sheetStubs||_)break;u={t:"z",v:void 0},f=-1==e[0].c?f+1:e[0].c,a.dense?(y[d]||(y[d]=[]),y[d][f]=u):y[zQ(f)+m]=u,b.s.r>l.r&&(b.s.r=l.r),b.s.c>f&&(b.s.c=f),b.e.r<l.r&&(b.e.r=l.r),b.e.c<f&&(b.e.c=f),A&&("XLDAPR"==A.type&&(u.D=!0),A=void 0),P&&(P=void 0);break;case 176:E.push(e);break;case 49:A=((a.xlmeta||{}).Cell||[])[e-1];break;case 494:var F=r["!id"][e.relId];for(F?(e.Target=F.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=F):""==e.relId&&(e.Target="#"+e.loc),d=e.rfx.s.r;d<=e.rfx.e.r;++d)for(f=e.rfx.s.c;f<=e.rfx.e.c;++f)a.dense?(y[d]||(y[d]=[]),y[d][f]||(y[d][f]={t:"z",v:void 0}),y[d][f].l=e):(p=WQ({c:f,r:d}),y[p]||(y[p]={t:"z",v:void 0}),y[p].l=e);break;case 426:if(!a.cellFormula)break;k.push(e),(v=a.dense?y[d][f]:y[zQ(f)+m]).f=S0(e[1],0,{r:l.r,c:f},I,a),v.F=qQ(e[0]);break;case 427:if(!a.cellFormula)break;C[WQ(e[0].s)]=e[1],(v=a.dense?y[d][f]:y[zQ(f)+m]).f=S0(e[1],0,{r:l.r,c:f},I,a);break;case 60:if(!a.cellStyles)break;for(;e.e>=e.s;)N[e.e--]={width:e.w/256,hidden:!!(1&e.flags),level:e.level},D||(D=!0,xZ(e.w/256)),EZ(N[e.e+1]);break;case 161:y["!autofilter"]={ref:qQ(e)};break;case 476:y["!margins"]=e;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),e.name&&(i.Sheets[n].CodeName=e.name),(e.above||e.left)&&(y["!outline"]={above:e.above,left:e.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),e.RTL&&(i.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:_=!0;break;case 36:_=!1;break;case 37:w.push(O),_=!0;break;case 38:w.pop(),_=!1;break;default:if(t.T);else if(!_||a.WTF)throw new Error("Unexpected record 0x"+O.toString(16))}}),a),delete a.supbooks,delete a["!row"],!y["!ref"]&&(b.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(y["!ref"]=qQ(c||b)),a.sheetRows&&y["!ref"]){var M=GQ(y["!ref"]);a.sheetRows<=+M.e.r&&(M.e.r=a.sheetRows-1,M.e.r>b.e.r&&(M.e.r=b.e.r),M.e.r<M.s.r&&(M.s.r=M.e.r),M.e.c>b.e.c&&(M.e.c=b.e.c),M.e.c<M.s.c&&(M.s.c=M.e.c),y["!fullref"]=y["!ref"],y["!ref"]=qQ(M))}return E.length>0&&(y["!merges"]=E),N.length>0&&(y["!cols"]=N),R.length>0&&(y["!rows"]=R),y}(e,r,n,i,s,o,a):Z0(e,r,n,i,s,o,a)}function _1(e,t,n,r,i,s,o,a){return".bin"===t.slice(-4)?function(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=[],a=!1;return NQ(e,(function(e,r,c){switch(c){case 550:s["!rel"]=e;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),e.name&&(i.Sheets[n].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:o.push(c);break;case 38:o.pop();break;default:if(r.T>0)o.push(c);else if(r.T<0)o.pop();else if(!a||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}(e,r,n,i,s):function(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s,o={"!type":"chart","!drawel":null,"!rel":""},a=e.match(Q0);return a&&e1(a[0],0,i,n),(s=e.match(/drawing r:id="(.*?)"/))&&(o["!rel"]=s[1]),r["!id"][o["!rel"]]&&(o["!drawel"]=r["!id"][o["!rel"]]),o}(e,0,n,i,s)}function x1(e,t,n,r){return".bin"===t.slice(-4)?function(e,t,n){var r={NumberFmt:[]};for(var i in XK)r.NumberFmt[i]=XK[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return NQ(e,(function(e,i,a){switch(a){case 44:r.NumberFmt[e[0]]=e[1],AY(e[1],e[0]);break;case 43:r.Fonts.push(e),null!=e.color.theme&&t&&t.themeElements&&t.themeElements.clrScheme&&(e.color.rgb=fZ(t.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==s[s.length-1]&&r.CellXf.push(e);break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(a),o=!0;break;case 38:s.pop(),o=!1;break;default:if(i.T>0)s.push(a);else if(i.T<0)s.pop();else if(!o||n.WTF&&37!=s[s.length-1])throw new Error("Unexpected record 0x"+a.toString(16))}})),r}(e,n,r):AZ(e,n,r)}function E1(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n=[],r=!1;return NQ(e,(function(e,i,s){switch(s){case 159:n.Count=e[0],n.Unique=e[1];break;case 19:n.push(e);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(i.T,!r||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}})),n}(e,n):function(e,t){var n=[],r="";if(!e)return n;var i=e.match($J);if(i){r=i[2].replace(QJ,"").split(XJ);for(var s=0;s!=r.length;++s){var o=YJ(r[s].trim(),t);null!=o&&(n[n.length]=o)}i=w$(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}(e,n)}function T1(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n=[],r=[],i={},s=!1;return NQ(e,(function(e,o,a){switch(a){case 632:r.push(e);break;case 635:i=e;break;case 637:i.t=e.t,i.h=e.h,i.r=e.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:case 37:case 38:break;case 35:s=!0;break;case 36:s=!1;break;default:if(o.T);else if(!s||t.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}})),n}(e,n):function(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach((function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&n.push(t[1])}}));var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach((function(e){if(""!==e&&""!==e.trim()){var i=e.match(/<(?:\w+:)?comment[^>]*>/);if(i){var s=w$(i[0]),o={author:s.authorId&&n[s.authorId]||"sheetjsghost",ref:s.ref,guid:s.guid},a=VQ(s.ref);if(!(t.sheetRows&&t.sheetRows<=a.r)){var c=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),l=!!c&&!!c[1]&&YJ(c[1])||{r:"",t:"",h:""};o.r=l.r,"<t></t>"==l.r&&(l.t=l.h=""),o.t=(l.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.cellHTML&&(o.h=l.h),r.push(o)}}}})),r}(e,n)}function S1(e,t,n){return".bin"===t.slice(-4)?function(e,t,n){var r=[];return NQ(e,(function(e,t,n){if(63===n)r.push(e);else if(!t.T)throw new Error("Unexpected record 0x"+n.toString(16))})),r}(e):function(e){var t=[];if(!e)return t;var n=1;return(e.match(v$)||[]).forEach((function(e){var r=w$(e);switch(r[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?n=r.i:r.i=n,t.push(r)}})),t}(e)}function k1(e,t,n,r){if(".bin"===n.slice(-4))return function(e,t,n,r){if(!e)return e;var i=r||{},s=!1;NQ(e,(function(e,t,n){switch(n){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(t.T);else if(!s||i.WTF)throw new Error("Unexpected record 0x"+n.toString(16))}}),i)}(e,0,0,r)}function C1(e,t,n){return".bin"===t.slice(-4)?function(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,a=2;return NQ(e,(function(e,t,n){switch(n){case 335:r.Types.push({name:e.name});break;case 51:e.forEach((function(e){1==a?r.Cell.push({type:r.Types[e[0]-1].name,index:e[1]}):0==a&&r.Value.push({type:r.Types[e[0]-1].name,index:e[1]})}));break;case 337:a=e?1:0;break;case 338:a=2;break;case 35:s.push(n),o=!0;break;case 36:s.pop(),o=!1;break;default:if(t.T);else if(!o||i.WTF&&35!=s[s.length-1])throw new Error("Unexpected record 0x"+n.toString(16))}})),r}(e,0,n):function(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i,s=!1,o=2;return e.replace(v$,(function(e){var t=w$(e);switch(_$(t[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":r.Types.push({name:t.name});break;case"<futureMetadata":for(var a=0;a<r.Types.length;++a)r.Types[a].name==t.name&&(i=r.Types[a]);break;case"<rc":1==o?r.Cell.push({type:r.Types[t.t-1].name,index:+t.v}):0==o&&r.Value.push({type:r.Types[t.t-1].name,index:+t.v});break;case"<cellMetadata":o=1;break;case"</cellMetadata>":case"</valueMetadata>":o=2;break;case"<valueMetadata":o=0;break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+t.i);break;default:if(!s&&n.WTF)throw new Error("unrecognized "+t[0]+" in metadata")}return e})),r}(e,0,n)}var I1,O1=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,A1=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function P1(e,t){var n=e.split(/\s+/),r=[];if(t||(r[0]=n[0]),1===n.length)return r;var i,s,o,a=e.match(O1);if(a)for(o=0;o!=a.length;++o)-1===(s=(i=a[o].match(A1))[1].indexOf(":"))?r[i[1]]=i[2].slice(1,i[2].length-1):r["xmlns:"===i[1].slice(0,6)?"xmlns"+i[1].slice(6):i[1].slice(s+1)]=i[2].slice(1,i[2].length-1);return r}function N1(e){var t={};if(1===e.split(/\s+/).length)return t;var n,r,i,s=e.match(O1);if(s)for(i=0;i!=s.length;++i)-1===(r=(n=s[i].match(A1))[1].indexOf(":"))?t[n[1]]=n[2].slice(1,n[2].length-1):t["xmlns:"===n[1].slice(0,6)?"xmlns"+n[1].slice(6):n[1].slice(r+1)]=n[2].slice(1,n[2].length-1);return t}function R1(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=O$(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=$Y(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[T$(t)]=i}function D1(e,t,n){if("z"!==e.t){if(!n||!1!==n.cellText)try{"e"===e.t?e.w=e.w||SX[e.v]:"General"===t?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=aY(e.v):e.w=cY(e.v):e.w=function(e,t){var n=I1[e]||T$(e);return"General"===n?cY(t):OY(n,t)}(t||"General",e.v)}catch(s){if(n.WTF)throw s}try{var r=I1[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&"n"==e.t&&SY(r)){var i=tY(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function M1(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=CZ[r.Pattern]||r.Pattern)}e[t.ID]=t}function L1(e,t,n,r,i,s,o,a,c,l){var u="General",h=r.StyleID,d={};l=l||{};var f=[],p=0;for(void 0===h&&a&&(h=a.StyleID),void 0===h&&o&&(h=o.StyleID);void 0!==s[h]&&(s[h].nf&&(u=s[h].nf),s[h].Interior&&f.push(s[h].Interior),s[h].Parent);)h=s[h].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=O$(e);break;case"String":r.t="s",r.r=I$(T$(e)),r.v=e.indexOf("<")>-1?T$(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":"Z"!=e.slice(-1)&&(e+="Z"),r.v=($Y(e)-new Date(Date.UTC(1899,11,30)))/864e5,r.v!==r.v?r.v=T$(e):r.v<60&&(r.v=r.v-1),u&&"General"!=u||(u="yyyy-mm-dd");case"Number":void 0===r.v&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=kX[e],!1!==l.cellText&&(r.w=e);break;default:""==e&&""==t?r.t="z":(r.t="s",r.v=I$(t||e))}if(D1(r,u,l),!1!==l.cellFormula)if(r.Formula){var g=T$(r.Formula);61==g.charCodeAt(0)&&(g=g.slice(1)),r.f=YZ(g,i),delete r.Formula,"RC"==r.ArrayRange?r.F=YZ("RC:RC",i):r.ArrayRange&&(r.F=YZ(r.ArrayRange,i),c.push([GQ(r.F),r.F]))}else for(p=0;p<c.length;++p)i.r>=c[p][0].s.r&&i.r<=c[p][0].e.r&&i.c>=c[p][0].s.c&&i.c<=c[p][0].e.c&&(r.F=c[p][1]);l.cellStyles&&(f.forEach((function(e){!d.patternType&&e.patternType&&(d.patternType=e.patternType)})),r.s=d),void 0!==r.StyleID&&(r.ixfe=r.StyleID)}function F1(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.v=e.w=e.ixfe=void 0}function j1(e,t){var n=t||{};PY();var r=SK(q$(e));"binary"!=n.type&&"array"!=n.type&&"base64"!=n.type||(r="undefined"!==typeof TK?TK.utils.decode(65001,xK(r)):D$(r));var i,s=r.slice(0,1024).toLowerCase(),o=!1;if((1023&(s=s.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&s.indexOf(","),1023&s.indexOf(";"))){var a=XY(n);return a.type="string",zJ.to_workbook(r,a)}if(-1==s.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach((function(e){s.indexOf("<"+e)>=0&&(o=!0)})),o)return function(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||0==n.length)throw new Error("Invalid HTML: could not find <table>");if(1==n.length)return $Q(X1(n[0],t),t);var r={SheetNames:[],Sheets:{}};return n.forEach((function(e,n){Q2(r,X1(e,t),"Sheet"+(n+1))})),r}(r,n);I1={"General Number":"General","General Date":XK[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":XK[15],"Short Date":XK[14],"Long Time":XK[19],"Medium Time":XK[18],"Short Time":XK[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:XK[2],Standard:XK[4],Percent:XK[10],Scientific:XK[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,l=[];null!=IK&&null==n.dense&&(n.dense=IK);var u,h={},d=[],f=n.dense?[]:{},p="",g={},m={},v=P1('<Data ss:Type="String">'),y=0,b=0,w=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},x={},E={},T="",S=0,k=[],C={},I={},O=0,A=[],P=[],N={},R=[],D=!1,M=[],L=[],F={},j=0,U=0,B={Sheets:[],WBProps:{date1904:!1}},z={};G$.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/gm,"");for(var V="";i=G$.exec(r);)switch(i[3]=(V=i[3]).toLowerCase()){case"data":if("data"==V){if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&l.push([i[3],!0]);break}if(l[l.length-1][1])break;"/"===i[1]?L1(r.slice(y,i.index),T,v,"comment"==l[l.length-1][0]?N:g,{c:b,r:w},x,R[b],m,M,n):(T="",v=P1(i[0]),y=i.index+i[0].length);break;case"cell":if("/"===i[1])if(P.length>0&&(g.c=P),(!n.sheetRows||n.sheetRows>w)&&void 0!==g.v&&(n.dense?(f[w]||(f[w]=[]),f[w][b]=g):f[zQ(b)+UQ(w)]=g),g.HRef&&(g.l={Target:T$(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(j=b+(0|parseInt(g.MergeAcross,10)),U=w+(0|parseInt(g.MergeDown,10)),k.push({s:{c:b,r:w},e:{c:j,r:U}})),n.sheetStubs)if(g.MergeAcross||g.MergeDown){for(var W=b;W<=j;++W)for(var H=w;H<=U;++H)(W>b||H>w)&&(n.dense?(f[H]||(f[H]=[]),f[H][W]={t:"z"}):f[zQ(W)+UQ(H)]={t:"z"});b=j+1}else++b;else g.MergeAcross?b=j+1:++b;else(g=N1(i[0])).Index&&(b=+g.Index-1),b<_.s.c&&(_.s.c=b),b>_.e.c&&(_.e.c=b),"/>"===i[0].slice(-2)&&++b,P=[];break;case"row":"/"===i[1]||"/>"===i[0].slice(-2)?(w<_.s.r&&(_.s.r=w),w>_.e.r&&(_.e.r=w),"/>"===i[0].slice(-2)&&(m=P1(i[0])).Index&&(w=+m.Index-1),b=0,++w):((m=P1(i[0])).Index&&(w=+m.Index-1),F={},("0"==m.AutoFitHeight||m.Height)&&(F.hpx=parseInt(m.Height,10),F.hpt=SZ(F.hpx),L[w]=F),"1"==m.Hidden&&(F.hidden=!0,L[w]=F));break;case"worksheet":if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"));d.push(p),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(f["!ref"]=qQ(_),n.sheetRows&&n.sheetRows<=_.e.r&&(f["!fullref"]=f["!ref"],_.e.r=n.sheetRows-1,f["!ref"]=qQ(_))),k.length&&(f["!merges"]=k),R.length>0&&(f["!cols"]=R),L.length>0&&(f["!rows"]=L),h[p]=f}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,l.push([i[3],!1]),c=P1(i[0]),p=T$(c.Name),f=n.dense?[]:{},k=[],M=[],L=[],z={name:p,Hidden:0},B.Sheets.push(z);break;case"table":if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"))}else{if("/>"==i[0].slice(-2))break;l.push([i[3],!1]),R=[],D=!1}break;case"style":"/"===i[1]?M1(x,E,n):E=P1(i[0]);break;case"numberformat":E.nf=T$(P1(i[0]).Format||"General"),I1[E.nf]&&(E.nf=I1[E.nf]);for(var q=0;392!=q&&XK[q]!=E.nf;++q);if(392==q)for(q=57;392!=q;++q)if(null==XK[q]){AY(E.nf,q);break}break;case"column":if("table"!==l[l.length-1][0])break;if((u=P1(i[0])).Hidden&&(u.hidden=!0,delete u.Hidden),u.Width&&(u.wpx=parseInt(u.Width,10)),!D&&u.wpx>10){D=!0,vZ=pZ;for(var G=0;G<R.length;++G)R[G]&&EZ(R[G])}D&&EZ(u),R[u.Index-1||R.length]=u;for(var K=0;K<+u.Span;++K)R[R.length]=XY(u);break;case"namedrange":if("/"===i[1])break;B.Names||(B.Names=[]);var Y=w$(i[0]),$={Name:Y.Name,Ref:YZ(Y.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&($.Sheet=B.Sheets.length-1),B.Names.push($);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":if("/>"===i[0].slice(-2))break;"/"===i[1]?T+=r.slice(S,i.index):S=i.index+i[0].length;break;case"interior":if(!n.cellStyles)break;E.Interior=P1(i[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===i[0].slice(-2))break;"/"===i[1]?BX(C,V,r.slice(O,i.index)):O=i.index+i[0].length;break;case"styles":case"workbook":if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"))}else l.push([i[3],!1]);break;case"comment":if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"));F1(N),P.push(N)}else l.push([i[3],!1]),N={a:(c=P1(i[0])).Author};break;case"autofilter":if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"))}else if("/"!==i[0].charAt(i[0].length-2)){var Q=P1(i[0]);f["!autofilter"]={ref:YZ(Q.Range).replace(/\$/g,"")},l.push([i[3],!0])}break;case"datavalidation":if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&l.push([i[3],!0]);break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===i[1]){if((c=l.pop())[0]!==i[3])throw new Error("Bad state: "+c.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&l.push([i[3],!0]);break;default:if(0==l.length&&"document"==i[3])return u2(r,n);if(0==l.length&&"uof"==i[3])return u2(r,n);var X=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(i[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:X=!1}break;case"componentoptions":switch(i[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:X=!1}break;case"excelworkbook":switch(i[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:X=!1}break;case"workbookoptions":switch(i[3]){case"owcversion":case"height":case"width":break;default:X=!1}break;case"worksheetoptions":switch(i[3]){case"visible":if("/>"===i[0].slice(-2));else if("/"===i[1])switch(r.slice(O,i.index)){case"SheetHidden":z.Hidden=1;break;case"SheetVeryHidden":z.Hidden=2}else O=i.index+i[0].length;break;case"header":f["!margins"]||z0(f["!margins"]={},"xlml"),isNaN(+w$(i[0]).Margin)||(f["!margins"].header=+w$(i[0]).Margin);break;case"footer":f["!margins"]||z0(f["!margins"]={},"xlml"),isNaN(+w$(i[0]).Margin)||(f["!margins"].footer=+w$(i[0]).Margin);break;case"pagemargins":var J=w$(i[0]);f["!margins"]||z0(f["!margins"]={},"xlml"),isNaN(+J.Top)||(f["!margins"].top=+J.Top),isNaN(+J.Left)||(f["!margins"].left=+J.Left),isNaN(+J.Right)||(f["!margins"].right=+J.Right),isNaN(+J.Bottom)||(f["!margins"].bottom=+J.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;default:X=!1}break;case"pivottable":case"pivotcache":switch(i[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:X=!1}break;case"pagebreaks":switch(i[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:X=!1}break;case"autofilter":switch(i[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:X=!1}break;case"querytable":switch(i[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:X=!1}break;case"datavalidation":switch(i[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:X=!1}break;case"sorting":case"conditionalformatting":switch(i[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:X=!1}break;case"mapinfo":case"schema":case"data":switch(i[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:X=!1}break;case"smarttags":break;default:X=!1}if(X)break;if(i[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+i[3]+"|"+l.join("|");if("customdocumentproperties"===l[l.length-1][0]){if("/>"===i[0].slice(-2))break;"/"===i[1]?R1(I,V,A,r.slice(O,i.index)):(A=i,O=i.index+i[0].length);break}if(n.WTF)throw"Unrecognized tag: "+i[3]+"|"+l.join("|")}var Z={};return n.bookSheets||n.bookProps||(Z.Sheets=h),Z.SheetNames=d,Z.Workbook=B,Z.SSF=XY(XK),Z.Props=C,Z.Custprops=I,Z}function U1(e,t){switch(P2(t=t||{}),t.type||"base64"){case"base64":return j1(PK(e),t);case"binary":case"buffer":case"file":return j1(e,t);case"array":return j1(FK(e),t)}}function B1(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=function(e){return dX(e,1)}(n),n.length-n.l<=4)return t;var r=n.read_shift(4);return 0==r||r>40?t:(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4||1907505652!==(r=n.read_shift(4))?t:(t.UnicodeClipboardFormat=function(e){return dX(e,2)}(n),0==(r=n.read_shift(4))||r>40?t:(n.l-=4,void(t.Reserved2=n.read_shift(0,"lpwstr")))))}var z1=[60,1084,2066,2165,2175];function V1(e,t,n,r,i){var s=r,o=[],a=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&a.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:i.enc.insitu(a)}o.push(a),n.l+=s;for(var c=yQ(n,n.l),l=$1[c],u=0;null!=l&&z1.indexOf(c)>-1;)s=yQ(n,n.l+2),u=n.l+4,2066==c?u+=4:2165!=c&&2175!=c||(u+=12),a=n.slice(u,n.l+4+s),o.push(a),n.l+=4+s,l=$1[c=yQ(n,n.l)];var h=UK(o);OQ(h,0);var d=0;h.lens=[];for(var f=0;f<o.length;++f)h.lens.push(d),d+=o[f].length;if(h.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+r;return t.f(h,h.length,i)}function W1(e,t,n){if("z"!==e.t&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=XK[r])}catch(s){if(t.WTF)throw s}if(!t||!1!==t.cellText)try{"e"===e.t?e.w=e.w||SX[e.v]:0===r||"General"==r?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=aY(e.v):e.w=cY(e.v):e.w=OY(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&r&&"n"==e.t&&SY(XK[r]||String(r))){var i=tY(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function H1(e,t,n){return{v:e,ixfe:t,t:n}}function q1(e,t){var n={opts:{}},r={};null!=IK&&null==t.dense&&(t.dense=IK);var i,s,o,a,c,l,u,h,d=t.dense?[]:{},f={},p={},g=null,m=[],v="",y={},b="",w={},_=[],x=[],E=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},k=function(e){return e<8?TX[e]:e<64&&E[e-8]||TX[e]},C=function(e,t,n){if(!(F>1)&&!(n.sheetRows&&e.r>=n.sheetRows)){if(n.cellStyles&&t.XF&&t.XF.data&&function(e,t,n){var r,i=t.XF.data;i&&i.patternType&&n&&n.cellStyles&&(t.s={},t.s.patternType=i.patternType,(r=dZ(k(i.icvFore)))&&(t.s.fgColor={rgb:r}),(r=dZ(k(i.icvBack)))&&(t.s.bgColor={rgb:r}))}(0,t,n),delete t.ixfe,delete t.XF,i=e,b=WQ(e),p&&p.s&&p.e||(p={s:{r:0,c:0},e:{r:0,c:0}}),e.r<p.s.r&&(p.s.r=e.r),e.c<p.s.c&&(p.s.c=e.c),e.r+1>p.e.r&&(p.e.r=e.r+1),e.c+1>p.e.c&&(p.e.c=e.c+1),n.cellFormula&&t.f)for(var r=0;r<_.length;++r)if(!(_[r][0].s.c>e.c||_[r][0].s.r>e.r)&&!(_[r][0].e.c<e.c||_[r][0].e.r<e.r)){t.F=qQ(_[r][0]),_[r][0].s.c==e.c&&_[r][0].s.r==e.r||delete t.f,t.f&&(t.f=""+S0(_[r][1],0,e,D,I));break}n.dense?(d[e.r]||(d[e.r]=[]),d[e.r][e.c]=t):d[b]=t}},I={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:_,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(I.password=t.password);var O=[],A=[],P=[],N=[],R=!1,D=[];D.SheetNames=I.snames,D.sharedf=I.sharedf,D.arrayf=I.arrayf,D.names=[],D.XTI=[];var M,L=0,F=0,j=0,U=[],B=[];I.codepage=1200,wK(1200);for(var z=!1;e.l<e.length-1;){var V=e.l,W=e.read_shift(2);if(0===W&&10===L)break;var H=e.l===e.length?0:e.read_shift(2),q=$1[W];if(q&&q.f){if(t.bookSheets&&133===L&&133!==W)break;if(L=W,2===q.r||12==q.r){var G=e.read_shift(2);if(H-=2,!I.enc&&G!==W&&((255&G)<<8|G>>8)!==W)throw new Error("rt mismatch: "+G+"!="+W);12==q.r&&(e.l+=10,H-=10)}var K={};if(K=10===W?q.f(e,H,I):V1(W,q,e,H,I),0==F&&-1===[9,521,1033,2057].indexOf(L))continue;switch(W){case 34:n.opts.Date1904=T.WBProps.date1904=K;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(I.enc||(e.l=0),I.enc=K,!t.password)throw new Error("File is password-protected");if(null==K.valid)throw new Error("Encryption scheme unsupported");if(!K.valid)throw new Error("Password is incorrect");break;case 92:I.lastuser=K;break;case 66:var Y=Number(K);switch(Y){case 21010:Y=1200;break;case 32768:Y=1e4;break;case 32769:Y=1252}wK(I.codepage=Y),z=!0;break;case 317:I.rrtabid=K;break;case 25:I.winlocked=K;break;case 439:n.opts.RefreshAll=K;break;case 12:n.opts.CalcCount=K;break;case 16:n.opts.CalcDelta=K;break;case 17:n.opts.CalcIter=K;break;case 13:n.opts.CalcMode=K;break;case 14:n.opts.CalcPrecision=K;break;case 95:n.opts.CalcSaveRecalc=K;break;case 15:I.CalcRefMode=K;break;case 2211:n.opts.FullCalc=K;break;case 129:K.fDialog&&(d["!type"]="dialog"),K.fBelow||((d["!outline"]||(d["!outline"]={})).above=!0),K.fRight||((d["!outline"]||(d["!outline"]={})).left=!0);break;case 224:x.push(K);break;case 430:D.push([K]),D[D.length-1].XTI=[];break;case 35:case 547:D[D.length-1].push(K);break;case 24:case 536:M={Name:K.Name,Ref:S0(K.rgce,0,null,D,I)},K.itab>0&&(M.Sheet=K.itab-1),D.names.push(M),D[0]||(D[0]=[],D[0].XTI=[]),D[D.length-1].push(K),"_xlnm._FilterDatabase"==K.Name&&K.itab>0&&K.rgce&&K.rgce[0]&&K.rgce[0][0]&&"PtgArea3d"==K.rgce[0][0][0]&&(B[K.itab-1]={ref:qQ(K.rgce[0][0][1][2])});break;case 22:I.ExternCount=K;break;case 23:0==D.length&&(D[0]=[],D[0].XTI=[]),D[D.length-1].XTI=D[D.length-1].XTI.concat(K),D.XTI=D.XTI.concat(K);break;case 2196:if(I.biff<8)break;null!=M&&(M.Comment=K[1]);break;case 18:d["!protect"]=K;break;case 19:0!==K&&I.WTF&&console.error("Password verifier: "+K);break;case 133:f[K.pos]=K,I.snames.push(K.name);break;case 10:if(--F)break;if(p.e){if(p.e.r>0&&p.e.c>0){if(p.e.r--,p.e.c--,d["!ref"]=qQ(p),t.sheetRows&&t.sheetRows<=p.e.r){var $=p.e.r;p.e.r=t.sheetRows-1,d["!fullref"]=d["!ref"],d["!ref"]=qQ(p),p.e.r=$}p.e.r++,p.e.c++}O.length>0&&(d["!merges"]=O),A.length>0&&(d["!objects"]=A),P.length>0&&(d["!cols"]=P),N.length>0&&(d["!rows"]=N),T.Sheets.push(S)}""===v?y=d:r[v]=d,d=t.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===I.biff&&(I.biff={9:2,521:3,1033:4}[W]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[K.BIFFVer]||8),I.biffguess=0==K.BIFFVer,0==K.BIFFVer&&4096==K.dt&&(I.biff=5,z=!0,wK(I.codepage=28591)),8==I.biff&&0==K.BIFFVer&&16==K.dt&&(I.biff=2),F++)break;if(d=t.dense?[]:{},I.biff<8&&!z&&(z=!0,wK(I.codepage=t.codepage||1252)),I.biff<5||0==K.BIFFVer&&4096==K.dt){""===v&&(v="Sheet1"),p={s:{r:0,c:0},e:{r:0,c:0}};var Q={pos:e.l-H,name:v};f[Q.pos]=Q,I.snames.push(v)}else v=(f[V]||{name:""}).name;32==K.dt&&(d["!type"]="chart"),64==K.dt&&(d["!type"]="macro"),O=[],A=[],I.arrayf=_=[],P=[],N=[],R=!1,S={Hidden:(f[V]||{hs:0}).hs,name:v};break;case 515:case 3:case 2:"chart"==d["!type"]&&(t.dense?(d[K.r]||[])[K.c]:d[WQ({c:K.c,r:K.r})])&&++K.c,l={ixfe:K.ixfe,XF:x[K.ixfe]||{},v:K.val,t:"n"},j>0&&(l.z=U[l.ixfe>>8&63]),W1(l,t,n.opts.Date1904),C({c:K.c,r:K.r},l,t);break;case 5:case 517:l={ixfe:K.ixfe,XF:x[K.ixfe],v:K.val,t:K.t},j>0&&(l.z=U[l.ixfe>>8&63]),W1(l,t,n.opts.Date1904),C({c:K.c,r:K.r},l,t);break;case 638:l={ixfe:K.ixfe,XF:x[K.ixfe],v:K.rknum,t:"n"},j>0&&(l.z=U[l.ixfe>>8&63]),W1(l,t,n.opts.Date1904),C({c:K.c,r:K.r},l,t);break;case 189:for(var X=K.c;X<=K.C;++X){var J=K.rkrec[X-K.c][0];l={ixfe:J,XF:x[J],v:K.rkrec[X-K.c][1],t:"n"},j>0&&(l.z=U[l.ixfe>>8&63]),W1(l,t,n.opts.Date1904),C({c:X,r:K.r},l,t)}break;case 6:case 518:case 1030:if("String"==K.val){g=K;break}if((l=H1(K.val,K.cell.ixfe,K.tt)).XF=x[l.ixfe],t.cellFormula){var Z=K.formula;if(Z&&Z[0]&&Z[0][0]&&"PtgExp"==Z[0][0][0]){var ee=Z[0][0][1][0],te=Z[0][0][1][1],ne=WQ({r:ee,c:te});w[ne]?l.f=""+S0(K.formula,0,K.cell,D,I):l.F=((t.dense?(d[ee]||[])[te]:d[ne])||{}).F}else l.f=""+S0(K.formula,0,K.cell,D,I)}j>0&&(l.z=U[l.ixfe>>8&63]),W1(l,t,n.opts.Date1904),C(K.cell,l,t),g=K;break;case 7:case 519:if(!g)throw new Error("String record expects Formula");g.val=K,(l=H1(K,g.cell.ixfe,"s")).XF=x[l.ixfe],t.cellFormula&&(l.f=""+S0(g.formula,0,g.cell,D,I)),j>0&&(l.z=U[l.ixfe>>8&63]),W1(l,t,n.opts.Date1904),C(g.cell,l,t),g=null;break;case 33:case 545:_.push(K);var re=WQ(K[0].s);if(s=t.dense?(d[K[0].s.r]||[])[K[0].s.c]:d[re],t.cellFormula&&s){if(!g)break;if(!re||!s)break;s.f=""+S0(K[1],0,K[0],D,I),s.F=qQ(K[0])}break;case 1212:if(!t.cellFormula)break;if(b){if(!g)break;w[WQ(g.cell)]=K[0],((s=t.dense?(d[g.cell.r]||[])[g.cell.c]:d[WQ(g.cell)])||{}).f=""+S0(K[0],0,i,D,I)}break;case 253:l=H1(m[K.isst].t,K.ixfe,"s"),m[K.isst].h&&(l.h=m[K.isst].h),l.XF=x[l.ixfe],j>0&&(l.z=U[l.ixfe>>8&63]),W1(l,t,n.opts.Date1904),C({c:K.c,r:K.r},l,t);break;case 513:t.sheetStubs&&(l={ixfe:K.ixfe,XF:x[K.ixfe],t:"z"},j>0&&(l.z=U[l.ixfe>>8&63]),W1(l,t,n.opts.Date1904),C({c:K.c,r:K.r},l,t));break;case 190:if(t.sheetStubs)for(var ie=K.c;ie<=K.C;++ie){var se=K.ixfe[ie-K.c];l={ixfe:se,XF:x[se],t:"z"},j>0&&(l.z=U[l.ixfe>>8&63]),W1(l,t,n.opts.Date1904),C({c:ie,r:K.r},l,t)}break;case 214:case 516:case 4:(l=H1(K.val,K.ixfe,"s")).XF=x[l.ixfe],j>0&&(l.z=U[l.ixfe>>8&63]),W1(l,t,n.opts.Date1904),C({c:K.c,r:K.r},l,t);break;case 0:case 512:1===F&&(p=K);break;case 252:m=K;break;case 1054:if(4==I.biff){U[j++]=K[1];for(var oe=0;oe<j+163&&XK[oe]!=K[1];++oe);oe>=163&&AY(K[1],j+163)}else AY(K[1],K[0]);break;case 30:U[j++]=K;for(var ae=0;ae<j+163&&XK[ae]!=K;++ae);ae>=163&&AY(K,j+163);break;case 229:O=O.concat(K);break;case 93:A[K.cmo[0]]=I.lastobj=K;break;case 438:I.lastobj.TxO=K;break;case 127:I.lastobj.ImData=K;break;case 440:for(c=K[0].s.r;c<=K[0].e.r;++c)for(a=K[0].s.c;a<=K[0].e.c;++a)(s=t.dense?(d[c]||[])[a]:d[WQ({c:a,r:c})])&&(s.l=K[1]);break;case 2048:for(c=K[0].s.r;c<=K[0].e.r;++c)for(a=K[0].s.c;a<=K[0].e.c;++a)(s=t.dense?(d[c]||[])[a]:d[WQ({c:a,r:c})])&&s.l&&(s.l.Tooltip=K[1]);break;case 28:if(I.biff<=5&&I.biff>=2)break;s=t.dense?(d[K[0].r]||[])[K[0].c]:d[WQ(K[0])];var ce=A[K[2]];s||(t.dense?(d[K[0].r]||(d[K[0].r]=[]),s=d[K[0].r][K[0].c]={t:"z"}):s=d[WQ(K[0])]={t:"z"},p.e.r=Math.max(p.e.r,K[0].r),p.s.r=Math.min(p.s.r,K[0].r),p.e.c=Math.max(p.e.c,K[0].c),p.s.c=Math.min(p.s.c,K[0].c)),s.c||(s.c=[]),o={a:K[1],t:ce.TxO.t},s.c.push(o);break;case 2173:x[K.ixfe],K.ext.forEach((function(e){e[0]}));break;case 125:if(!I.cellStyles)break;for(;K.e>=K.s;)P[K.e--]={width:K.w/256,level:K.level||0,hidden:!!(1&K.flags)},R||(R=!0,xZ(K.w/256)),EZ(P[K.e+1]);break;case 520:var le={};null!=K.level&&(N[K.r]=le,le.level=K.level),K.hidden&&(N[K.r]=le,le.hidden=!0),K.hpt&&(N[K.r]=le,le.hpt=K.hpt,le.hpx=kZ(K.hpt));break;case 38:case 39:case 40:case 41:d["!margins"]||z0(d["!margins"]={}),d["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[W]]=K;break;case 161:d["!margins"]||z0(d["!margins"]={}),d["!margins"].header=K.header,d["!margins"].footer=K.footer;break;case 574:K.RTL&&(T.Views[0].RTL=!0);break;case 146:E=K;break;case 2198:h=K;break;case 140:u=K;break;case 442:v?S.CodeName=K||S.name:T.WBProps.CodeName=K||"ThisWorkbook"}}else q||console.error("Missing Info for XLS Record 0x"+W.toString(16)),e.l+=H}return n.SheetNames=FY(f).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return f[e].name})),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&y["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=y)):n.Preamble=y,n.Sheets&&B.forEach((function(e,t){n.Sheets[n.SheetNames[t]]["!autofilter"]=e})),n.Strings=m,n.SSF=XY(XK),I.enc&&(n.Encryption=I.enc),h&&(n.Themes=h),n.Metadata={},void 0!==u&&(n.Metadata.Country=u),D.names.length>0&&(T.Names=D.names),n.Workbook=T,n}var G1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function K1(e,t){var n,r,i,s;if(t||(t={}),P2(t),_K(),t.codepage&&bK(t.codepage),e.FullPaths){if(MY.find(e,"/encryption"))throw new Error("File is password-protected");n=MY.find(e,"!CompObj"),r=MY.find(e,"/Workbook")||MY.find(e,"/Book")}else{switch(t.type){case"base64":e=LK(PK(e));break;case"binary":e=LK(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e))}OQ(e,0),r={content:e}}if(n&&B1(n),t.bookProps&&!t.bookSheets)i={};else{var o=NK?"buffer":"array";if(r&&r.content)i=q1(r.content,t);else if((s=MY.find(e,"PerfectOffice_MAIN"))&&s.content)i=VJ.to_workbook(s.content,(t.type=o,t));else{if(!(s=MY.find(e,"NativeContent_MAIN"))||!s.content)throw(s=MY.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");i=VJ.to_workbook(s.content,(t.type=o,t))}t.bookVBA&&e.FullPaths&&MY.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=function(e){var t=MY.utils.cfb_new({root:"R"});return e.FullPaths.forEach((function(n,r){if("/"!==n.slice(-1)&&n.match(/_VBA_PROJECT_CUR/)){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");MY.utils.cfb_add(t,i,e.FileIndex[r].content)}})),MY.write(t)}(e))}var a={};return e.FullPaths&&function(e,t,n){var r=MY.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=XX(r,bX,G1.DSI);for(var s in i)t[s]=i[s]}catch(l){if(n.WTF)throw l}var o=MY.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var a=XX(o,wX,G1.SI);for(var c in a)null==t[c]&&(t[c]=a[c])}catch(l){if(n.WTF)throw l}t.HeadingPairs&&t.TitlesOfParts&&(LX(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}(e,a,t),i.Props=i.Custprops=a,t.bookFiles&&(i.cfb=e),i}var Y1={0:{f:function(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,7&s&&(n.level=7&s),16&s&&(n.hidden=!0),32&s&&(n.hpt=i/20),n}},1:{f:function(e){return[nX(e)]}},2:{f:function(e){return[nX(e),cX(e),"n"]}},3:{f:function(e){return[nX(e),e.read_shift(1),"e"]}},4:{f:function(e){return[nX(e),e.read_shift(1),"b"]}},5:{f:function(e){return[nX(e),hX(e),"n"]}},6:{f:function(e){return[nX(e),JQ(e),"str"]}},7:{f:function(e){return[nX(e),e.read_shift(4),"s"]}},8:{f:function(e,t,n){var r=e.l+t,i=nX(e);i.r=n["!row"];var s=[i,JQ(e),"str"];if(n.cellFormula){e.l+=2;var o=P0(e,r-e.l,n);s[3]=S0(o,0,i,n.supbooks,n)}else e.l=r;return s}},9:{f:function(e,t,n){var r=e.l+t,i=nX(e);i.r=n["!row"];var s=[i,hX(e),"n"];if(n.cellFormula){e.l+=2;var o=P0(e,r-e.l,n);s[3]=S0(o,0,i,n.supbooks,n)}else e.l=r;return s}},10:{f:function(e,t,n){var r=e.l+t,i=nX(e);i.r=n["!row"];var s=[i,e.read_shift(1),"b"];if(n.cellFormula){e.l+=2;var o=P0(e,r-e.l,n);s[3]=S0(o,0,i,n.supbooks,n)}else e.l=r;return s}},11:{f:function(e,t,n){var r=e.l+t,i=nX(e);i.r=n["!row"];var s=[i,e.read_shift(1),"e"];if(n.cellFormula){e.l+=2;var o=P0(e,r-e.l,n);s[3]=S0(o,0,i,n.supbooks,n)}else e.l=r;return s}},12:{f:function(e){return[rX(e)]}},13:{f:function(e){return[rX(e),cX(e),"n"]}},14:{f:function(e){return[rX(e),e.read_shift(1),"e"]}},15:{f:function(e){return[rX(e),e.read_shift(1),"b"]}},16:{f:i1},17:{f:function(e){return[rX(e),JQ(e),"str"]}},18:{f:function(e){return[rX(e),e.read_shift(4),"s"]}},19:{f:eX},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=oX(e),o=N0(e,0,n),a=sX(e);e.l=r;var c={Name:s,Ptg:o};return i<268435455&&(c.Sheet=i),a&&(c.Comment=a),c}},40:{},42:{},43:{f:function(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var s=e.read_shift(1);0!=s&&(r.underline=s);var o=e.read_shift(1);o>0&&(r.family=o);var a=e.read_shift(1);switch(a>0&&(r.charset=a),e.l++,r.color=function(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),a=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var c=TX[r];c&&(t.rgb=dZ(c));break;case 2:t.rgb=dZ([s,o,a]);break;case 3:t.theme=r}return 0!=i&&(t.tint=i>0?i/32767:i/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=JQ(e),r}},44:{f:function(e,t){return[e.read_shift(2),JQ(e)]}},45:{f:PZ},46:{f:NZ},47:{f:function(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:NJ},62:{f:function(e){return[nX(e),eX(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=WQ(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:AQ,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=iX(e,t-19),n}},148:{f:r1,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?JQ(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=aX(e,t-8),n.name=JQ(e),n}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:uX},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:s1},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:JQ(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:aX},357:{},358:{},359:{},360:{T:1},361:{},362:{f:OJ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,n){var r=e.l+t,i=lX(e),s=e.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var a=A0(e,r-e.l,n);o[1]=a}else e.l=r;return o}},427:{f:function(e,t,n){var r=e.l+t,i=[uX(e,16)];if(n.cellFormula){var s=R0(e,r-e.l,n);i[1]=s,e.l=r}else e.l=r;return i}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return o1.forEach((function(n){t[n]=hX(e)})),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var n=e.l+t,r=uX(e,16),i=sX(e),s=JQ(e),o=JQ(e),a=JQ(e);e.l=n;var c={rfx:r,relId:i,loc:s,display:a};return o&&(c.Tooltip=o),c}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:aX},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:GZ},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var n=uX(e,16);return t.rfx=n.s,t.ref=WQ(n.s),e.l+=16,t}},636:{T:-1},637:{f:tX},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:JQ(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},$1={6:{f:I0},10:{f:JX},12:{f:eJ},13:{f:eJ},14:{f:ZX},15:{f:ZX},16:{f:hX},17:{f:ZX},18:{f:ZX},19:{f:eJ},20:{f:SJ},21:{f:SJ},23:{f:OJ},24:{f:IJ},25:{f:ZX},26:{},27:{},28:{f:function(e,t,n){return function(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),a=oJ(e,0,n);return n.biff<8&&e.read_shift(1),[{r:r,c:i},a,o,s]}}(e,0,n)}},29:{},34:{f:ZX},35:{f:kJ},38:{f:hX},39:{f:hX},40:{f:hX},41:{f:hX},42:{f:ZX},43:{f:ZX},47:{f:function(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?uZ(e,t-2,r):function(e,t,n,r){var i={key:eJ(e),verificationBytes:eJ(e)};n.password&&(i.verifier=aZ(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=lZ(n.password))}(e,n.biff,n,r),r}},49:{f:function(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10}return r.name=nJ(e,0,n),r}},51:{f:eJ},60:{},61:{f:function(e){return{Pos:[e.read_shift(2),e.read_shift(2)],Dim:[e.read_shift(2),e.read_shift(2)],Flags:e.read_shift(2),CurTab:e.read_shift(2),FirstTab:e.read_shift(2),Selected:e.read_shift(2),TabRatio:e.read_shift(2)}}},64:{f:ZX},65:{f:function(){}},66:{f:eJ},77:{},80:{},81:{},82:{},85:{f:eJ},89:{},90:{},91:{},92:{f:function(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=oJ(e,0,n);return e.read_shift(t+r-e.l),i}},93:{f:function(e,t,n){if(n&&n.biff<8)return function(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((PJ[r]||AQ)(e,t,n)),{cmo:[i,r,s],ft:o}}(e,t,n);var r=vJ(e),i=function(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r.push(bJ[i](e,n-e.l))}catch(s){return e.l=n,r}}return e.l!=n&&(e.l=n),r}(e,t-22,r[1]);return{cmo:r,ft:i}}},94:{},95:{f:ZX},96:{},97:{},99:{f:ZX},125:{f:NJ},128:{f:function(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}},129:{f:function(e,t,n){var r=n&&8==n.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&r,fBelow:64&r,fRight:128&r}}},130:{f:eJ},131:{f:ZX},132:{f:ZX},133:{f:function(e,t,n){var r=e.read_shift(4),i=3&e.read_shift(1),s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule"}var o=nJ(e,0,n);return 0===o.length&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}},134:{},140:{f:function(e){var t,n=[0,0];return t=e.read_shift(2),n[0]=_X[t]||t,t=e.read_shift(2),n[1]=_X[t]||t,n}},141:{f:eJ},144:{},146:{f:function(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(uJ(e));return n}},151:{},152:{},153:{},154:{},155:{},156:{f:eJ},157:{},158:{},160:{f:DJ},161:{f:function(e,t){var n={};return t<32||(e.l+=16,n.header=hX(e),n.footer=hX(e),e.l+=2),n}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(fJ(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r:r,c:i,C:o,rkrec:s}}},190:{f:function(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r:r,c:i,C:o,ixfe:s}}},193:{f:JX},197:{},198:{},199:{},200:{},201:{},202:{f:ZX},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:eJ},220:{},221:{f:ZX},222:{},224:{f:function(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,6,r.data=function(e,t,n,r){var i={},s=e.read_shift(4),o=e.read_shift(4),a=e.read_shift(4),c=e.read_shift(2);return i.patternType=xX[a>>26],r.cellStyles?(i.alc=7&s,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=15&o,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=127&a,i.icvBottom=a>>7&127,i.icvDiag=a>>14&127,i.dgDiag=a>>21&15,i.icvFore=127&c,i.icvBack=c>>7&127,i.fsxButton=c>>14&1,i):i}(e,0,r.fStyle,n),r}},225:{f:function(e,t){return 0===t||e.read_shift(2),1200}},226:{f:JX},227:{},229:{f:function(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(pJ(e));return n}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0;o!=i&&e.l<n;++o)s.push(rJ(e));return s.Count=r,s.Unique=i,s}},253:{f:function(e){var t=hJ(e);return t.isst=e.read_shift(4),t}},255:{f:function(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:tJ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ZX},353:{f:JX},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,1025==s||14849==s)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=iJ(e,s),a=[];r>e.l;)a.push(sJ(e));return[s,i,o,a]}},431:{f:ZX},432:{},433:{},434:{},437:{},438:{f:function(e,t,n){var r=e.l,i="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(s)?e.l+=6:function(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}(e);var o=e.read_shift(2);e.read_shift(2),eJ(e);var a=e.read_shift(2);e.l+=a;for(var c=1;c<e.lens.length-1;++c){if(e.l-r!=e.lens[c])throw new Error("TxO: bad continue record");var l=e[e.l];if((i+=iJ(e,e.lens[c+1]-e.lens[c]-1)).length>=(l?o:2*o))break}if(i.length!==o&&i.length!==2*o)throw new Error("cchText: "+o+" != "+i.length);return e.l=r+t,{t:i}}catch(u){return e.l=r+t,{t:i}}}},439:{f:ZX},440:{f:function(e,t){var n=pJ(e);e.l+=16;var r=function(e,t){var n=e.l+t,r=e.read_shift(4);if(2!==r)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var s,o,a,c,l,u,h="";16&i&&(s=cJ(e,e.l)),128&i&&(o=cJ(e,e.l)),257===(257&i)&&(a=cJ(e,e.l)),1===(257&i)&&(c=aJ(e,e.l)),8&i&&(h=cJ(e,e.l)),32&i&&(l=e.read_shift(16)),64&i&&(u=zX(e)),e.l=n;var d=o||a||c||"";d&&h&&(d+="#"+h),d||(d="#"+h),2&i&&"/"==d.charAt(0)&&"/"!=d.charAt(1)&&(d="file://"+d);var f={Target:d};return l&&(f.guid=l),u&&(f.time=u),s&&(f.Tooltip=s),f}(e,t-24);return[n,r]}},441:{},442:{f:sJ},443:{},444:{f:eJ},445:{},446:{},448:{f:JX},449:{f:function(e){return e.read_shift(2),e.read_shift(4)},r:2},450:{f:JX},512:{f:EJ},513:{f:RJ},515:{f:function(e,t,n){n.biffguess&&2==n.biff&&(n.biff=5);var r=hJ(e),i=hX(e);return r.val=i,r}},516:{f:function(e,t,n){n.biffguess&&2==n.biff&&(n.biff=5),e.l;var r=hJ(e);2==n.biff&&e.l++;var i=sJ(e,e.l,n);return r.val=i,r}},517:{f:TJ},519:{f:MJ},520:{f:function(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,7&r&&(t.level=7&r),32&r&&(t.hidden=!0),64&r&&(t.hpt=n/20),t}},523:{},545:{f:AJ},549:{f:_J},566:{},574:{f:function(e,t,n){return n&&n.biff>=2&&n.biff<5?{}:{RTL:64&e.read_shift(2)}}},638:{f:function(e){var t=e.read_shift(2),n=e.read_shift(2),r=fJ(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}},659:{},1048:{},1054:{f:function(e,t,n){return[e.read_shift(2),oJ(e,0,n)]}},1084:{},1212:{f:function(e,t,n){var r=gJ(e);e.l++;var i=e.read_shift(1);return[C0(e,t-=8,n),i,r]}},2048:{f:function(e,t){e.read_shift(2);var n=pJ(e),r=e.read_shift((t-10)/2,"dbcs-cont");return[n,r=r.replace(BK,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:wJ},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:JX},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t},r:12},2173:{f:function(e,t){e.l,e.l+=2;var n=e.read_shift(2);e.l+=2;for(var r=e.read_shift(2),i=[];r-- >0;)i.push(HZ(e,e.l));return{ixfe:n,ext:i}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ZX,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2);return[iJ(e,r,n),iJ(e,i,n)]}e.l+=t},r:12},2197:{},2198:{f:function(e,t,n){var r=e.l+t;if(124226!==e.read_shift(4))if(n.cellStyles){var i,s=e.slice(e.l);e.l=r;try{i=d$(s,{type:"array"})}catch(a){return}var o=c$(i,"theme/theme/theme1.xml",!0);if(o)return zZ(o,n)}else e.l=r},r:12},2199:{},2200:{},2201:{},2202:{f:function(e){return[0!==e.read_shift(4),0!==e.read_shift(4),e.read_shift(4)]},r:12},2203:{f:JX},2204:{},2205:{},2206:{},2207:{},2211:{f:function(e){var t=function(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}(e);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);return 0!==e.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:eJ},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(e,t,n){var r={area:!1};if(5!=n.biff)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,16&i&&(r.area=!0),r}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(uJ(e));return n}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:EJ},1:{},2:{f:function(e){var t=hJ(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}},3:{f:function(e){var t=hJ(e);++e.l;var n=hX(e);return t.t="n",t.val=n,t}},4:{f:function(e,t,n){n.biffguess&&5==n.biff&&(n.biff=2);var r=hJ(e);++e.l;var i=oJ(e,0,n);return r.t="str",r.val=i,r}},5:{f:TJ},7:{f:function(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}},8:{},9:{f:wJ},11:{},22:{f:eJ},30:{f:xJ},31:{},32:{},33:{f:AJ},36:{},37:{f:_J},50:{f:function(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}},62:{},52:{},67:{},68:{f:eJ},69:{},86:{},126:{},127:{f:function(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(e,t,n){var r=e.l+t,i=hJ(e),s=e.read_shift(2),o=iJ(e,s,n);return e.l=r,i.t="str",i.val=o,i}},223:{},234:{},354:{},421:{},518:{f:I0},521:{f:wJ},536:{f:IJ},547:{f:kJ},561:{},579:{},1030:{f:I0},1033:{f:wJ},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Q1(e,t,n,r){var i=t;if(!isNaN(i)){var s=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&gQ(n)&&e.push(n)}}function X1(e,t){var n=t||{};null!=IK&&null==n.dense&&(n.dense=IK);var r=n.dense?[]:{},i=(e=e.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=i.index,a=s&&s.index||e.length,c=n$(e.slice(o,a),/(:?<tr[^>]*>)/i,"<tr>"),l=-1,u=0,h=0,d=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(o=0;o<c.length;++o){var g=c[o].trim(),m=g.slice(0,3).toLowerCase();if("<tr"!=m){if("<td"==m||"<th"==m){var v=g.split(/<\/t[dh]>/i);for(a=0;a<v.length;++a){var y=v[a].trim();if(y.match(/<t[dh]/i)){for(var b=y,w=0;"<"==b.charAt(0)&&(w=b.indexOf(">"))>-1;)b=b.slice(w+1);for(var _=0;_<p.length;++_){var x=p[_];x.s.c==u&&x.s.r<l&&l<=x.e.r&&(u=x.e.c+1,_=-1)}var E=w$(y.slice(0,y.indexOf(">")));d=E.colspan?+E.colspan:1,((h=+E.rowspan)>1||d>1)&&p.push({s:{r:l,c:u},e:{r:l+(h||1)-1,c:u+d-1}});var T=E.t||E["data-t"]||"";if(b.length)if(b=F$(b),f.s.r>l&&(f.s.r=l),f.e.r<l&&(f.e.r=l),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),b.length){var S={t:"s",v:b};n.raw||!b.trim().length||"s"==T||("TRUE"===b?S={t:"b",v:!0}:"FALSE"===b?S={t:"b",v:!1}:isNaN(ZY(b))?isNaN(t$(b).getDate())||(S={t:"d",v:$Y(b)},n.cellDates||(S={t:"n",v:BY(S.v)}),S.z=n.dateNF||XK[14]):S={t:"n",v:ZY(b)}),n.dense?(r[l]||(r[l]=[]),r[l][u]=S):r[WQ({r:l,c:u})]=S,u+=d}else u+=d;else u+=d}}}}else{if(++l,n.sheetRows&&n.sheetRows<=l){--l;break}u=0}}return r["!ref"]=qQ(f),p.length&&(r["!merges"]=p),r}function J1(e,t,n,r){for(var i=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var a=0,c=0,l=0;l<i.length;++l)if(!(i[l].s.r>n||i[l].s.c>o)&&!(i[l].e.r<n||i[l].e.c<o)){if(i[l].s.r<n||i[l].s.c<o){a=-1;break}a=i[l].e.r-i[l].s.r+1,c=i[l].e.c-i[l].s.c+1;break}if(!(a<0)){var u=WQ({r:n,c:o}),h=r.dense?(e[n]||[])[o]:e[u],d=h&&null!=h.v&&(h.h||C$(h.w||(YQ(h),h.w)||""))||"",f={};a>1&&(f.rowspan=a),c>1&&(f.colspan=c),r.editable?d='<span contenteditable="true">'+d+"</span>":h&&(f["data-t"]=h&&h.t||"z",null!=h.v&&(f["data-v"]=h.v),null!=h.z&&(f["data-z"]=h.z),h.l&&"#"!=(h.l.Target||"#").charAt(0)&&(d='<a href="'+h.l.Target+'">'+d+"</a>")),f.id=(r.id||"sjs")+"-"+u,s.push(H$("td",d,f))}}return"<tr>"+s.join("")+"</tr>"}var Z1='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',e2="</body></html>";function t2(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function n2(e,t){var n=t||{},r=null!=n.header?n.header:Z1,i=null!=n.footer?n.footer:e2,s=[r],o=HQ(e["!ref"]);n.dense=Array.isArray(e),s.push(t2(0,0,n));for(var a=o.s.r;a<=o.e.r;++a)s.push(J1(e,o,a,n));return s.push("</table>"+i),s.join("")}function r2(e,t,n){var r=n||{};null!=IK&&(r.dense=IK);var i=0,s=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var o="string"==typeof r.origin?VQ(r.origin):r.origin;i=o.r,s=o.c}var a=t.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,a.length),l={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var u=HQ(e["!ref"]);l.s.r=Math.min(l.s.r,u.s.r),l.s.c=Math.min(l.s.c,u.s.c),l.e.r=Math.max(l.e.r,u.e.r),l.e.c=Math.max(l.e.c,u.e.c),-1==i&&(l.e.r=i=u.e.r+1)}var h=[],d=0,f=e["!rows"]||(e["!rows"]=[]),p=0,g=0,m=0,v=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);p<a.length&&g<c;++p){var w=a[p];if(s2(w)){if(r.display)continue;f[g]={hidden:!0}}var _=w.children;for(m=v=0;m<_.length;++m){var x=_[m];if(!r.display||!s2(x)){var E=x.hasAttribute("data-v")?x.getAttribute("data-v"):x.hasAttribute("v")?x.getAttribute("v"):F$(x.innerHTML),T=x.getAttribute("data-z")||x.getAttribute("z");for(d=0;d<h.length;++d){var S=h[d];S.s.c==v+s&&S.s.r<g+i&&g+i<=S.e.r&&(v=S.e.c+1-s,d=-1)}b=+x.getAttribute("colspan")||1,((y=+x.getAttribute("rowspan")||1)>1||b>1)&&h.push({s:{r:g+i,c:v+s},e:{r:g+i+(y||1)-1,c:v+s+(b||1)-1}});var k={t:"s",v:E},C=x.getAttribute("data-t")||x.getAttribute("t")||"";null!=E&&(0==E.length?k.t=C||"z":r.raw||0==E.trim().length||"s"==C||("TRUE"===E?k={t:"b",v:!0}:"FALSE"===E?k={t:"b",v:!1}:isNaN(ZY(E))?isNaN(t$(E).getDate())||(k={t:"d",v:$Y(E)},r.cellDates||(k={t:"n",v:BY(k.v)}),k.z=r.dateNF||XK[14]):k={t:"n",v:ZY(E)})),void 0===k.z&&null!=T&&(k.z=T);var I="",O=x.getElementsByTagName("A");if(O&&O.length)for(var A=0;A<O.length&&(!O[A].hasAttribute("href")||"#"==(I=O[A].getAttribute("href")).charAt(0));++A);I&&"#"!=I.charAt(0)&&(k.l={Target:I}),r.dense?(e[g+i]||(e[g+i]=[]),e[g+i][v+s]=k):e[WQ({c:v+s,r:g+i})]=k,l.e.c<v+s&&(l.e.c=v+s),v+=b}}++g}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),l.e.r=Math.max(l.e.r,g-1+i),e["!ref"]=qQ(l),g>=c&&(e["!fullref"]=qQ((l.e.r=a.length-p+g-1+i,l))),e}function i2(e,t){return r2((t||{}).dense?[]:{},e,t)}function s2(e){var t="",n=function(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}function o2(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,(function(e,t){return Array(parseInt(t,10)+1).join(" ")})).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n");return[T$(t.replace(/<[^>]*>/g,""))]}var a2={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function c2(e,t){var n=t||{};null!=IK&&null==n.dense&&(n.dense=IK);var r,i,s,o,a,c,l=q$(e),u=[],h={name:""},d="",f=0,p={},g=[],m=n.dense?[]:{},v={value:""},y="",b=0,w=[],_=-1,x=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},T=0,S={},k=[],C={},I=[],O=1,A=1,P=[],N={Names:[]},R={},D=["",""],M=[],L={},F="",j=0,U=!1,B=!1,z=0;for(G$.lastIndex=0,l=l.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");a=G$.exec(l);)switch(a[3]=a[3].replace(/_.*$/,"")){case"table":case"\u5de5\u4f5c\u8868":"/"===a[1]?(E.e.c>=E.s.c&&E.e.r>=E.s.r?m["!ref"]=qQ(E):m["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=E.e.r&&(m["!fullref"]=m["!ref"],E.e.r=n.sheetRows-1,m["!ref"]=qQ(E)),k.length&&(m["!merges"]=k),I.length&&(m["!rows"]=I),s.name=s["\u540d\u79f0"]||s.name,"undefined"!==typeof JSON&&JSON.stringify(s),g.push(s.name),p[s.name]=m,B=!1):"/"!==a[0].charAt(a[0].length-2)&&(s=w$(a[0],!1),_=x=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,m=n.dense?[]:{},k=[],I=[],B=!0);break;case"table-row-group":"/"===a[1]?--T:++T;break;case"table-row":case"\u884c":if("/"===a[1]){_+=O,O=1;break}if((o=w$(a[0],!1))["\u884c\u53f7"]?_=o["\u884c\u53f7"]-1:-1==_&&(_=0),(O=+o["number-rows-repeated"]||1)<10)for(z=0;z<O;++z)T>0&&(I[_+z]={level:T});x=-1;break;case"covered-table-cell":"/"!==a[1]&&++x,n.sheetStubs&&(n.dense?(m[_]||(m[_]=[]),m[_][x]={t:"z"}):m[WQ({r:_,c:x})]={t:"z"}),y="",w=[];break;case"table-cell":case"\u6570\u636e":if("/"===a[0].charAt(a[0].length-2))++x,v=w$(a[0],!1),A=parseInt(v["number-columns-repeated"]||"1",10),c={t:"z",v:null},v.formula&&0!=n.cellFormula&&(c.f=F0(T$(v.formula))),"string"==(v["\u6570\u636e\u7c7b\u578b"]||v["value-type"])&&(c.t="s",c.v=T$(v["string-value"]||""),n.dense?(m[_]||(m[_]=[]),m[_][x]=c):m[WQ({r:_,c:x})]=c),x+=A-1;else if("/"!==a[1]){y="",b=0,w=[],A=1;var V=O?_+O-1:_;if(++x>E.e.c&&(E.e.c=x),x<E.s.c&&(E.s.c=x),_<E.s.r&&(E.s.r=_),V>E.e.r&&(E.e.r=V),M=[],L={},c={t:(v=w$(a[0],!1))["\u6570\u636e\u7c7b\u578b"]||v["value-type"],v:null},n.cellFormula)if(v.formula&&(v.formula=T$(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(C={s:{r:_,c:x},e:{r:_+(parseInt(v["number-matrix-rows-spanned"],10)||0)-1,c:x+(parseInt(v["number-matrix-columns-spanned"],10)||0)-1}},c.F=qQ(C),P.push([C,c.F])),v.formula)c.f=F0(v.formula);else for(z=0;z<P.length;++z)_>=P[z][0].s.r&&_<=P[z][0].e.r&&x>=P[z][0].s.c&&x<=P[z][0].e.c&&(c.F=P[z][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(C={s:{r:_,c:x},e:{r:_+(parseInt(v["number-rows-spanned"],10)||0)-1,c:x+(parseInt(v["number-columns-spanned"],10)||0)-1}},k.push(C)),v["number-columns-repeated"]&&(A=parseInt(v["number-columns-repeated"],10)),c.t){case"boolean":c.t="b",c.v=O$(v["boolean-value"]);break;case"float":case"percentage":case"currency":c.t="n",c.v=parseFloat(v.value);break;case"date":c.t="d",c.v=$Y(v["date-value"]),n.cellDates||(c.t="n",c.v=BY(c.v)),c.z="m/d/yy";break;case"time":c.t="n",c.v=qY(v["time-value"])/86400,n.cellDates&&(c.t="d",c.v=HY(c.v)),c.z="HH:MM:SS";break;case"number":c.t="n",c.v=parseFloat(v["\u6570\u636e\u6570\u503c"]);break;default:if("string"!==c.t&&"text"!==c.t&&c.t)throw new Error("Unsupported value type "+c.t);c.t="s",null!=v["string-value"]&&(y=T$(v["string-value"]),w=[])}}else{if(U=!1,"s"===c.t&&(c.v=y||"",w.length&&(c.R=w),U=0==b),R.Target&&(c.l=R),M.length>0&&(c.c=M,M=[]),y&&!1!==n.cellText&&(c.w=y),U&&(c.t="z",delete c.v),(!U||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=_))for(var W=0;W<O;++W){if(A=parseInt(v["number-columns-repeated"]||"1",10),n.dense)for(m[_+W]||(m[_+W]=[]),m[_+W][x]=0==W?c:XY(c);--A>0;)m[_+W][x+A]=XY(c);else for(m[WQ({r:_+W,c:x})]=c;--A>0;)m[WQ({r:_+W,c:x+A})]=XY(c);E.e.c<=x&&(E.e.c=x)}x+=(A=parseInt(v["number-columns-repeated"]||"1",10))-1,A=0,c={},y="",w=[]}R={};break;case"document":case"document-content":case"\u7535\u5b50\u8868\u683c\u6587\u6863":case"spreadsheet":case"\u4e3b\u4f53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===a[1]){if((r=u.pop())[0]!==a[3])throw"Bad state: "+r}else"/"!==a[0].charAt(a[0].length-2)&&u.push([a[3],!0]);break;case"annotation":if("/"===a[1]){if((r=u.pop())[0]!==a[3])throw"Bad state: "+r;L.t=y,w.length&&(L.R=w),L.a=F,M.push(L)}else"/"!==a[0].charAt(a[0].length-2)&&u.push([a[3],!1]);F="",j=0,y="",b=0,w=[];break;case"creator":"/"===a[1]?F=l.slice(j,a.index):j=a.index+a[0].length;break;case"meta":case"\u5143\u6570\u636e":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===a[1]){if((r=u.pop())[0]!==a[3])throw"Bad state: "+r}else"/"!==a[0].charAt(a[0].length-2)&&u.push([a[3],!1]);y="",b=0,w=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"\u7535\u5b50\u8868\u683c":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"\u6807\u9898":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===a[1]){if(S[h.name]=d,(r=u.pop())[0]!==a[3])throw"Bad state: "+r}else"/"!==a[0].charAt(a[0].length-2)&&(d="",h=w$(a[0],!1),u.push([a[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(u[u.length-1][0]){case"time-style":case"date-style":i=w$(a[0],!1),d+=a2[a[3]]["long"===i.style?1:0]}break;case"text":if("/>"===a[0].slice(-2))break;if("/"===a[1])switch(u[u.length-1][0]){case"number-style":case"date-style":case"time-style":d+=l.slice(f,a.index)}else f=a.index+a[0].length;break;case"named-range":D=j0((i=w$(a[0],!1))["cell-range-address"]);var H={Name:i.name,Ref:D[0]+"!"+D[1]};B&&(H.Sheet=g.length),N.Names.push(H);break;case"p":case"\u6587\u672c\u4e32":if(["master-styles"].indexOf(u[u.length-1][0])>-1)break;if("/"!==a[1]||v&&v["string-value"])w$(a[0],!1),b=a.index+a[0].length;else{var q=o2(l.slice(b,a.index));y=(y.length>0?y+"\n":"")+q[0]}break;case"database-range":if("/"===a[1])break;try{p[(D=j0(w$(a[0])["target-range-address"]))[0]]["!autofilter"]={ref:D[1]}}catch(K){}break;case"a":if("/"!==a[1]){if(!(R=w$(a[0],!1)).href)break;R.Target=T$(R.href),delete R.href,"#"==R.Target.charAt(0)&&R.Target.indexOf(".")>-1?(D=j0(R.Target.slice(1)),R.Target="#"+D[0]+"!"+D[1]):R.Target.match(/^\.\.[\\\/]/)&&(R.Target=R.Target.slice(3))}break;default:switch(a[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5b57:":break;default:if(n.WTF)throw new Error(a)}}var G={Sheets:p,SheetNames:g,Workbook:N};return n.bookSheets&&delete G.Sheets,G}function l2(e,t){t=t||{},s$(e,"META-INF/manifest.xml")&&function(e,t){for(var n,r,i=q$(e);n=G$.exec(i);)switch(n[3]){case"manifest":break;case"file-entry":if("/"==(r=w$(n[0],!1)).path&&r.type!==PX)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}(a$(e,"META-INF/manifest.xml"),t);var n=c$(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=c2(D$(n),t);return s$(e,"meta.xml")&&(r.Props=DX(a$(e,"meta.xml"))),r}function u2(e,t){return c2(e,t)}function h2(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function d2(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):D$(FK(e))}function f2(e){var t=e.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(e,r),r+=e.length})),n}function p2(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>>24}function g2(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128){if(r|=(127&e[n])<<7,e[n++]<128)break e;if(r|=(127&e[n])<<14,e[n++]<128)break e;if(r|=(127&e[n])<<21,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),r}function m2(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function v2(e){for(var t=[],n=[0];n[0]<e.length;){var r,i=n[0],s=g2(e,n),o=7&s,a=0;if(0==(s=Math.floor(s/8)))break;switch(o){case 0:for(var c=n[0];e[n[0]++]>=128;);r=e.slice(c,n[0]);break;case 5:a=4,r=e.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,r=e.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=g2(e,n),r=e.slice(n[0],n[0]+a),n[0]+=a;break;default:throw new Error("PB Type ".concat(o," for Field ").concat(s," at offset ").concat(i))}var l={data:r,type:o};null==t[s]?t[s]=[l]:t[s].push(l)}return t}function y2(e,t){return(null==e?void 0:e.map((function(e){return t(e.data)})))||[]}function b2(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=g2(e,r),s=v2(e.slice(r[0],r[0]+i));r[0]+=i;var o={id:m2(s[1][0].data),messages:[]};s[2].forEach((function(t){var n=v2(t.data),i=m2(n[3][0].data);o.messages.push({meta:n,data:e.slice(r[0],r[0]+i)}),r[0]+=i})),(null==(t=s[3])?void 0:t[0])&&(o.merge=m2(s[3][0].data)>>>0>0),n.push(o)}return n}function w2(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=g2(t,n),i=[];n[0]<t.length;){var s=3&t[n[0]];if(0!=s){var o=0,a=0;if(1==s?(a=4+(t[n[0]]>>2&7),o=(224&t[n[0]++])<<3,o|=t[n[0]++]):(a=1+(t[n[0]++]>>2),2==s?(o=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(o=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[f2(i)],0==o)throw new Error("Invalid offset 0");if(o>i[0].length)throw new Error("Invalid offset beyond length");if(a>=o)for(i.push(i[0].slice(-o)),a-=o;a>=i[i.length-1].length;)i.push(i[i.length-1]),a-=i[i.length-1].length;i.push(i[0].slice(-o,-o+a))}else{var c=t[n[0]++]>>2;if(c<60)++c;else{var l=c-59;c=t[n[0]],l>1&&(c|=t[n[0]+1]<<8),l>2&&(c|=t[n[0]+2]<<16),l>3&&(c|=t[n[0]+3]<<24),c>>>=0,c++,n[0]+=l}i.push(t.slice(n[0],n[0]+c)),n[0]+=c}}var u=f2(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function _2(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(w2(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return f2(t)}function x2(e,t,n){var r,i=h2(e),s=i.getUint32(8,!0),o=12,a=-1,c=-1,l=NaN,u=NaN,h=new Date(2001,0,1);switch(1&s&&(l=function(e,t){for(var n=(127&e[t+15])<<7|e[t+14]>>1,r=1&e[t+14],i=t+13;i>=t;--i)r=256*r+e[i];return(128&e[t+15]?-r:r)*Math.pow(10,n-6176)}(e,o),o+=16),2&s&&(u=i.getFloat64(o,!0),o+=8),4&s&&(h.setTime(h.getTime()+1e3*i.getFloat64(o,!0)),o+=8),8&s&&(c=i.getUint32(o,!0),o+=4),16&s&&(a=i.getUint32(o,!0),o+=4),e[1]){case 0:break;case 2:case 10:r={t:"n",v:l};break;case 3:r={t:"s",v:t[c]};break;case 5:r={t:"d",v:h};break;case 6:r={t:"b",v:u>0};break;case 7:r={t:"n",v:u/86400};break;case 8:r={t:"e",v:0};break;case 9:if(!(a>-1))throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&s," : ").concat(e.slice(0,4)));r={t:"s",v:n[a]};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&s," : ").concat(e.slice(0,4)))}return r}function E2(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return function(e,t,n,r){var i,s=h2(e),o=s.getUint32(4,!0),a=(r>1?12:8)+4*p2(o&(r>1?3470:398)),c=-1,l=-1,u=NaN,h=new Date(2001,0,1);switch(512&o&&(c=s.getUint32(a,!0),a+=4),a+=4*p2(o&(r>1?12288:4096)),16&o&&(l=s.getUint32(a,!0),a+=4),32&o&&(u=s.getFloat64(a,!0),a+=8),64&o&&(h.setTime(h.getTime()+1e3*s.getFloat64(a,!0)),a+=8),e[2]){case 0:break;case 2:i={t:"n",v:u};break;case 3:i={t:"s",v:t[l]};break;case 5:i={t:"d",v:h};break;case 6:i={t:"b",v:u>0};break;case 7:i={t:"n",v:u/86400};break;case 8:i={t:"e",v:0};break;case 9:if(c>-1)i={t:"s",v:n[c]};else if(l>-1)i={t:"s",v:t[l]};else{if(isNaN(u))throw new Error("Unsupported cell type ".concat(e.slice(0,4)));i={t:"n",v:u}}break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return i}(e,t,n,e[0]);case 5:return x2(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function T2(e){return g2(v2(e)[1][0].data)}function S2(e,t){var n=v2(t.data),r=m2(n[1][0].data),i=n[3],s=[];return(i||[]).forEach((function(t){var n=v2(t.data),i=m2(n[1][0].data)>>>0;switch(r){case 1:s[i]=d2(n[3][0].data);break;case 8:var o=v2(e[T2(n[9][0].data)][0].data),a=e[T2(o[1][0].data)][0],c=m2(a.meta[1][0].data);if(2001!=c)throw new Error("2000 unexpected reference to ".concat(c));var l=v2(a.data);s[i]=l[3].map((function(e){return d2(e.data)})).join("")}})),s}function k2(e,t){var n,r=v2(t.data),i=(null==(n=null==r?void 0:r[7])?void 0:n[0])?m2(r[7][0].data)>>>0>0?1:0:-1,s=y2(r[5],(function(e){return function(e,t){var n,r,i,s,o,a,c,l,u,h,d,f,p,g,m,v,y=v2(e),b=m2(y[1][0].data)>>>0,w=m2(y[2][0].data)>>>0,_=(null==(r=null==(n=y[8])?void 0:n[0])?void 0:r.data)&&m2(y[8][0].data)>0||!1;if((null==(s=null==(i=y[7])?void 0:i[0])?void 0:s.data)&&0!=t)m=null==(a=null==(o=y[7])?void 0:o[0])?void 0:a.data,v=null==(l=null==(c=y[6])?void 0:c[0])?void 0:l.data;else{if(!(null==(h=null==(u=y[4])?void 0:u[0])?void 0:h.data)||1==t)throw"NUMBERS Tile missing ".concat(t," cell storage");m=null==(f=null==(d=y[4])?void 0:d[0])?void 0:f.data,v=null==(g=null==(p=y[3])?void 0:p[0])?void 0:g.data}for(var x=_?4:1,E=h2(m),T=[],S=0;S<m.length/2;++S){var k=E.getUint16(2*S,!0);k<65535&&T.push([S,k])}if(T.length!=w)throw"Expected ".concat(w," cells, found ").concat(T.length);var C=[];for(S=0;S<T.length-1;++S)C[T[S][0]]=v.subarray(T[S][1]*x,T[S+1][1]*x);return T.length>=1&&(C[T[T.length-1][0]]=v.subarray(T[T.length-1][1]*x)),{R:b,cells:C}}(e,i)}));return{nrows:m2(r[4][0].data)>>>0,data:s.reduce((function(e,t){return e[t.R]||(e[t.R]=[]),t.cells.forEach((function(n,r){if(e[t.R][r])throw new Error("Duplicate cell r=".concat(t.R," c=").concat(r));e[t.R][r]=n})),e}),[])}}function C2(e,t){var n={"!ref":"A1"},r=e[T2(v2(t.data)[2][0].data)],i=m2(r[0].meta[1][0].data);if(6001!=i)throw new Error("6000 unexpected reference to ".concat(i));return function(e,t,n){var r,i=v2(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(m2(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(m2(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=qQ(s);var o=v2(i[4][0].data),a=S2(e,e[T2(o[4][0].data)][0]),c=(null==(r=o[17])?void 0:r[0])?S2(e,e[T2(o[17][0].data)][0]):[],l=v2(o[3][0].data),u=0;l[1].forEach((function(t){var r=v2(t.data),i=e[T2(r[2][0].data)][0],s=m2(i.meta[1][0].data);if(6002!=s)throw new Error("6001 unexpected reference to ".concat(s));var o=k2(0,i);o.data.forEach((function(e,t){e.forEach((function(e,r){var i=WQ({r:u+t,c:r}),s=E2(e,a,c);s&&(n[i]=s)}))})),u+=o.nrows}))}(e,r[0],n),n}function I2(e,t){var n={SheetNames:[],Sheets:{}};if(y2(v2(t.data)[1],T2).forEach((function(t){e[t].forEach((function(t){if(2==m2(t.meta[1][0].data)){var r=function(e,t){var n,r=v2(t.data),i={name:(null==(n=r[1])?void 0:n[0])?d2(r[1][0].data):"",sheets:[]};return y2(r[2],T2).forEach((function(t){e[t].forEach((function(t){6e3==m2(t.meta[1][0].data)&&i.sheets.push(C2(e,t))}))})),i}(e,t);r.sheets.forEach((function(e,t){Q2(n,e,0==t?r.name:r.name+"_"+t,!0)}))}}))})),0==n.SheetNames.length)throw new Error("Empty NUMBERS file");return n}function O2(e){var t,n,r,i,s={},o=[];if(e.FullPaths.forEach((function(e){if(e.match(/\.iwpv2/))throw new Error("Unsupported password protection")})),e.FileIndex.forEach((function(e){if(e.name.match(/\.iwa$/)){var t,n;try{t=_2(e.content)}catch(r){return console.log("?? "+e.content.length+" "+(r.message||r))}try{n=b2(t)}catch(r){return console.log("## "+(r.message||r))}n.forEach((function(e){s[e.id]=e.messages,o.push(e.id)}))}})),!o.length)throw new Error("File has no messages");var a=(null==(i=null==(r=null==(n=null==(t=null==s?void 0:s[1])?void 0:t[0])?void 0:n.meta)?void 0:r[1])?void 0:i[0].data)&&1==m2(s[1][0].meta[1][0].data)&&s[1][0];if(a||o.forEach((function(e){s[e].forEach((function(e){if(1==m2(e.meta[1][0].data)>>>0){if(a)throw new Error("Document has multiple roots");a=e}}))})),!a)throw new Error("Cannot find Document root");return I2(s,a)}function A2(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}function P2(e){A2([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function N2(e){return IX.WS.indexOf(e)>-1?"sheet":IX.CS&&e==IX.CS?"chart":IX.DS&&e==IX.DS?"dialog":IX.MS&&e==IX.MS?"macro":e&&e.length?e:"sheet"}function R2(e,t,n,r,i,s,o,a,c,l,u,h){try{s[r]=AX(c$(e,n,!0),t);var d,f=a$(e,t);switch(a){case"sheet":d=w1(f,t,i,c,s[r],l,u,h);break;case"chart":if(!(d=_1(f,t,i,c,s[r],l))||!d["!drawel"])break;var p=f$(d["!drawel"].Target,t),g=OX(p),m=function(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}(c$(e,p,!0),AX(c$(e,g,!0),p)),v=f$(m,p),y=OX(v);d=a1(c$(e,v,!0),0,0,AX(c$(e,y,!0),v),0,d);break;case"macro":w=t,s[r],w.slice(-4),d={"!type":"macro"};break;case"dialog":d=function(e,t,n,r,i,s,o,a){return t.slice(-4),{"!type":"dialog"}}(0,t,0,0,s[r]);break;default:throw new Error("Unrecognized sheet type "+a)}o[r]=d;var b=[];s&&s[r]&&FY(s[r]).forEach((function(n){var i="";if(s[r][n].Type==IX.CMNT){i=f$(s[r][n].Target,t);var o=T1(a$(e,i,!0),i,c);if(!o||!o.length)return;qZ(d,o,!1)}s[r][n].Type==IX.TCMNT&&(i=f$(s[r][n].Target,t),b=b.concat(function(e,t){var n=[],r=!1,i={},s=0;return e.replace(v$,(function(o,a){var c=w$(o);switch(_$(c[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":null!=i.t&&n.push(i);break;case"<text>":case"<text":s=a+o.length;break;case"</text>":i.t=e.slice(s,a).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":r=!0;break;case"</mentions>":case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o})),n}(a$(e,i,!0),c)))})),b&&b.length&&qZ(d,b,!0,c.people||[])}catch(_){if(c.WTF)throw _}var w}function D2(e){return"/"==e.charAt(0)?e.slice(1):e}function M2(e,t){if(PY(),P2(t=t||{}),s$(e,"META-INF/manifest.xml"))return l2(e,t);if(s$(e,"objectdata.xml"))return l2(e,t);if(s$(e,"Index/Document.iwa")){if("undefined"==typeof Uint8Array)throw new Error("NUMBERS file parsing requires Uint8Array support");if(e.FileIndex)return O2(e);var n=MY.utils.cfb_new();return u$(e).forEach((function(t){h$(n,t,l$(e,t))})),O2(n)}if(!s$(e,"[Content_Types].xml")){if(s$(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(s$(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var r,i,s=u$(e),o=function(e){var t={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};if(!e||!e.match)return t;var n={};if((e.match(v$)||[]).forEach((function(e){var r=w$(e);switch(r[0].replace(y$,"<")){case"<?xml":break;case"<Types":t.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[r.Extension]=r.ContentType;break;case"<Override":void 0!==t[CX[r.ContentType]]&&t[CX[r.ContentType]].push(r.PartName)}})),t.xmlns!==K$.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}(c$(e,"[Content_Types].xml")),a=!1;if(0===o.workbooks.length&&a$(e,i="xl/workbook.xml",!0)&&o.workbooks.push(i),0===o.workbooks.length){if(!a$(e,i="xl/workbook.bin",!0))throw new Error("Could not find workbook");o.workbooks.push(i),a=!0}"bin"==o.workbooks[0].slice(-3)&&(a=!0);var c={},l={};if(!t.bookSheets&&!t.bookProps){if(U0=[],o.sst)try{U0=E1(a$(e,D2(o.sst)),o.sst,t)}catch(A){if(t.WTF)throw A}t.cellStyles&&o.themes.length&&(c=function(e,t,n){return zZ(e,n)}(c$(e,o.themes[0].replace(/^\//,""),!0)||"",o.themes[0],t)),o.style&&(l=x1(a$(e,D2(o.style)),o.style,c,t))}o.links.map((function(n){try{AX(c$(e,OX(D2(n))),n);return k1(a$(e,D2(n)),0,n,t)}catch(A){}}));var u=b1(a$(e,D2(o.workbooks[0])),o.workbooks[0],t),h={},d="";o.coreprops.length&&((d=a$(e,D2(o.coreprops[0]),!0))&&(h=DX(d)),0!==o.extprops.length&&(d=a$(e,D2(o.extprops[0]),!0))&&function(e,t,n){var r={};t||(t={}),e=D$(e),MX.forEach((function(n){var i=(e.match(L$(n[0]))||[])[1];switch(n[2]){case"string":i&&(t[n[1]]=T$(i));break;case"bool":t[n[1]]="true"===i;break;case"raw":var s=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));s&&s.length>0&&(r[n[1]]=s[1])}})),r.HeadingPairs&&r.TitlesOfParts&&LX(r.HeadingPairs,r.TitlesOfParts,t,n)}(d,h,t));var f={};t.bookSheets&&!t.bookProps||0!==o.custprops.length&&(d=c$(e,D2(o.custprops[0]),!0))&&(f=function(e,t){var n={},r="",i=e.match(FX);if(i)for(var s=0;s!=i.length;++s){var o=i[s],a=w$(o);switch(a[0]){case"<?xml":case"<Properties":break;case"<property":r=T$(a.name);break;case"</property>":r=null;break;default:if(0===o.indexOf("<vt:")){var c=o.split(">"),l=c[0].slice(4),u=c[1];switch(l){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":n[r]=T$(u);break;case"bool":n[r]=O$(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=$Y(u);break;default:if("/"==l.slice(-1))break;t.WTF&&"undefined"!==typeof console&&console.warn("Unexpected",o,l,c)}}else if("</"===o.slice(0,2));else if(t.WTF)throw new Error(o)}}return n}(d,t));var p={};if((t.bookSheets||t.bookProps)&&(u.Sheets?r=u.Sheets.map((function(e){return e.name})):h.Worksheets&&h.SheetNames.length>0&&(r=h.SheetNames),t.bookProps&&(p.Props=h,p.Custprops=f),t.bookSheets&&"undefined"!==typeof r&&(p.SheetNames=r),t.bookSheets?p.SheetNames:t.bookProps))return p;r={};var g={};t.bookDeps&&o.calcchain&&(g=S1(a$(e,D2(o.calcchain)),o.calcchain));var m,v,y=0,b={},w=u.Sheets;h.Worksheets=w.length,h.SheetNames=[];for(var _=0;_!=w.length;++_)h.SheetNames[_]=w[_].name;var x=a?"bin":"xml",E=o.workbooks[0].lastIndexOf("/"),T=(o.workbooks[0].slice(0,E+1)+"_rels/"+o.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");s$(e,T)||(T="xl/_rels/workbook."+x+".rels");var S=AX(c$(e,T,!0),T.replace(/_rels.*/,"s5s"));(o.metadata||[]).length>=1&&(t.xlmeta=C1(a$(e,D2(o.metadata[0])),o.metadata[0],t)),(o.people||[]).length>=1&&(t.people=function(e,t){var n=[],r=!1;return e.replace(v$,(function(e){var i=w$(e);switch(_$(i[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":n.push({name:i.displayname,id:i.id});break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return e})),n}(a$(e,D2(o.people[0])),t)),S&&(S=function(e,t){if(!e)return 0;try{e=t.map((function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,N2(e["!id"][t.id].Type)]}))}catch(A){return null}return e&&0!==e.length?e:null}(S,u.Sheets));var k=a$(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=h.Worksheets;++y){var C="sheet";if(S&&S[y]?(m="xl/"+S[y][1].replace(/[\/]?xl\//,""),s$(e,m)||(m=S[y][1]),s$(e,m)||(m=T.replace(/_rels\/.*$/,"")+S[y][1]),C=S[y][2]):m=(m="xl/worksheets/sheet"+(y+1-k)+"."+x).replace(/sheet0\./,"sheet."),v=m.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(h.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var I=!1,O=0;O!=t.sheets.length;++O)"number"==typeof t.sheets[O]&&t.sheets[O]==y&&(I=1),"string"==typeof t.sheets[O]&&t.sheets[O].toLowerCase()==h.SheetNames[y].toLowerCase()&&(I=1);if(!I)continue e}}R2(e,m,v,h.SheetNames[y],y,b,r,C,t,u,c,l)}return p={Directory:o,Workbook:u,Props:h,Custprops:f,Deps:g,Sheets:r,SheetNames:h.SheetNames,Strings:U0,Styles:l,Themes:c,SSF:XY(XK)},t&&t.bookFiles&&(e.files?(p.keys=s,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach((function(t,n){t=t.replace(/^Root Entry[\/]/,""),p.keys.push(t),p.files[t]=e.FileIndex[n]})))),t&&t.bookVBA&&(o.vba.length>0?p.vbaraw=a$(e,D2(o.vba[0]),!0):o.defaults&&o.defaults.bin===KZ&&(p.vbaraw=a$(e,"xl/vbaProject.bin",!0))),p}function L2(e,t){var n=t||{},r="Workbook",i=MY.find(e,r);try{if(r="/!DataSpaces/Version",!(i=MY.find(e,r))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(function(e){var t={};t.id=e.read_shift(0,"lpp4"),t.R=ZJ(e,4),t.U=ZJ(e,4),t.W=ZJ(e,4)}(i.content),r="/!DataSpaces/DataSpaceMap",!(i=MY.find(e,r))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=function(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(eZ(e));return t}(i.content);if(1!==s.length||1!==s[0].comps.length||0!==s[0].comps[0].t||"StrongEncryptionDataSpace"!==s[0].name||"EncryptedPackage"!==s[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(i=MY.find(e,r))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=function(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}(i.content);if(1!=o.length||"StrongEncryptionTransform"!=o[0])throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(i=MY.find(e,r))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);tZ(i.content)}catch(c){}if(r="/EncryptionInfo",!(i=MY.find(e,r))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=function(e){var t=ZJ(e);switch(t.Minor){case 2:return[t.Minor,iZ(e)];case 3:return[t.Minor,sZ()];case 4:return[t.Minor,oZ(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}(i.content);if(r="/EncryptedPackage",!(i=MY.find(e,r))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(4==a[0]&&"undefined"!==typeof decrypt_agile)return decrypt_agile(a[1],i.content,n.password||"",n);if(2==a[0]&&"undefined"!==typeof decrypt_std76)return decrypt_std76(a[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function F2(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=PK(e.slice(0,12));break;case"binary":n=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function j2(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return U1(e.slice(n),t);default:break e}return zJ.to_workbook(e,t)}function U2(e,t,n,r){return r?(n.type="string",zJ.to_workbook(e,n)):zJ.to_workbook(t,n)}function B2(e,t){_K();var n=t||{};if("undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer)return B2(new Uint8Array(e),((n=XY(n)).type="array",n));"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&!n.type&&(n.type="undefined"!==typeof Deno?"buffer":"array");var r,i=e,s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),B0={},n.dateNF&&(B0.dateNF=n.dateNF),n.type||(n.type=NK&&Buffer.isBuffer(e)?"buffer":"base64"),"file"==n.type&&(n.type=NK?"buffer":"binary",i=function(e){if("undefined"!==typeof LY)return LY.readFileSync(e);if("undefined"!==typeof Deno)return Deno.readFileSync(e);if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}(e),"undefined"===typeof Uint8Array||NK||(n.type="array")),"string"==n.type&&(s=!0,n.type="binary",n.codepage=65001,i=function(e){return e.match(/[^\x00-\x7F]/)?M$(e):e}(e)),"array"==n.type&&"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&"undefined"!==typeof ArrayBuffer){var o=new ArrayBuffer(3),a=new Uint8Array(o);if(a.foo="bar",!a.foo)return(n=XY(n)).type="array",B2(jK(i),n)}switch((r=F2(i,n))[0]){case 208:if(207===r[1]&&17===r[2]&&224===r[3]&&161===r[4]&&177===r[5]&&26===r[6]&&225===r[7])return function(e,t){return MY.find(e,"EncryptedPackage")?L2(e,t):K1(e,t)}(MY.read(i,n),n);break;case 9:if(r[1]<=8)return K1(i,n);break;case 60:return U1(i,n);case 73:if(73===r[1]&&42===r[2]&&0===r[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===r[1])return function(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=jJ.to_workbook(e,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return zJ.to_workbook(e,t)}}(i,n);break;case 84:if(65===r[1]&&66===r[2]&&76===r[3])return UJ.to_workbook(i,n);break;case 80:return 75===r[1]&&r[2]<9&&r[3]<9?function(e,t){var n=e,r=t||{};return r.type||(r.type=NK&&Buffer.isBuffer(e)?"buffer":"base64"),M2(d$(n,r),r)}(i,n):U2(e,i,n,s);case 239:return 60===r[3]?U1(i,n):U2(e,i,n,s);case 255:if(254===r[1])return function(e,t){var n=e;return"base64"==t.type&&(n=PK(n)),n=TK.utils.decode(1200,n.slice(2),"str"),t.type="binary",j2(n,t)}(i,n);if(0===r[1]&&2===r[2]&&0===r[3])return VJ.to_workbook(i,n);break;case 0:if(0===r[1]){if(r[2]>=2&&0===r[3])return VJ.to_workbook(i,n);if(0===r[2]&&(8===r[3]||9===r[3]))return VJ.to_workbook(i,n)}break;case 3:case 131:case 139:case 140:return FJ.to_workbook(i,n);case 123:if(92===r[1]&&114===r[2]&&116===r[3])return hZ.to_workbook(i,n);break;case 10:case 13:case 32:return function(e,t){var n="",r=F2(e,t);switch(t.type){case"base64":n=PK(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=QY(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]&&(n=D$(n)),t.type="binary",j2(n,t)}(i,n);case 137:if(80===r[1]&&78===r[2]&&71===r[3])throw new Error("PNG Image File is not a spreadsheet")}return LJ.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?FJ.to_workbook(i,n):U2(e,i,n,s)}function z2(e,t,n,r,i,s,o,a){var c=UQ(n),l=a.defval,u=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),h=!0,d=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:n,enumerable:!1})}catch(m){d.__rowNum__=n}else d.__rowNum__=n;if(!o||e[n])for(var f=t.s.c;f<=t.e.c;++f){var p=o?e[n][f]:e[r[f]+c];if(void 0!==p&&void 0!==p.t){var g=p.v;switch(p.t){case"z":if(null==g)break;continue;case"e":g=0==g?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=s[f]){if(null==g)if("e"==p.t&&null===g)d[s[f]]=null;else if(void 0!==l)d[s[f]]=l;else{if(!u||null!==g)continue;d[s[f]]=null}else d[s[f]]=u&&("n"!==p.t||"n"===p.t&&!1!==a.rawNumbers)?g:YQ(p,g,a);null!=g&&(h=!1)}}else{if(void 0===l)continue;null!=s[f]&&(d[s[f]]=l)}}return{row:d,isempty:h}}function V2(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,a="",c={s:{r:0,c:0},e:{r:0,c:0}},l=t||{},u=null!=l.range?l.range:e["!ref"];switch(1===l.header?r=1:"A"===l.header?r=2:Array.isArray(l.header)?r=3:null==l.header&&(r=0),typeof u){case"string":c=GQ(u);break;case"number":(c=GQ(e["!ref"])).s.r=u;break;default:c=u}r>0&&(i=0);var h=UQ(c.s.r),d=[],f=[],p=0,g=0,m=Array.isArray(e),v=c.s.r,y=0,b={};m&&!e[v]&&(e[v]=[]);var w=l.skipHidden&&e["!cols"]||[],_=l.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(w[y]||{}).hidden)switch(d[y]=zQ(y),n=m?e[v][y]:e[d[y]+h],r){case 1:s[y]=y-c.s.c;break;case 2:s[y]=d[y];break;case 3:s[y]=l.header[y-c.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),a=o=YQ(n,null,l),g=b[o]||0){do{a=o+"_"+g++}while(b[a]);b[o]=g,b[a]=1}else b[o]=1;s[y]=a}for(v=c.s.r+i;v<=c.e.r;++v)if(!(_[v]||{}).hidden){var x=z2(e,c,v,d,r,s,m,l);(!1===x.isempty||(1===r?!1!==l.blankrows:l.blankrows))&&(f[p++]=x.row)}return f.length=p,f}var W2=/"/g;function H2(e,t,n,r,i,s,o,a){for(var c=!0,l=[],u="",h=UQ(n),d=t.s.c;d<=t.e.c;++d)if(r[d]){var f=a.dense?(e[n]||[])[d]:e[r[d]+h];if(null==f)u="";else if(null!=f.v){c=!1,u=""+(a.rawNumbers&&"n"==f.t?f.v:YQ(f,null,a));for(var p=0,g=0;p!==u.length;++p)if((g=u.charCodeAt(p))===i||g===s||34===g||a.forceQuotes){u='"'+u.replace(W2,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==f.f||f.F?u="":(c=!1,(u="="+f.f).indexOf(",")>=0&&(u='"'+u.replace(W2,'""')+'"'));l.push(u)}return!1===a.blankrows&&c?null:l.join(o)}function q2(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var i=GQ(e["!ref"]),s=void 0!==r.FS?r.FS:",",o=s.charCodeAt(0),a=void 0!==r.RS?r.RS:"\n",c=a.charCodeAt(0),l=new RegExp(("|"==s?"\\|":s)+"+$"),u="",h=[];r.dense=Array.isArray(e);for(var d=r.skipHidden&&e["!cols"]||[],f=r.skipHidden&&e["!rows"]||[],p=i.s.c;p<=i.e.c;++p)(d[p]||{}).hidden||(h[p]=zQ(p));for(var g=0,m=i.s.r;m<=i.e.r;++m)(f[m]||{}).hidden||null!=(u=H2(e,i,m,h,o,c,s,r))&&(r.strip&&(u=u.replace(l,"")),(u||!1!==r.blankrows)&&n.push((g++?a:"")+u));return delete r.dense,n.join("")}function G2(e,t){t||(t={}),t.FS="\t",t.RS="\n";var n=q2(e,t);if("undefined"==typeof TK||"string"==t.type)return n;var r=TK.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function K2(e,t,n){var r,i=n||{},s=+!i.skipHeader,o=e||{},a=0,c=0;if(o&&null!=i.origin)if("number"==typeof i.origin)a=i.origin;else{var l="string"==typeof i.origin?VQ(i.origin):i.origin;a=l.r,c=l.c}var u={s:{c:0,r:0},e:{c:c,r:a+t.length-1+s}};if(o["!ref"]){var h=GQ(o["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),-1==a&&(a=h.e.r+1,u.e.r=a+t.length-1+s)}else-1==a&&(a=0,u.e.r=t.length-1+s);var d=i.header||[],f=0;t.forEach((function(e,t){FY(e).forEach((function(n){-1==(f=d.indexOf(n))&&(d[f=d.length]=n);var l=e[n],u="z",h="",p=WQ({c:c+f,r:a+t+s});r=Y2(o,p),!l||"object"!==typeof l||l instanceof Date?("number"==typeof l?u="n":"boolean"==typeof l?u="b":"string"==typeof l?u="s":l instanceof Date?(u="d",i.cellDates||(u="n",l=BY(l)),h=i.dateNF||XK[14]):null===l&&i.nullError&&(u="e",l=0),r?(r.t=u,r.v=l,delete r.w,delete r.R,h&&(r.z=h)):o[p]=r={t:u,v:l},h&&(r.z=h)):o[p]=l}))})),u.e.c=Math.max(u.e.c,c+d.length-1);var p=UQ(a);if(s)for(f=0;f<d.length;++f)o[zQ(f+c)+p]={t:"s",v:d[f]};return o["!ref"]=qQ(u),o}function Y2(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=VQ(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return Y2(e,WQ("number"!=typeof t?t:{r:t,c:n||0}))}function $2(){return{SheetNames:[],Sheets:{}}}function Q2(e,t,n,r){var i=1;if(!n)for(;i<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+i);++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&-1!=e.SheetNames.indexOf(n=o+i);++i);}if(m1(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function X2(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}var J2={encode_col:zQ,encode_row:UQ,encode_cell:WQ,encode_range:qQ,decode_col:BQ,decode_row:jQ,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:VQ,decode_range:HQ,format_cell:YQ,sheet_add_aoa:QQ,sheet_add_json:K2,sheet_add_dom:r2,aoa_to_sheet:XQ,json_to_sheet:function(e,t){return K2(null,e,t)},table_to_sheet:i2,table_to_book:function(e,t){return $Q(i2(e,t),t)},sheet_to_csv:q2,sheet_to_txt:G2,sheet_to_json:V2,sheet_to_html:n2,sheet_to_formulae:function(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var i,s=GQ(e["!ref"]),o="",a=[],c=[],l=Array.isArray(e);for(i=s.s.c;i<=s.e.c;++i)a[i]=zQ(i);for(var u=s.s.r;u<=s.e.r;++u)for(o=UQ(u),i=s.s.c;i<=s.e.c;++i)if(n=a[i]+o,r="",void 0!==(t=l?(e[u]||[])[i]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}c[c.length]=n+"="+r}return c},sheet_to_row_object_array:V2,sheet_get_cell:Y2,book_new:$2,book_append_sheet:Q2,book_set_sheet_visibility:function(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:X2,cell_set_internal_link:function(e,t,n){return X2(e,"#"+t,n)},cell_add_comment:function(e,t,n){e.c||(e.c=[]),e.c.push({t:t,a:n||"SheetJS"})},sheet_set_array_formula:function(e,t,n,r){for(var i="string"!=typeof t?t:GQ(t),s="string"==typeof t?t:qQ(t),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var c=Y2(e,o,a);c.t="n",c.F=s,delete c.v,o==i.s.r&&a==i.s.c&&(c.f=n,r&&(c.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};pK.version;var Z2=["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"];function e4(){return e4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e4.apply(this,arguments)}function t4(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var n4={bordered:c().bool,borderless:c().bool,className:c().string,cssModule:c().object,dark:c().bool,hover:c().bool,innerRef:c().oneOfType([c().func,c().string,c().object]),responsive:c().oneOfType([c().bool,c().string]),responsiveTag:x,size:c().string,striped:c().bool,tag:x};function r4(e){var t=e.className,n=e.cssModule,r=e.size,s=e.bordered,o=e.borderless,a=e.striped,c=e.dark,l=e.hover,h=e.responsive,d=e.tag,f=void 0===d?"table":d,g=e.responsiveTag,m=void 0===g?"div":g,v=e.innerRef,y=t4(e,Z2),b=p(u()(t,"table",!!r&&"table-"+r,!!s&&"table-bordered",!!o&&"table-borderless",!!a&&"table-striped",!!c&&"table-dark",!!l&&"table-hover"),n),w=i.createElement(f,e4({},y,{ref:v,className:b}));if(h){var _=p(!0===h?"table-responsive":"table-responsive-".concat(h),n);return i.createElement(m,{className:_},w)}return w}r4.propTypes=n4;const i4=r4;var s4=["className","listClassName","cssModule","size","tag","listTag","aria-label"];function o4(){return o4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o4.apply(this,arguments)}function a4(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c4={children:c().node,className:c().string,listClassName:c().string,cssModule:c().object,size:c().string,tag:x,listTag:x,"aria-label":c().string};function l4(e){var t,n,r,s=e.className,o=e.listClassName,a=e.cssModule,c=e.size,l=e.tag,h=void 0===l?"nav":l,d=e.listTag,f=void 0===d?"ul":d,g=e["aria-label"],m=void 0===g?"pagination":g,v=a4(e,s4),y=p(u()(s),a),b=p(u()(o,"pagination",(t={},n="pagination-".concat(c),r=!!c,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),a);return i.createElement(h,{className:y,"aria-label":m},i.createElement(f,o4({},v,{className:b})))}l4.propTypes=c4;const u4=l4;var h4=["active","className","cssModule","disabled","tag"];function d4(){return d4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d4.apply(this,arguments)}function f4(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p4={active:c().bool,children:c().node,className:c().string,cssModule:c().object,disabled:c().bool,tag:x};function g4(e){var t=e.active,n=e.className,r=e.cssModule,s=e.disabled,o=e.tag,a=void 0===o?"li":o,c=f4(e,h4),l=p(u()(n,"page-item",{active:t,disabled:s}),r);return i.createElement(a,d4({},c,{className:l}))}g4.propTypes=p4;const m4=g4;var v4=["className","cssModule","next","previous","first","last","tag"];function y4(){return y4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y4.apply(this,arguments)}function b4(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var w4={"aria-label":c().string,children:c().node,className:c().string,cssModule:c().object,next:c().bool,previous:c().bool,first:c().bool,last:c().bool,tag:x};function _4(e){var t,n=e.className,r=e.cssModule,s=e.next,o=e.previous,a=e.first,c=e.last,l=e.tag,h=void 0===l?"a":l,d=b4(e,v4),f=p(u()(n,"page-link"),r);o?t="Previous":s?t="Next":a?t="First":c&&(t="Last");var g,m=e["aria-label"]||t;o?g="\u2039":s?g="\u203a":a?g="\xab":c&&(g="\xbb");var v=e.children;return v&&Array.isArray(v)&&0===v.length&&(v=null),d.href||"a"!==h||(h="button"),(o||s||a||c)&&(v=[i.createElement("span",{"aria-hidden":"true",key:"caret"},v||g),i.createElement("span",{className:"visually-hidden",key:"ariaLabel"},m)]),i.createElement(h,y4({},d,{className:f,"aria-label":m}),v)}_4.propTypes=w4;const x4=_4;const E4=function(e){let{inventory:t}=e;const[n,r]=(0,i.useState)(1),[s,o]=(0,i.useState)(!1),a=s?t.filter((e=>e.hasOwnProperty("ClaimedByproducts")&&""!=e.ClaimedByproducts)):t,c=["Name","EventType","ByProducts","OutputProducts","ClaimedByproducts"],l={Name:"Industry",EventType:"Event",ByProducts:"By Products",OutputProducts:"Output Products",ClaimedByproducts:"Claimed By-Products"},u=Math.ceil(a.length/7),h=7*n,d=h-7,f=a.slice(d,h),p=e=>{r(e)};return(0,VR.jsxs)("div",{children:[(0,VR.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:(0,VR.jsx)(kn,{color:"info",onClick:()=>{o(!s),r(1)},children:s?"Show All":"Show Only Claimed By-products"})}),(0,VR.jsxs)("div",{className:"inventory",children:[(0,VR.jsx)("div",{className:"inventory-table",children:(0,VR.jsxs)(i4,{className:"align-items-center table-dark table-flush",children:[(0,VR.jsx)("thead",{className:"thead-dark",children:(0,VR.jsx)("tr",{children:c.map((e=>(0,VR.jsx)("th",{className:"text-center",style:{padding:"1rem",color:"white"},children:l[e]||e},e)))})}),(0,VR.jsx)("tbody",{children:f.map(((e,t)=>(0,VR.jsx)("tr",{children:c.map((t=>(0,VR.jsx)("td",{className:"text-center",style:{padding:"1rem",color:"white"},children:void 0!==e[t]?e[t]:"-"},t)))},t)))})]})}),(0,VR.jsxs)(u4,{className:"pagination justify-content-center",listClassName:"justify-content-center",style:{marginTop:"1rem"},children:[(0,VR.jsx)(m4,{disabled:1===n,children:(0,VR.jsx)(x4,{onClick:()=>p(n-1),previous:!0})}),Array.from({length:u},((e,t)=>(0,VR.jsx)(m4,{active:t+1===n,children:(0,VR.jsx)(x4,{onClick:()=>p(t+1),children:t+1})},t))),(0,VR.jsx)(m4,{disabled:n===u,children:(0,VR.jsx)(x4,{onClick:()=>p(n+1),next:!0})})]})]})]})};const T4=function(){const{currentUser:e,userKeys:t}=(0,i.useContext)(WR),r=jD(),s={outputProducts:"",byProducts:"",timestamp:"",inputProduct:"",productQuantity:"",byproductQuantity:"",industry:""},o=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"],a={signerPublicKey:null===t||void 0===t?void 0:t.publicKey,signerPrivateKey:null===t||void 0===t?void 0:t.privateKey,recipientPublicKey:null===t||void 0===t?void 0:t.publicKey},[c,l]=(0,i.useState)([s]),[u,h]=(0,i.useState)([]),[d,f]=(0,i.useState)(""),[p,g]=(0,i.useState)(""),[m,v]=(0,i.useState)([]),[y,b]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async()=>{if(m.length>0){b(!0);let e=[];try{for(const t of m){const n=await jR(zR(t));if(n&&n.data){let t=JSON.parse(n.data.getTransaction.asset.replace(/'/g,'"')).data;e.push(t)}}b(!1),h(e)}catch(d){console.log("Fetch Inventory error ",d)}}})()}),[m]);const w=(e,t,n)=>{const r=[...c];r[e][t]=n,l(r)},_=async()=>{const e=await dU(a.signerPublicKey);v(e)};return(0,VR.jsx)(VR.Fragment,{children:(0,VR.jsxs)("div",{className:"wrapper",children:[(0,VR.jsxs)("div",{className:"page-header",children:[(0,VR.jsx)("img",{alt:"...",className:"path",src:n(304)}),(0,VR.jsxs)("div",{className:"content-center",children:[(0,VR.jsxs)(Z,{className:"row-grid justify-content-between align-items-center text-left",children:[(0,VR.jsxs)(ue,{lg:"6",md:"6",children:[(0,VR.jsxs)("h1",{className:"text-white",children:["We believe in food ",(0,VR.jsx)("br",{}),(0,VR.jsx)("span",{className:"text-white",children:"integrity"})]}),(0,VR.jsx)("p",{className:"text-white mb-3",children:"The whole is the sum of its parts. Find the most important events and properties on your supply chain of your products, raw materials and by-products."})]}),(0,VR.jsx)(ue,{lg:"4",md:"5",children:(0,VR.jsx)("img",{alt:"...",className:"img-fluid",src:n(9513)})})]}),(0,VR.jsx)(Z,{className:"justify-content-between",children:(0,VR.jsx)(ue,{children:(0,VR.jsxs)("p",{className:"text-white mb-3",children:[(0,VR.jsx)("a",{href:"https://cellar.innovint.us/#/login",target:"_blank",rel:"noopener noreferrer",children:"Click here"}),"\xa0to seamlessly access your inventory in InnoVint."]})})}),""==p?(0,VR.jsxs)(Z,{className:"justify-content-between",children:[(0,VR.jsx)(ue,{children:(0,VR.jsxs)(kn,{color:"info",href:"#upload",onClick:()=>g("Excel"),children:[(0,VR.jsx)("i",{className:"tim-icons icon-attach-87"})," Upload an Excel sheet"]})}),(0,VR.jsx)(ue,{children:(0,VR.jsxs)(kn,{color:"info",onClick:e=>{g("Form")},children:[(0,VR.jsx)("i",{className:"tim-icons icon-bullet-list-67"})," Fill in manually"]})})]}):(0,VR.jsx)(VR.Fragment,{}),(0,VR.jsx)(Z,{style:{marginTop:"2rem"},children:(0,VR.jsx)(H,{children:(0,VR.jsx)(Z,{className:"justify-content-between",children:(0,VR.jsxs)(ue,{children:["Excel"==p?(0,VR.jsx)(me,{children:(0,VR.jsxs)(Be,{children:[(0,VR.jsx)(Vt,{type:"file",placeholder:"Upload here!",onChange:async e=>{e.preventDefault();let t=e.target.files[0];if(t&&o.includes(t.type)){const t=new FileReader;let n={},r={};t.onload=async e=>{const t=B2(e.target.result,{type:"json"}),i=t.SheetNames[0],s=t.Sheets[i],o=J2.sheet_to_json(s,{raw:!1,dateNF:"yyyy-mm-ddTHH:MM:ss.000Z"}).map((async e=>{var t,i;e.Timestamp=new Date(e.Timestamp);const s=await jR(BR(a,JSON.stringify(e))),o=e.Industry,c=null===s||void 0===s||null===(t=s.data)||void 0===t||null===(i=t.postTransaction)||void 0===i?void 0:i.id;if(c){n[o]||(n[o]=[]),n[o].push(c);const t="".concat(e.Timestamp.getFullYear(),"-").concat(String(e.Timestamp.getMonth()+1).padStart(2,"0"));r[t]||(r[t]={txnCount:0,products:new Set}),r[t].txnCount+=1,r[t].products.add(o)}console.log("Inventory added successfully ",c)}));await Promise.all(o),await hU(a.signerPublicKey,n,r),await dU(a.signerPublicKey)},t.readAsArrayBuffer(e.target.files[0])}else f("Please select only Excel files")},disabled:null==e}),d&&(0,VR.jsx)("h4",{className:"text-danger text-center",children:d})]})}):"Form"==p?(0,VR.jsxs)(At,{children:[c.map(((e,t)=>(0,VR.jsxs)(Z,{className:"mb-3 justify-content-between",children:[(0,VR.jsx)(ue,{children:(0,VR.jsx)(Vt,{placeholder:"Output Product",type:"text",id:"outputProducts".concat(t),value:e.outputProducts,onChange:e=>w(t,"outputProducts",e.target.value)})}),(0,VR.jsx)(ue,{children:(0,VR.jsx)(Vt,{placeholder:"ByProducts",type:"text",id:"byProducts".concat(t),value:e.byProducts,onChange:e=>w(t,"byProducts",e.target.value)})}),(0,VR.jsx)(ue,{children:(0,VR.jsx)(Vt,{placeholder:"Timestamp",type:"datetime",id:"timestamp".concat(t),value:e.timestamp,onChange:e=>w(t,"timestamp",e.target.value)})}),(0,VR.jsx)(ue,{children:(0,VR.jsx)(Vt,{placeholder:"Input product",type:"text",id:"inputProduct".concat(t),value:e.inputProduct,onChange:e=>w(t,"inputProduct",e.target.value)})}),(0,VR.jsx)(ue,{children:(0,VR.jsx)(Vt,{placeholder:"Prod Quantity",type:"text",id:"productQuantity".concat(t),value:e.productQuantity,onChange:e=>w(t,"productQuantity",e.target.value)})}),(0,VR.jsx)(ue,{children:(0,VR.jsx)(Vt,{type:"text",placeholder:"Byprod Quantity",id:"byproductQuantity".concat(t),value:e.byproductQuantity,onChange:e=>w(t,"byproductQuantity",e.target.value)})}),(0,VR.jsx)(ue,{children:(0,VR.jsx)(Vt,{placeholder:"industry",type:"text",id:"industry".concat(t),value:e.industry,onChange:e=>w(t,"industry",e.target.value)})})]},t))),(0,VR.jsx)(kn,{className:"btn-simple",color:"info",onClick:()=>{l([...c,(0,Nr.Z)({},s)])},children:"Add"}),(0,VR.jsx)(kn,{color:"info",onClick:async()=>{const e=JSON.parse(JSON.stringify(c,null,2));let t={},n={};const r=e.map((async e=>{var r,i;e.Timestamp=new Date(e.Timestamp);const s=await jR(BR(a,JSON.stringify(e)));console.log("Inventory added successfully ",s);const o=e.Industry,c=null===s||void 0===s||null===(r=s.data)||void 0===r||null===(i=r.postTransaction)||void 0===i?void 0:i.id;if(c){t[o]||(t[o]=[]),t[o].push(c);const r="".concat(e.Timestamp.getFullYear(),"-").concat(String(e.Timestamp.getMonth()+1).padStart(2,"0"));n[r]||(n[r]={txnCount:0,products:new Set}),n[r].txnCount+=1,n[r].products.add(o)}}));await Promise.all(r),await hU(a.signerPublicKey,t,n),await dU(a.signerPublicKey)},children:"Save Data"})]}):(0,VR.jsx)(VR.Fragment,{}),(0,VR.jsx)("div",{className:"btn-wrapper",children:null==e?(0,VR.jsxs)(kn,{className:"btn-simple",color:"info",onClick:()=>r("/login"),children:[(0,VR.jsx)("i",{className:"tim-icons icon-badge"})," Please log in to view/upload your inventory"]}):(0,VR.jsxs)(kn,{className:"btn-simple",color:"info",onClick:async e=>{e.preventDefault(),document.getElementById("inventory-section").scrollIntoView({behavior:"smooth"}),_()},children:[(0,VR.jsx)("i",{className:"tim-icons icon-notes"})," Display My Inventory"]})})]})})})})]})]}),(0,VR.jsx)("div",{className:"section",id:"inventory-section",children:(0,VR.jsx)(H,{children:u.length>0?(0,VR.jsx)(E4,{inventory:u}):y?(0,VR.jsxs)("div",{className:"loading-indicator",children:[(0,VR.jsx)("div",{className:"loading-spinner"}),(0,VR.jsx)("p",{children:"Fetching your inventory..."})]}):(0,VR.jsx)("div",{className:"w-100 text-center mt-2 text-white",children:"No inventory found!"})})})]})})},S4=()=>(0,VR.jsxs)(VR.Fragment,{children:[(0,VR.jsx)(cU,{}),(0,VR.jsx)(T4,{})]});function k4(e){return k4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k4(e)}function C4(){return C4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C4.apply(this,arguments)}function I4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O4(e,t){return O4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O4(e,t)}function A4(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N4(e);if(t){var i=N4(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===k4(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P4(e)}(this,n)}}function P4(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N4(e){return N4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N4(e)}var R4=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O4(e,t)}(o,e);var t,n,r,s=A4(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=s.call(this,e)).state={isOpen:!0},t.toggle=t.toggle.bind(P4(t)),t}return t=o,(n=[{key:"toggle",value:function(){this.setState((function(e){return{isOpen:!e.isOpen}}))}},{key:"render",value:function(){return i.createElement(yt,C4({isOpen:this.state.isOpen,toggle:this.toggle},this.props))}}])&&I4(t.prototype,n),r&&I4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.Component);const D4=R4;function M4(e){return M4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M4(e)}function L4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F4(e,t){return F4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F4(e,t)}function j4(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U4(e);if(t){var i=U4(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===M4(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function U4(e){return U4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U4(e)}var B4={children:c().node.isRequired,node:c().any},z4=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F4(e,t)}(s,e);var t,n,r,i=j4(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return N?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),We.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}])&&L4(t.prototype,n),r&&L4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.Component);z4.propTypes=B4;const V4=z4;function W4(e){return W4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W4(e)}function H4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H4(Object(n),!0).forEach((function(t){K4(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G4(){return G4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G4.apply(this,arguments)}function K4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $4(e,t){return $4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$4(e,t)}function Q4(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J4(e);if(t){var i=J4(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===W4(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X4(e)}(this,n)}}function X4(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J4(e){return J4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J4(e)}function Z4(){}var e3=c().shape(lt.propTypes),t3={autoFocus:c().bool,backdrop:c().oneOfType([c().bool,c().oneOf(["static"])]),backdropClassName:c().string,backdropTransition:e3,centered:c().bool,children:c().node,contentClassName:c().string,className:c().string,container:_,cssModule:c().object,external:c().node,fade:c().bool,fullscreen:c().oneOfType([c().bool,c().oneOf(["sm","md","lg","xl"])]),innerRef:c().oneOfType([c().object,c().string,c().func]),isOpen:c().bool,keyboard:c().bool,labelledBy:c().string,modalClassName:c().string,modalTransition:e3,onClosed:c().func,onEnter:c().func,onExit:c().func,onOpened:c().func,returnFocusAfterClose:c().bool,role:c().string,scrollable:c().bool,size:c().string,toggle:c().func,trapFocus:c().bool,unmountOnClose:c().bool,wrapClassName:c().string,zIndex:c().oneOfType([c().number,c().string])},n3=Object.keys(t3),r3={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:Z4,onClosed:Z4,modalTransition:{timeout:S},backdropTransition:{mountOnEnter:!0,timeout:E},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},i3=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$4(e,t)}(o,e);var t,n,r,s=Q4(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=s.call(this,e))._element=null,t._originalBodyPadding=null,t.getFocusableChildren=t.getFocusableChildren.bind(X4(t)),t.handleBackdropClick=t.handleBackdropClick.bind(X4(t)),t.handleBackdropMouseDown=t.handleBackdropMouseDown.bind(X4(t)),t.handleEscape=t.handleEscape.bind(X4(t)),t.handleStaticBackdropAnimation=t.handleStaticBackdropAnimation.bind(X4(t)),t.handleTab=t.handleTab.bind(X4(t)),t.onOpened=t.onOpened.bind(X4(t)),t.onClosed=t.onClosed.bind(X4(t)),t.manageFocusAfterClose=t.manageFocusAfterClose.bind(X4(t)),t.clearBackdropAnimationTimeout=t.clearBackdropAnimationTimeout.bind(X4(t)),t.trapFocus=t.trapFocus.bind(X4(t)),t.state={isOpen:!1,showStaticBackdropAnimation:!1},t}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isOpen,n=e.autoFocus,r=e.onEnter;t&&(this.init(),this.setState({isOpen:!0}),n&&this.setFocus()),r&&r(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){if(this.props.isOpen&&!e.isOpen)return this.init(),void this.setState({isOpen:!0});this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus(),this._element&&e.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)}},{key:"componentWillUnmount",value:function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1}},{key:"handleBackdropClick",value:function(e){if(e.target===this._mouseDownElement){e.stopPropagation();var t=this._dialog?this._dialog.parentNode:null;if(t&&e.target===t&&"static"===this.props.backdrop&&this.handleStaticBackdropAnimation(),!this.props.isOpen||!0!==this.props.backdrop)return;t&&e.target===t&&this.props.toggle&&this.props.toggle(e)}}},{key:"handleTab",value:function(e){if(9===e.which&&!(this.modalIndex<o.openCount-1)){var t=this.getFocusableChildren(),n=t.length;if(0!==n){for(var r=this.getFocusedChild(),i=0,s=0;s<n;s+=1)if(t[s]===r){i=s;break}e.shiftKey&&0===i?(e.preventDefault(),t[n-1].focus()):e.shiftKey||i!==n-1||(e.preventDefault(),t[0].focus())}}}},{key:"handleBackdropMouseDown",value:function(e){this._mouseDownElement=e.target}},{key:"handleEscape",value:function(e){this.props.isOpen&&e.keyCode===P.esc&&this.props.toggle&&(this.props.keyboard?(e.preventDefault(),e.stopPropagation(),this.props.toggle(e)):"static"===this.props.backdrop&&(e.preventDefault(),e.stopPropagation(),this.handleStaticBackdropAnimation()))}},{key:"handleStaticBackdropAnimation",value:function(){var e=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout((function(){e.setState({showStaticBackdropAnimation:!1})}),100)}},{key:"onOpened",value:function(e,t){this.props.onOpened(),(this.props.modalTransition.onEntered||Z4)(e,t)}},{key:"onClosed",value:function(e){var t=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||Z4)(e),t&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})}},{key:"setFocus",value:function(){this._dialog&&this._dialog.parentNode&&"function"===typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()}},{key:"getFocusableChildren",value:function(){return this._element.querySelectorAll(j.join(", "))}},{key:"getFocusedChild",value:function(){var e,t=this.getFocusableChildren();try{e=document.activeElement}catch(n){e=t[0]}return e}},{key:"trapFocus",value:function(e){if(this.props.trapFocus&&this._element&&(!this._dialog||this._dialog.parentNode!==e.target)&&!(this.modalIndex<o.openCount-1)){for(var t=this.getFocusableChildren(),n=0;n<t.length;n+=1)if(t[n]===e.target)return;t.length>0&&(e.preventDefault(),e.stopPropagation(),t[0].focus())}}},{key:"init",value:function(){try{this._triggeringElement=document.activeElement}catch(e){this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=F(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=function(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)}(),o.openCount<1&&(o.originalBodyOverflow=window.getComputedStyle(document.body).overflow),f(),0===o.openCount&&(document.body.className=u()(document.body.className,p("modal-open",this.props.cssModule)),document.body.style.overflow="hidden"),this.modalIndex=o.openCount,o.openCount+=1}},{key:"destroy",value:function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()}},{key:"manageFocusAfterClose",value:function(){if(this._triggeringElement){var e=this.props.returnFocusAfterClose;this._triggeringElement.focus&&e&&this._triggeringElement.focus(),this._triggeringElement=null}}},{key:"close",value:function(){if(o.openCount<=1){var e=p("modal-open",this.props.cssModule),t=new RegExp("(^| )".concat(e,"( |$)"));document.body.className=document.body.className.replace(t," ").trim(),document.body.style.overflow=o.originalBodyOverflow}this.manageFocusAfterClose(),o.openCount=Math.max(0,o.openCount-1),d(this._originalBodyPadding)}},{key:"clearBackdropAnimationTimeout",value:function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)}},{key:"renderModalDialog",value:function(){var e,t=this,n=g(this.props,n3),r="modal-dialog";return i.createElement("div",G4({},n,{className:p(u()(r,this.props.className,(e={},K4(e,"modal-".concat(this.props.size),this.props.size),K4(e,"".concat(r,"-centered"),this.props.centered),K4(e,"".concat(r,"-scrollable"),this.props.scrollable),K4(e,"modal-fullscreen",!0===this.props.fullscreen),K4(e,"modal-fullscreen-".concat(this.props.fullscreen,"-down"),"string"===typeof this.props.fullscreen),e)),this.props.cssModule),role:"document",ref:function(e){t._dialog=e}}),i.createElement("div",{className:p(u()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))}},{key:"render",value:function(){var e=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!e)){var t=!!this._element&&!this.state.isOpen&&!e;this._element.style.display=t?"none":"block";var n=this.props,r=n.wrapClassName,s=n.modalClassName,o=n.backdropClassName,a=n.cssModule,c=n.isOpen,l=n.backdrop,h=n.role,d=n.labelledBy,f=n.external,g=n.innerRef,m={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":d,"aria-modal":!0,role:h,tabIndex:"-1"},v=this.props.fade,y=q4(q4(q4({},lt.defaultProps),this.props.modalTransition),{},{baseClass:v?this.props.modalTransition.baseClass:"",timeout:v?this.props.modalTransition.timeout:0}),b=q4(q4(q4({},lt.defaultProps),this.props.backdropTransition),{},{baseClass:v?this.props.backdropTransition.baseClass:"",timeout:v?this.props.backdropTransition.timeout:0}),w=l&&(v?i.createElement(lt,G4({},b,{in:c&&!!l,cssModule:a,className:p(u()("modal-backdrop",o),a)})):i.createElement("div",{className:p(u()("modal-backdrop","show",o),a)}));return i.createElement(V4,{node:this._element},i.createElement("div",{className:p(r)},i.createElement(lt,G4({},m,y,{in:c,onEntered:this.onOpened,onExited:this.onClosed,cssModule:a,className:p(u()("modal",s,this.state.showStaticBackdropAnimation&&"modal-static"),a),innerRef:g}),f,this.renderModalDialog()),w))}return null}}])&&Y4(t.prototype,n),r&&Y4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.Component);i3.propTypes=t3,i3.defaultProps=r3,i3.openCount=0,i3.originalBodyOverflow=null;const s3=i3;var o3=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","close"];function a3(){return a3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a3.apply(this,arguments)}function c3(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l3={children:c().node,className:c().string,close:c().object,closeAriaLabel:c().string,cssModule:c().object,tag:x,toggle:c().func,wrapTag:x};function u3(e){var t,n=e.className,r=e.cssModule,s=e.children,o=e.toggle,a=e.tag,c=void 0===a?"h5":a,l=e.wrapTag,h=void 0===l?"div":l,d=e.closeAriaLabel,f=void 0===d?"Close":d,g=e.close,m=c3(e,o3),v=p(u()(n,"modal-header"),r);return!g&&o&&(t=i.createElement("button",{type:"button",onClick:o,className:p("btn-close",r),"aria-label":f})),i.createElement(h,a3({},m,{className:v}),i.createElement(c,{className:p("modal-title",r)},s),g||t)}u3.propTypes=l3;const h3=u3;var d3=["className","cssModule","tag"];function f3(){return f3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f3.apply(this,arguments)}function p3(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var g3={className:c().string,cssModule:c().object,tag:x};function m3(e){var t=e.className,n=e.cssModule,r=e.tag,s=void 0===r?"div":r,o=p3(e,d3),a=p(u()(t,"modal-body"),n);return i.createElement(s,f3({},o,{className:a}))}m3.propTypes=g3;const v3=m3;var y3=["className","cssModule","tag"];function b3(){return b3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b3.apply(this,arguments)}function w3(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _3={className:c().string,cssModule:c().object,tag:x};function x3(e){var t=e.className,n=e.cssModule,r=e.tag,s=void 0===r?"div":r,o=w3(e,y3),a=p(u()(t,"modal-footer"),n);return i.createElement(s,b3({},o,{className:a}))}x3.propTypes=_3;const E3=x3;var T3=["className","cssModule","color","innerRef","pill","tag"];function S3(){return S3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S3.apply(this,arguments)}function k3(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var C3={children:c().node,className:c().string,color:c().string,cssModule:c().object,innerRef:c().oneOfType([c().object,c().func,c().string]),pill:c().bool,tag:x};function I3(e){var t=e.className,n=e.cssModule,r=e.color,s=void 0===r?"secondary":r,o=e.innerRef,a=e.pill,c=void 0!==a&&a,l=e.tag,h=void 0===l?"span":l,d=k3(e,T3),f=p(u()(t,"badge","bg-"+s,!!c&&"rounded-pill"),n);return d.href&&"span"===h&&(h="a"),i.createElement(h,S3({},d,{className:f,ref:o}))}I3.propTypes=C3;const O3=I3,A3=e=>{let{productStages:t,initialKey:n}=e;const[r,s]=(0,i.useState)(null),o=(e=>{const n=[],r=[e],i=new Set;for(;r.length>0;){const e=r.shift();t[e]&&!i.has(e)&&(i.add(e),n.push(e),t[e].forEach((e=>{r.push(e.OutputProducts)})))}return n})(n),a=e=>{s(r===e?null:e)};return(0,VR.jsxs)("div",{className:"timeline-container",children:[(0,VR.jsx)("div",{className:"timeline-line"}),(0,VR.jsx)("div",{className:"timeline-event-container",children:o.map(((e,n)=>(0,VR.jsxs)("div",{className:"timeline-event ".concat(n%2===0?"top":"bottom"),children:[(0,VR.jsx)("div",{className:"timeline-vertical-line"}),(0,VR.jsx)("div",{className:"timeline-circle",onClick:()=>a(e),title:"Click to see details of ".concat(e),children:(0,VR.jsx)("span",{className:"tick-icon",children:"+"})}),(0,VR.jsx)("p",{className:"timeline-label text-white mb-3",onClick:()=>a(e),style:{cursor:"pointer"},children:e}),r===e&&(0,VR.jsxs)("div",{className:"event-details ".concat(n%2===0?"details-below":"details-above"),children:[(0,VR.jsx)("div",{className:"event-heading",children:(0,VR.jsx)(O3,{color:"info",children:t[e][0].EventType.toUpperCase()})}),t[e].map(((e,t)=>(0,VR.jsx)(me,{className:"text-left colorful-card",children:(0,VR.jsxs)(Be,{children:[(0,VR.jsx)("h5",{className:"mb-1 font-weight-bold text-primary",children:e.Name}),(0,VR.jsx)("p",{className:"byproducts-text mb-0",children:e.ByProducts?(0,VR.jsxs)("span",{children:[(0,VR.jsx)("strong",{children:"By-products:"})," ",e.ByProducts]}):(0,VR.jsx)("span",{children:"No By-products Available"})})]})},t)))]})]},e)))})]})};const P3=function(){const[e,t]=(0,i.useState)(null),[r,s]=(0,i.useState)(""),[o,a]=(0,i.useState)({}),[c,l]=(0,i.useState)(!0),[u,h]=(0,i.useState)({}),[d,f]=(0,i.useState)([]),[p,g]=(0,i.useState)(!1),[m,v]=(0,i.useState)(""),[y,b]=(0,i.useState)([]),[w,_]=(0,i.useState)({}),[x,E]=(0,i.useState)({}),{currentUser:T,userKeys:S}=(0,i.useContext)(WR),[k,C]=(0,i.useState)(!1),I=()=>g(!p),O=jD(),A={signerPublicKey:null===S||void 0===S?void 0:S.publicKey,signerPrivateKey:null===S||void 0===S?void 0:S.privateKey},P=async e=>{let t=[],n={},i={};try{const s=Object.values(w).map((async e=>{var s,o;const a=((e,t)=>{const n=(0,Nr.Z)((0,Nr.Z)({},t.info),{},{ByProducts:"",ClaimedByproducts:t.info.ByProducts});return'{\n    operation: "CREATE",\n    amount: 100,\n    signerPublicKey: "'.concat(null===e||void 0===e?void 0:e.signerPublicKey,'",\n    signerPrivateKey: "').concat(null===e||void 0===e?void 0:e.signerPrivateKey,'",\n    recipientPublicKey: "').concat(t.recipientPublicKey,'",,\n     asset: """{\n      "data": ').concat(JSON.stringify(n),'\n    }"""\n    }')})(A,e),c=await jR((l=a,"mutation {\n  postTransaction(data: ".concat(l,"){\n  id\n  }\n}")));var l;const u=r,h=null===c||void 0===c||null===(s=c.data)||void 0===s||null===(o=s.postTransaction)||void 0===o?void 0:o.id;if(h){n[u]||(n[u]=[]),n[u].push(h);const e=new Date,t="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"));i[t]||(i[t]={txnCount:0,products:new Set}),i[t].txnCount+=1,i[t].products.add(u)}t.push(e.key)}));await Promise.all(s),await hU(A.signerPublicKey,n,i),await(async(e,t)=>{const n=qP.collection("products").doc(e);try{await n.update({txnIds:GP.arrayRemove(...t)}),console.log("Successfully removed transaction IDs from ".concat(e))}catch(iu){console.error("Error removing transaction IDs:",iu)}})(r,t),E((t=>(0,Nr.Z)((0,Nr.Z)({},t),Object.fromEntries(e.map((e=>[e,!0])))))),console.log("Claimed Objects:",e),alert("Claim Successful!")}catch(iu){}};(0,i.useEffect)((()=>{(async()=>{if(d.length>0)try{let n={},r={},i={};for(const t of d){const s=await jR(zR(t));if(s&&s.data){var e;let o=JSON.parse(s.data.getTransaction.asset.replace(/'/g,'"')).data,a=null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.getTransaction.signerPublicKey,c=o.OutputProducts,l=o.InputProduct;n[l]||(n[l]=[]),c==l?r=o:n[l].push(o),"None"!=o.ByProducts&&""!=o.ByProducts&&(i[o.ByProducts]||(i[o.ByProducts]=[]),i[o.ByProducts].push({key:t,info:o,recipientPublicKey:a}))}await new Promise((e=>setTimeout(e,5)))}a(r),t(n),console.log(n),h(i)}catch(iu){l(!1),console.log("Product tracking error ",iu)}})()}),[d]);const N=async()=>{console.log("Tracking product: ",r),t({}),l(!0),f([]),""!=r?await(async()=>{const e=qP.collection("products").doc(r);try{const t=await e.get();if(t.exists){const e=t.data();f(e.txnIds||[])}else l(!1),console.log("No transactions found for product: ".concat(r))}catch(iu){l(!1),console.error("Error fetching transactions from Firestore:",iu)}})():l(!1)};return(0,VR.jsx)(VR.Fragment,{children:(0,VR.jsxs)("div",{className:"wrapper",children:[(0,VR.jsxs)("div",{className:"page-header",children:[(0,VR.jsx)("img",{alt:"...",className:"path",src:n(304)}),(0,VR.jsxs)("div",{className:"content-center",children:[(0,VR.jsxs)(Z,{className:"row-grid justify-content-between align-items-center text-left",children:[(0,VR.jsxs)(ue,{lg:"6",md:"6",children:[(0,VR.jsxs)("h1",{className:"text-white",children:["We keep your food ",(0,VR.jsx)("br",{}),(0,VR.jsx)("span",{className:"text-white",children:"secured"})]}),(0,VR.jsx)("p",{className:"text-white mb-3",children:"Each one of your products is unique. Access to the footprint of your product from farm to fork and beyond."})]}),(0,VR.jsx)(ue,{lg:"4",md:"5",children:(0,VR.jsx)("img",{alt:"...",className:"img-fluid",src:n(4644)})})]}),(0,VR.jsx)(Z,{children:(0,VR.jsxs)(H,{children:[(0,VR.jsx)(Z,{className:"justify-content-between",children:(0,VR.jsxs)(ue,{children:[(0,VR.jsx)(me,{children:(0,VR.jsxs)(Be,{children:[(0,VR.jsx)(Vt,{type:"text",placeholder:"Track your product's tale.",onChange:e=>s(e.target.value),required:!0}),(0,VR.jsx)("p",{className:"text-white mb-3",style:{marginTop:"1rem"},children:"Try the sample with 'Pinot Noir bottle of wine'"})]})}),(0,VR.jsx)("div",{className:"btn-wrapper",children:(0,VR.jsxs)(kn,{className:"btn-simple",color:"info",href:"#pablo",onClick:async e=>{e.preventDefault(),setTimeout((()=>{var e;null===(e=document.getElementById("track-section"))||void 0===e||e.scrollIntoView({behavior:"smooth"})}),100),C(!0),N()},children:[(0,VR.jsx)("i",{className:"tim-icons icon-bulb-63"})," Track"]})})]})}),(0,VR.jsx)(Z,{className:"justify-content-between",children:(0,VR.jsx)(ue,{style:{marginTop:"1rem"},children:(0,VR.jsxs)("p",{className:"text-white mb-3 font-italic",children:["Do you want to discover Carbon Footprint of your plate?\xa0",(0,VR.jsx)("a",{href:"https://amoolya-reddy.github.io/respirer/",target:"_blank",rel:"noopener noreferrer",children:"Try Respirer"})]})})})]})})]})]}),e&&Object.keys(e).length>0?(0,VR.jsx)("div",{className:"section",id:"track-section",children:(0,VR.jsxs)(H,{children:[(0,VR.jsxs)(D4,{className:"alert-with-icon",color:"success",children:[(0,VR.jsx)("span",{"data-notify":"icon",className:"tim-icons icon-bulb-63"}),(0,VR.jsxs)("span",{children:[(0,VR.jsx)("b",{children:"Voila! "}),"Here\u2019s the path builded with purpose, the path shaped with traceability for sustainability."]})]}),(0,VR.jsx)("div",{}),(0,VR.jsxs)("div",{className:"timeline-header",children:[(0,VR.jsxs)("h5",{style:{color:"#39d884"},children:["Food Supply Chain of ",r]}),(0,VR.jsxs)("p",{className:"timeline-subtitle",children:["Tap ",(0,VR.jsx)("span",{style:{color:"#39d884"},children:"+"})," on timeline to view more details"]})]}),(0,VR.jsx)(A3,{productStages:e,initialKey:o.InputProduct}),(0,VR.jsxs)("div",{className:"byproducts-container",children:[(0,VR.jsx)("h4",{className:"byproducts-title",children:"BY-PRODUCTS"}),(0,VR.jsx)("ul",{className:"byproducts-list",children:Object.entries(u).map((e=>{let[t,n]=e;return(0,VR.jsxs)("li",{className:"byproduct-item",children:[(0,VR.jsx)("h5",{className:"byproduct-name",children:t}),(0,VR.jsx)(kn,{color:"primary",onClick:()=>((e,t)=>{v(e),b(t),_({}),I()})(t,n),children:"Claim"})]},t)}))}),(0,VR.jsxs)(s3,{isOpen:p,toggle:I,children:[(0,VR.jsxs)(h3,{children:[(0,VR.jsxs)("div",{className:"text-white byproducts",children:["Select the sources to claim ",m]}),(0,VR.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true",onClick:I,children:(0,VR.jsx)("i",{className:"tim-icons icon-simple-remove"})})]}),(0,VR.jsx)(v3,{children:y.map(((e,t)=>(0,VR.jsxs)("div",{children:[e.info.Name," - ",e.info.Description,(0,VR.jsx)("div",{className:"float-right",children:(0,VR.jsx)(Vt,{type:"checkbox",checked:w[e.key]||!1,onChange:()=>(e=>{_((t=>{const n=(0,Nr.Z)({},t);return n[e.key]?delete n[e.key]:n[e.key]=e,n}))})(e),disabled:x&&x[e.key]})})]},e.key)))}),(0,VR.jsxs)(E3,{children:[null==T?(0,VR.jsxs)(kn,{className:"btn-simple",color:"info",onClick:()=>O("/login"),children:[(0,VR.jsx)("i",{className:"tim-icons icon-badge"})," Please log in to claim"]}):(0,VR.jsx)(kn,{color:"success",onClick:async()=>{const e=Object.values(w).map((e=>e.key));if(0===e.length)return alert("Please select at least one item to claim."),void I();await P(e),I()},children:"Claim"}),(0,VR.jsx)(kn,{color:"secondary",onClick:I,children:"Cancel"})]})]})]})]})}):(0,VR.jsx)("div",{className:k?"section":"",id:"track-section",children:c?k?(0,VR.jsxs)("div",{className:"loading-indicator",children:[(0,VR.jsx)("div",{className:"loading-spinner"}),(0,VR.jsx)("p",{children:"Building Your Product's Journey..."})]}):null:(0,VR.jsx)("h2",{className:"section text-danger text-center",children:"Product not found!"})})]})})},N3=()=>(0,VR.jsxs)(VR.Fragment,{children:[(0,VR.jsx)(cU,{}),(0,VR.jsx)(P3,{})]});const R3=function(){return(0,VR.jsx)("div",{children:(0,VR.jsx)(sM,{basename:"",children:(0,VR.jsx)(qR,{children:(0,VR.jsxs)(ZD,{children:[(0,VR.jsx)(XD,{exact:!0,path:"/",element:(0,VR.jsx)(hK,{})}),(0,VR.jsx)(XD,{exact:!0,path:"/login",element:(0,VR.jsx)(fK,{})}),(0,VR.jsx)(XD,{exact:!0,path:"/register",element:(0,VR.jsx)(lU,{})}),(0,VR.jsx)(XD,{exact:!0,path:"/inventory",element:(0,VR.jsx)(S4,{})}),(0,VR.jsx)(XD,{exact:!0,path:"/track",element:(0,VR.jsx)(N3,{})})]})})})})};o.createRoot(document.getElementById("root")).render((0,VR.jsx)(i.StrictMode,{children:(0,VR.jsx)(R3,{})}))})()})();
//# sourceMappingURL=main.43fb1653.js.map